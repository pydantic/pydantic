
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Data validation using Python type hints">
      
      
      
        <link rel="canonical" href="https://docs.pydantic.dev/latest/api/json_schema/">
      
      
        <link rel="prev" href="../config/">
      
      
        <link rel="next" href="../errors/">
      
      
      <link rel="icon" href="../../favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>JSON Schema - Pydantic Validation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../extra/terminal.css">
    
      <link rel="stylesheet" href="../../extra/tweaks.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="JSON Schema - Pydantic Validation" >
      
        <meta  property="og:description"  content="Data validation using Python type hints" >
      
        <meta  property="og:image"  content="https://docs.pydantic.dev/latest/assets/images/social/api/json_schema.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://docs.pydantic.dev/latest/api/json_schema/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="JSON Schema - Pydantic Validation" >
      
        <meta  name="twitter:description"  content="Data validation using Python type hints" >
      
        <meta  name="twitter:image"  content="https://docs.pydantic.dev/latest/assets/images/social/api/json_schema.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pydantic.json_schema" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </button>
            
            
  <!-- the following line is displayed in the announcement bar -->
<!-- keep length under 164 characters (less HTML tags) to fit on 1280px desktop window -->
What's new &mdash; we've launched
<a href="https://pydantic.dev/articles/logfire-announcement">Pydantic Logfire</a>
<img alt="ðŸ”¥" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/1f525.svg" title=":fire:">
to help you monitor and understand your
<a href="https://logfire.pydantic.dev/docs/integrations/pydantic/" id="logfire-app-type" target="_blank">Pydantic validations.</a>

          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Pydantic Validation" class="md-header__button md-logo" aria-label="Pydantic Validation" data-md-component="logo">
      
  <img src="../../logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pydantic Validation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              JSON Schema
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" id="searchbox" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" required="">
      <label class="md-search__icon md-icon" for="__search">

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">

        <button id="searchbox-clear" type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">

          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
        </button>
      </nav>

        <div class="md-search__suggest"></div>

    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0">
        <div class="md-search-result">
          <div class="md-search-result__meta" id="type-to-start-searching">Type to start searching</div>
          <ol class="md-search-result__list" id="hits" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/pydantic/pydantic" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    pydantic/pydantic
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  Get Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../concepts/models/" class="md-tabs__link">
          
  
  Concepts

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../base_model/" class="md-tabs__link">
          
  
  API Documentation

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../internals/architecture/" class="md-tabs__link">
          
  
  Internals

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../examples/files/" class="md-tabs__link">
          
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../errors/errors/" class="md-tabs__link">
          
  
  Error Messages

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../integrations/logfire/" class="md-tabs__link">
          
  
  Integrations

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://blog.pydantic.dev/" class="md-tabs__link">
        
  
    
  
  Blog

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../pydantic_people/" class="md-tabs__link">
        
  
    
  
  Pydantic People

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Pydantic Validation" class="md-nav__button md-logo" aria-label="Pydantic Validation" data-md-component="logo">
      
  <img src="../../logo-white.svg" alt="logo">

    </a>
    Pydantic Validation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pydantic/pydantic" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    pydantic/pydantic
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Get Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Get Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to Pydantic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../why/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why use Pydantic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../help_with_pydantic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Help with Pydantic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migration Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../version-policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Version Policy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fields
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/json_schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON Schema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/json/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/unions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/alias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/serialization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serialization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/validators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/dataclasses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataclasses
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/forward_annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Forward Annotations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/strict_mode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Strict Mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/type_adapter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Type Adapter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/validation_decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validation Decorator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/conversion_table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conversion Table
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/pydantic_settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Settings Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/performance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/experimental/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experimental
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" checked>
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Pydantic
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Pydantic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../base_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BaseModel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../root_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RootModel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataclasses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pydantic Dataclasses
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../type_adapter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TypeAdapter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../validate_call/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validate Call
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fields
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aliases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aliases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    JSON Schema
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    JSON Schema
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema" class="md-nav__link">
    <span class="md-ellipsis">
      json_schema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.CoreSchemaOrFieldType" class="md-nav__link">
    <span class="md-ellipsis">
      CoreSchemaOrFieldType
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.JsonSchemaValue" class="md-nav__link">
    <span class="md-ellipsis">
      JsonSchemaValue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.JsonSchemaMode" class="md-nav__link">
    <span class="md-ellipsis">
      JsonSchemaMode
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.JsonSchemaWarningKind" class="md-nav__link">
    <span class="md-ellipsis">
      JsonSchemaWarningKind
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.NoDefault" class="md-nav__link">
    <span class="md-ellipsis">
      NoDefault
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.DEFAULT_REF_TEMPLATE" class="md-nav__link">
    <span class="md-ellipsis">
      DEFAULT_REF_TEMPLATE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.PydanticJsonSchemaWarning" class="md-nav__link">
    <span class="md-ellipsis">
      PydanticJsonSchemaWarning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema" class="md-nav__link">
    <span class="md-ellipsis">
      GenerateJsonSchema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GenerateJsonSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.ValidationsMapping" class="md-nav__link">
    <span class="md-ellipsis">
      ValidationsMapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.build_schema_type_to_method" class="md-nav__link">
    <span class="md-ellipsis">
      build_schema_type_to_method
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generate_definitions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_definitions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generate" class="md-nav__link">
    <span class="md-ellipsis">
      generate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generate_inner" class="md-nav__link">
    <span class="md-ellipsis">
      generate_inner
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.sort" class="md-nav__link">
    <span class="md-ellipsis">
      sort
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.invalid_schema" class="md-nav__link">
    <span class="md-ellipsis">
      invalid_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.any_schema" class="md-nav__link">
    <span class="md-ellipsis">
      any_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.none_schema" class="md-nav__link">
    <span class="md-ellipsis">
      none_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.bool_schema" class="md-nav__link">
    <span class="md-ellipsis">
      bool_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.int_schema" class="md-nav__link">
    <span class="md-ellipsis">
      int_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.float_schema" class="md-nav__link">
    <span class="md-ellipsis">
      float_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.decimal_schema" class="md-nav__link">
    <span class="md-ellipsis">
      decimal_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.str_schema" class="md-nav__link">
    <span class="md-ellipsis">
      str_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.bytes_schema" class="md-nav__link">
    <span class="md-ellipsis">
      bytes_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.date_schema" class="md-nav__link">
    <span class="md-ellipsis">
      date_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.time_schema" class="md-nav__link">
    <span class="md-ellipsis">
      time_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.datetime_schema" class="md-nav__link">
    <span class="md-ellipsis">
      datetime_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.timedelta_schema" class="md-nav__link">
    <span class="md-ellipsis">
      timedelta_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.literal_schema" class="md-nav__link">
    <span class="md-ellipsis">
      literal_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.missing_sentinel_schema" class="md-nav__link">
    <span class="md-ellipsis">
      missing_sentinel_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.enum_schema" class="md-nav__link">
    <span class="md-ellipsis">
      enum_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.is_instance_schema" class="md-nav__link">
    <span class="md-ellipsis">
      is_instance_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.is_subclass_schema" class="md-nav__link">
    <span class="md-ellipsis">
      is_subclass_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.callable_schema" class="md-nav__link">
    <span class="md-ellipsis">
      callable_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.list_schema" class="md-nav__link">
    <span class="md-ellipsis">
      list_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.tuple_positional_schema" class="md-nav__link">
    <span class="md-ellipsis">
      tuple_positional_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.tuple_variable_schema" class="md-nav__link">
    <span class="md-ellipsis">
      tuple_variable_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.tuple_schema" class="md-nav__link">
    <span class="md-ellipsis">
      tuple_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.set_schema" class="md-nav__link">
    <span class="md-ellipsis">
      set_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.frozenset_schema" class="md-nav__link">
    <span class="md-ellipsis">
      frozenset_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generator_schema" class="md-nav__link">
    <span class="md-ellipsis">
      generator_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.dict_schema" class="md-nav__link">
    <span class="md-ellipsis">
      dict_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.function_before_schema" class="md-nav__link">
    <span class="md-ellipsis">
      function_before_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.function_after_schema" class="md-nav__link">
    <span class="md-ellipsis">
      function_after_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.function_plain_schema" class="md-nav__link">
    <span class="md-ellipsis">
      function_plain_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.function_wrap_schema" class="md-nav__link">
    <span class="md-ellipsis">
      function_wrap_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.default_schema" class="md-nav__link">
    <span class="md-ellipsis">
      default_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_default_value" class="md-nav__link">
    <span class="md-ellipsis">
      get_default_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.nullable_schema" class="md-nav__link">
    <span class="md-ellipsis">
      nullable_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.union_schema" class="md-nav__link">
    <span class="md-ellipsis">
      union_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_union_of_schemas" class="md-nav__link">
    <span class="md-ellipsis">
      get_union_of_schemas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.tagged_union_schema" class="md-nav__link">
    <span class="md-ellipsis">
      tagged_union_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.chain_schema" class="md-nav__link">
    <span class="md-ellipsis">
      chain_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.lax_or_strict_schema" class="md-nav__link">
    <span class="md-ellipsis">
      lax_or_strict_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.json_or_python_schema" class="md-nav__link">
    <span class="md-ellipsis">
      json_or_python_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.typed_dict_schema" class="md-nav__link">
    <span class="md-ellipsis">
      typed_dict_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.typed_dict_field_schema" class="md-nav__link">
    <span class="md-ellipsis">
      typed_dict_field_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.dataclass_field_schema" class="md-nav__link">
    <span class="md-ellipsis">
      dataclass_field_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.model_field_schema" class="md-nav__link">
    <span class="md-ellipsis">
      model_field_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.computed_field_schema" class="md-nav__link">
    <span class="md-ellipsis">
      computed_field_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.model_schema" class="md-nav__link">
    <span class="md-ellipsis">
      model_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.resolve_ref_schema" class="md-nav__link">
    <span class="md-ellipsis">
      resolve_ref_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.model_fields_schema" class="md-nav__link">
    <span class="md-ellipsis">
      model_fields_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.field_is_present" class="md-nav__link">
    <span class="md-ellipsis">
      field_is_present
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.field_is_required" class="md-nav__link">
    <span class="md-ellipsis">
      field_is_required
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.dataclass_args_schema" class="md-nav__link">
    <span class="md-ellipsis">
      dataclass_args_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.dataclass_schema" class="md-nav__link">
    <span class="md-ellipsis">
      dataclass_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.arguments_schema" class="md-nav__link">
    <span class="md-ellipsis">
      arguments_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.kw_arguments_schema" class="md-nav__link">
    <span class="md-ellipsis">
      kw_arguments_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.p_arguments_schema" class="md-nav__link">
    <span class="md-ellipsis">
      p_arguments_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_argument_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_argument_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.arguments_v3_schema" class="md-nav__link">
    <span class="md-ellipsis">
      arguments_v3_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.call_schema" class="md-nav__link">
    <span class="md-ellipsis">
      call_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.custom_error_schema" class="md-nav__link">
    <span class="md-ellipsis">
      custom_error_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.json_schema" class="md-nav__link">
    <span class="md-ellipsis">
      json_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.url_schema" class="md-nav__link">
    <span class="md-ellipsis">
      url_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.multi_host_url_schema" class="md-nav__link">
    <span class="md-ellipsis">
      multi_host_url_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.uuid_schema" class="md-nav__link">
    <span class="md-ellipsis">
      uuid_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.definitions_schema" class="md-nav__link">
    <span class="md-ellipsis">
      definitions_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.definition_ref_schema" class="md-nav__link">
    <span class="md-ellipsis">
      definition_ref_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.ser_schema" class="md-nav__link">
    <span class="md-ellipsis">
      ser_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.complex_schema" class="md-nav__link">
    <span class="md-ellipsis">
      complex_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_title_from_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_title_from_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.field_title_should_be_set" class="md-nav__link">
    <span class="md-ellipsis">
      field_title_should_be_set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.normalize_name" class="md-nav__link">
    <span class="md-ellipsis">
      normalize_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_defs_ref" class="md-nav__link">
    <span class="md-ellipsis">
      get_defs_ref
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_cache_defs_ref_schema" class="md-nav__link">
    <span class="md-ellipsis">
      get_cache_defs_ref_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.handle_ref_overrides" class="md-nav__link">
    <span class="md-ellipsis">
      handle_ref_overrides
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.encode_default" class="md-nav__link">
    <span class="md-ellipsis">
      encode_default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.update_with_validations" class="md-nav__link">
    <span class="md-ellipsis">
      update_with_validations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_json_ref_counts" class="md-nav__link">
    <span class="md-ellipsis">
      get_json_ref_counts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.emit_warning" class="md-nav__link">
    <span class="md-ellipsis">
      emit_warning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.render_warning_message" class="md-nav__link">
    <span class="md-ellipsis">
      render_warning_message
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.WithJsonSchema" class="md-nav__link">
    <span class="md-ellipsis">
      WithJsonSchema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.Examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.SkipJsonSchema" class="md-nav__link">
    <span class="md-ellipsis">
      SkipJsonSchema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.model_json_schema" class="md-nav__link">
    <span class="md-ellipsis">
      model_json_schema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.models_json_schema" class="md-nav__link">
    <span class="md-ellipsis">
      models_json_schema
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../errors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Errors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functional_validators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functional Validators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../functional_serializers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functional Serializers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../standard_library_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standard Library Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pydantic Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../networks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../version/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Version Information
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../annotated_handlers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotated Handlers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experimental
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Pydantic Core
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Pydantic Core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pydantic_core
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_core_schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pydantic_core.core_schema
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pydantic Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Pydantic Extra Types
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Pydantic Extra Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_color/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Color
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_country/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Country
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_payment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Payment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_phone_numbers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phone Numbers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_routing_numbers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Routing Numbers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_coordinate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coordinate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_mac_address/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mac Address
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_isbn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ISBN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_pendulum_dt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pendulum
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_currency_code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Currency
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_language_code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Language
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_script_code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Script Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_semantic_version/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Semantic Version
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_timezone_name/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timezone Name
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_ulid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ULID
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Internals
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Internals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/resolving_annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resolving Annotations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validating File Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/requests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web and API Requests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/queues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Queues
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/orms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Databases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/custom_validators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Validators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/dynamic_models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dynamic models
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Error Messages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Error Messages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../errors/errors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Error Handling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../errors/validation_errors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validation Errors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../errors/usage_errors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage Errors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Integrations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/logfire/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pydantic Logfire
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/llms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LLMs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dev Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Dev Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/mypy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mypy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/pyrefly/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pyrefly
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/pycharm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PyCharm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/hypothesis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hypothesis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/visual_studio_code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visual Studio Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/datamodel_code_generator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    datamodel-code-generator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/devtools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    devtools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/rich/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rich
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/linting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Production Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Production Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/aws_lambda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Lambda
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://blog.pydantic.dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pydantic_people/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pydantic People
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema" class="md-nav__link">
    <span class="md-ellipsis">
      json_schema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.CoreSchemaOrFieldType" class="md-nav__link">
    <span class="md-ellipsis">
      CoreSchemaOrFieldType
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.JsonSchemaValue" class="md-nav__link">
    <span class="md-ellipsis">
      JsonSchemaValue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.JsonSchemaMode" class="md-nav__link">
    <span class="md-ellipsis">
      JsonSchemaMode
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.JsonSchemaWarningKind" class="md-nav__link">
    <span class="md-ellipsis">
      JsonSchemaWarningKind
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.NoDefault" class="md-nav__link">
    <span class="md-ellipsis">
      NoDefault
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.DEFAULT_REF_TEMPLATE" class="md-nav__link">
    <span class="md-ellipsis">
      DEFAULT_REF_TEMPLATE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.PydanticJsonSchemaWarning" class="md-nav__link">
    <span class="md-ellipsis">
      PydanticJsonSchemaWarning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema" class="md-nav__link">
    <span class="md-ellipsis">
      GenerateJsonSchema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GenerateJsonSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.ValidationsMapping" class="md-nav__link">
    <span class="md-ellipsis">
      ValidationsMapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.build_schema_type_to_method" class="md-nav__link">
    <span class="md-ellipsis">
      build_schema_type_to_method
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generate_definitions" class="md-nav__link">
    <span class="md-ellipsis">
      generate_definitions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generate" class="md-nav__link">
    <span class="md-ellipsis">
      generate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generate_inner" class="md-nav__link">
    <span class="md-ellipsis">
      generate_inner
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.sort" class="md-nav__link">
    <span class="md-ellipsis">
      sort
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.invalid_schema" class="md-nav__link">
    <span class="md-ellipsis">
      invalid_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.any_schema" class="md-nav__link">
    <span class="md-ellipsis">
      any_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.none_schema" class="md-nav__link">
    <span class="md-ellipsis">
      none_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.bool_schema" class="md-nav__link">
    <span class="md-ellipsis">
      bool_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.int_schema" class="md-nav__link">
    <span class="md-ellipsis">
      int_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.float_schema" class="md-nav__link">
    <span class="md-ellipsis">
      float_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.decimal_schema" class="md-nav__link">
    <span class="md-ellipsis">
      decimal_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.str_schema" class="md-nav__link">
    <span class="md-ellipsis">
      str_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.bytes_schema" class="md-nav__link">
    <span class="md-ellipsis">
      bytes_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.date_schema" class="md-nav__link">
    <span class="md-ellipsis">
      date_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.time_schema" class="md-nav__link">
    <span class="md-ellipsis">
      time_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.datetime_schema" class="md-nav__link">
    <span class="md-ellipsis">
      datetime_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.timedelta_schema" class="md-nav__link">
    <span class="md-ellipsis">
      timedelta_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.literal_schema" class="md-nav__link">
    <span class="md-ellipsis">
      literal_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.missing_sentinel_schema" class="md-nav__link">
    <span class="md-ellipsis">
      missing_sentinel_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.enum_schema" class="md-nav__link">
    <span class="md-ellipsis">
      enum_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.is_instance_schema" class="md-nav__link">
    <span class="md-ellipsis">
      is_instance_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.is_subclass_schema" class="md-nav__link">
    <span class="md-ellipsis">
      is_subclass_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.callable_schema" class="md-nav__link">
    <span class="md-ellipsis">
      callable_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.list_schema" class="md-nav__link">
    <span class="md-ellipsis">
      list_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.tuple_positional_schema" class="md-nav__link">
    <span class="md-ellipsis">
      tuple_positional_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.tuple_variable_schema" class="md-nav__link">
    <span class="md-ellipsis">
      tuple_variable_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.tuple_schema" class="md-nav__link">
    <span class="md-ellipsis">
      tuple_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.set_schema" class="md-nav__link">
    <span class="md-ellipsis">
      set_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.frozenset_schema" class="md-nav__link">
    <span class="md-ellipsis">
      frozenset_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generator_schema" class="md-nav__link">
    <span class="md-ellipsis">
      generator_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.dict_schema" class="md-nav__link">
    <span class="md-ellipsis">
      dict_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.function_before_schema" class="md-nav__link">
    <span class="md-ellipsis">
      function_before_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.function_after_schema" class="md-nav__link">
    <span class="md-ellipsis">
      function_after_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.function_plain_schema" class="md-nav__link">
    <span class="md-ellipsis">
      function_plain_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.function_wrap_schema" class="md-nav__link">
    <span class="md-ellipsis">
      function_wrap_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.default_schema" class="md-nav__link">
    <span class="md-ellipsis">
      default_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_default_value" class="md-nav__link">
    <span class="md-ellipsis">
      get_default_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.nullable_schema" class="md-nav__link">
    <span class="md-ellipsis">
      nullable_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.union_schema" class="md-nav__link">
    <span class="md-ellipsis">
      union_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_union_of_schemas" class="md-nav__link">
    <span class="md-ellipsis">
      get_union_of_schemas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.tagged_union_schema" class="md-nav__link">
    <span class="md-ellipsis">
      tagged_union_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.chain_schema" class="md-nav__link">
    <span class="md-ellipsis">
      chain_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.lax_or_strict_schema" class="md-nav__link">
    <span class="md-ellipsis">
      lax_or_strict_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.json_or_python_schema" class="md-nav__link">
    <span class="md-ellipsis">
      json_or_python_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.typed_dict_schema" class="md-nav__link">
    <span class="md-ellipsis">
      typed_dict_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.typed_dict_field_schema" class="md-nav__link">
    <span class="md-ellipsis">
      typed_dict_field_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.dataclass_field_schema" class="md-nav__link">
    <span class="md-ellipsis">
      dataclass_field_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.model_field_schema" class="md-nav__link">
    <span class="md-ellipsis">
      model_field_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.computed_field_schema" class="md-nav__link">
    <span class="md-ellipsis">
      computed_field_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.model_schema" class="md-nav__link">
    <span class="md-ellipsis">
      model_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.resolve_ref_schema" class="md-nav__link">
    <span class="md-ellipsis">
      resolve_ref_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.model_fields_schema" class="md-nav__link">
    <span class="md-ellipsis">
      model_fields_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.field_is_present" class="md-nav__link">
    <span class="md-ellipsis">
      field_is_present
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.field_is_required" class="md-nav__link">
    <span class="md-ellipsis">
      field_is_required
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.dataclass_args_schema" class="md-nav__link">
    <span class="md-ellipsis">
      dataclass_args_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.dataclass_schema" class="md-nav__link">
    <span class="md-ellipsis">
      dataclass_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.arguments_schema" class="md-nav__link">
    <span class="md-ellipsis">
      arguments_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.kw_arguments_schema" class="md-nav__link">
    <span class="md-ellipsis">
      kw_arguments_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.p_arguments_schema" class="md-nav__link">
    <span class="md-ellipsis">
      p_arguments_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_argument_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_argument_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.arguments_v3_schema" class="md-nav__link">
    <span class="md-ellipsis">
      arguments_v3_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.call_schema" class="md-nav__link">
    <span class="md-ellipsis">
      call_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.custom_error_schema" class="md-nav__link">
    <span class="md-ellipsis">
      custom_error_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.json_schema" class="md-nav__link">
    <span class="md-ellipsis">
      json_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.url_schema" class="md-nav__link">
    <span class="md-ellipsis">
      url_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.multi_host_url_schema" class="md-nav__link">
    <span class="md-ellipsis">
      multi_host_url_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.uuid_schema" class="md-nav__link">
    <span class="md-ellipsis">
      uuid_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.definitions_schema" class="md-nav__link">
    <span class="md-ellipsis">
      definitions_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.definition_ref_schema" class="md-nav__link">
    <span class="md-ellipsis">
      definition_ref_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.ser_schema" class="md-nav__link">
    <span class="md-ellipsis">
      ser_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.complex_schema" class="md-nav__link">
    <span class="md-ellipsis">
      complex_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_title_from_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_title_from_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.field_title_should_be_set" class="md-nav__link">
    <span class="md-ellipsis">
      field_title_should_be_set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.normalize_name" class="md-nav__link">
    <span class="md-ellipsis">
      normalize_name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_defs_ref" class="md-nav__link">
    <span class="md-ellipsis">
      get_defs_ref
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_cache_defs_ref_schema" class="md-nav__link">
    <span class="md-ellipsis">
      get_cache_defs_ref_schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.handle_ref_overrides" class="md-nav__link">
    <span class="md-ellipsis">
      handle_ref_overrides
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.encode_default" class="md-nav__link">
    <span class="md-ellipsis">
      encode_default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.update_with_validations" class="md-nav__link">
    <span class="md-ellipsis">
      update_with_validations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_json_ref_counts" class="md-nav__link">
    <span class="md-ellipsis">
      get_json_ref_counts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.emit_warning" class="md-nav__link">
    <span class="md-ellipsis">
      emit_warning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.render_warning_message" class="md-nav__link">
    <span class="md-ellipsis">
      render_warning_message
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.WithJsonSchema" class="md-nav__link">
    <span class="md-ellipsis">
      WithJsonSchema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.Examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.SkipJsonSchema" class="md-nav__link">
    <span class="md-ellipsis">
      SkipJsonSchema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.model_json_schema" class="md-nav__link">
    <span class="md-ellipsis">
      model_json_schema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.models_json_schema" class="md-nav__link">
    <span class="md-ellipsis">
      models_json_schema
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
                  

  
  


  <h1>JSON Schema</h1>

<div class="doc doc-object doc-module">



<a id="pydantic.json_schema"></a>
    <div class="doc doc-contents first">

        <div class="admonition abstract">
<p class="admonition-title">Usage Documentation</p>
<p><a href="../../concepts/json_schema/">JSON Schema</a></p>
</div>
<p>The <code>json_schema</code> module contains classes and functions to allow the way <a href="https://json-schema.org/">JSON Schema</a>
is generated to be customized.</p>
<p>In general you shouldn't need to use this module directly; instead, you can use
<a class="autorefs autorefs-internal" href="../base_model/#pydantic.BaseModel.model_json_schema"><code>BaseModel.model_json_schema</code></a> and
<a class="autorefs autorefs-internal" href="../type_adapter/#pydantic.type_adapter.TypeAdapter.json_schema"><code>TypeAdapter.json_schema</code></a>.</p>








  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="pydantic.json_schema.CoreSchemaOrFieldType" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">CoreSchemaOrFieldType</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#pydantic.json_schema.CoreSchemaOrFieldType" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">CoreSchemaOrFieldType</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
    <span class="n"><span title="pydantic_core.core_schema.CoreSchemaType">CoreSchemaType</span></span><span class="p">,</span> <span class="n"><span title="pydantic_core.core_schema.CoreSchemaFieldType">CoreSchemaFieldType</span></span>
<span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>A type alias for defined schema types that represents a union of
<code>core_schema.CoreSchemaType</code> and
<code>core_schema.CoreSchemaFieldType</code>.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="pydantic.json_schema.JsonSchemaValue" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">JsonSchemaValue</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#pydantic.json_schema.JsonSchemaValue" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">JsonSchemaValue</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>A type alias for a JSON schema value. This is a dictionary of string keys to arbitrary JSON values.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="pydantic.json_schema.JsonSchemaMode" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">JsonSchemaMode</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#pydantic.json_schema.JsonSchemaMode" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">JsonSchemaMode</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s1">&#39;validation&#39;</span><span class="p">,</span> <span class="s1">&#39;serialization&#39;</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>A type alias that represents the mode of a JSON schema; either 'validation' or 'serialization'.</p>
<p>For some types, the inputs to validation differ from the outputs of serialization. For example,
computed fields will only be present when serializing, and should not be provided when
validating. This flag provides a way to indicate whether you want the JSON schema required
for validation inputs, or that will be matched by serialization outputs.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="pydantic.json_schema.JsonSchemaWarningKind" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">JsonSchemaWarningKind</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#pydantic.json_schema.JsonSchemaWarningKind" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">JsonSchemaWarningKind</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
    <span class="s2">&quot;skipped-choice&quot;</span><span class="p">,</span>
    <span class="s2">&quot;non-serializable-default&quot;</span><span class="p">,</span>
    <span class="s2">&quot;skipped-discriminator&quot;</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>A type alias representing the kinds of warnings that can be emitted during JSON schema generation.</p>
<p>See <a class="autorefs autorefs-internal" href="#pydantic.json_schema.GenerateJsonSchema.render_warning_message"><code>GenerateJsonSchema.render_warning_message</code></a>
for more details.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="pydantic.json_schema.NoDefault" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">NoDefault</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#pydantic.json_schema.NoDefault" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">NoDefault</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-object">object</a></span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>A sentinel value used to indicate that no default value should be used when generating a JSON Schema
for a core schema with a default value.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="pydantic.json_schema.DEFAULT_REF_TEMPLATE" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">DEFAULT_REF_TEMPLATE</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#pydantic.json_schema.DEFAULT_REF_TEMPLATE" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">DEFAULT_REF_TEMPLATE</span> <span class="o">=</span> <span class="s1">&#39;#/$defs/</span><span class="si">{model}</span><span class="s1">&#39;</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>The default format string used to generate reference names.</p>
    </div>

</div>


<div class="doc doc-object doc-class">



<h2 id="pydantic.json_schema.PydanticJsonSchemaWarning" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">PydanticJsonSchemaWarning</span>


<a href="#pydantic.json_schema.PydanticJsonSchemaWarning" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#UserWarning">UserWarning</a></code></p>


        <p>This class is used to emit warnings produced during JSON schema generation.
See the <a class="autorefs autorefs-internal" href="#pydantic.json_schema.GenerateJsonSchema.emit_warning"><code>GenerateJsonSchema.emit_warning</code></a> and
<a class="autorefs autorefs-internal" href="#pydantic.json_schema.GenerateJsonSchema.render_warning_message"><code>GenerateJsonSchema.render_warning_message</code></a>
methods for more details; these can be overridden to control warning behavior.</p>







    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pydantic.json_schema.GenerateJsonSchema" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">GenerateJsonSchema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">GenerateJsonSchema</span><span class="p">(</span>
    <span class="n">by_alias</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ref_template</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.DEFAULT_REF_TEMPLATE" href="#pydantic.json_schema.DEFAULT_REF_TEMPLATE">DEFAULT_REF_TEMPLATE</a></span><span class="p">,</span>
    <span class="n">union_format</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
        <span class="s2">&quot;any_of&quot;</span><span class="p">,</span> <span class="s2">&quot;primitive_type_array&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;any_of&quot;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <div class="admonition abstract">
<p class="admonition-title">Usage Documentation</p>
<p><a href="../../concepts/json_schema/#customizing-the-json-schema-generation-process">Customizing the JSON Schema Generation Process</a></p>
</div>
<p>A class for generating JSON schemas.</p>
<p>This class generates JSON schemas based on configured parameters. The default schema dialect
is <a href="https://json-schema.org/draft/2020-12/schema">https://json-schema.org/draft/2020-12/schema</a>.
The class uses <code>by_alias</code> to configure how fields with
multiple names are handled and <code>ref_template</code> to format reference names.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="pydantic.json_schema.GenerateJsonSchema.schema_dialect">schema_dialect</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The JSON schema dialect used to generate the schema. See
<a href="https://json-schema.org/understanding-json-schema/reference/schema.html#id4">Declaring a Dialect</a>
in the JSON Schema documentation for more information about dialects.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pydantic.json_schema.GenerateJsonSchema.ignored_warning_kinds">ignored_warning_kinds</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#set">set</a>[<a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaWarningKind" href="#pydantic.json_schema.JsonSchemaWarningKind">JsonSchemaWarningKind</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Warnings to ignore when generating the schema. <code>self.render_warning_message</code> will
do nothing if its argument <code>kind</code> is in <code>ignored_warning_kinds</code>;
this value can be modified on subclasses to easily control which warnings are emitted.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pydantic.json_schema.GenerateJsonSchema.by_alias">by_alias</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to use field aliases when generating the schema.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pydantic.json_schema.GenerateJsonSchema.ref_template">ref_template</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The format string used when generating reference names.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pydantic.json_schema.GenerateJsonSchema.core_to_json_refs">core_to_json_refs</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a>[<span title="pydantic.json_schema.CoreModeRef">CoreModeRef</span>, <span title="pydantic.json_schema.JsonRef">JsonRef</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A mapping of core refs to JSON refs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pydantic.json_schema.GenerateJsonSchema.core_to_defs_refs">core_to_defs_refs</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a>[<span title="pydantic.json_schema.CoreModeRef">CoreModeRef</span>, <span title="pydantic.json_schema.DefsRef">DefsRef</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A mapping of core refs to definition refs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pydantic.json_schema.GenerateJsonSchema.defs_to_core_refs">defs_to_core_refs</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a>[<span title="pydantic.json_schema.DefsRef">DefsRef</span>, <span title="pydantic.json_schema.CoreModeRef">CoreModeRef</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A mapping of definition refs to core refs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pydantic.json_schema.GenerateJsonSchema.json_to_defs_refs">json_to_defs_refs</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a>[<span title="pydantic.json_schema.JsonRef">JsonRef</span>, <span title="pydantic.json_schema.DefsRef">DefsRef</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A mapping of JSON refs to definition refs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="pydantic.json_schema.GenerateJsonSchema.definitions">definitions</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a>[<span title="pydantic.json_schema.DefsRef">DefsRef</span>, <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Definitions in the schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>by_alias</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to use field aliases in the generated schemas.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ref_template</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The format string to use when generating reference names.</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.DEFAULT_REF_TEMPLATE" href="#pydantic.json_schema.DEFAULT_REF_TEMPLATE">DEFAULT_REF_TEMPLATE</a></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>union_format</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;any_of&#39;, &#39;primitive_type_array&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The format to use when combining schemas from unions together. Can be one of:</p>
<ul>
<li><code>'any_of'</code>: Use the <a href="https://json-schema.org/understanding-json-schema/reference/combining#anyOf"><code>anyOf</code></a>
  keyword to combine schemas (the default).</li>
<li><code>'primitive_type_array'</code>: Use the <a href="https://json-schema.org/understanding-json-schema/reference/type"><code>type</code></a>
  keyword as an array of strings, containing each type of the combination. If any of the schemas is not a primitive
  type (<code>string</code>, <code>boolean</code>, <code>null</code>, <code>integer</code> or <code>number</code>) or contains constraints/metadata, falls back to
  <code>any_of</code>.</li>
</ul>
              </div>
            </td>
            <td>
                  <code>&#39;any_of&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>JsonSchemaError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the instance of the class is inadvertently reused after generating a schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>






                  <details class="quote">
                    <summary>Source code in <code>pydantic/json_schema.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">by_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ref_template</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_REF_TEMPLATE</span><span class="p">,</span>
    <span class="n">union_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;any_of&#39;</span><span class="p">,</span> <span class="s1">&#39;primitive_type_array&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;any_of&#39;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">by_alias</span> <span class="o">=</span> <span class="n">by_alias</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ref_template</span> <span class="o">=</span> <span class="n">ref_template</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">union_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;any_of&#39;</span><span class="p">,</span> <span class="s1">&#39;primitive_type_array&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">union_format</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">core_to_json_refs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">CoreModeRef</span><span class="p">,</span> <span class="n">JsonRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">core_to_defs_refs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">CoreModeRef</span><span class="p">,</span> <span class="n">DefsRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">defs_to_core_refs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">,</span> <span class="n">CoreModeRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">json_to_defs_refs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">JsonRef</span><span class="p">,</span> <span class="n">DefsRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">,</span> <span class="n">JsonSchemaValue</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_config_wrapper_stack</span> <span class="o">=</span> <span class="n">_config</span><span class="o">.</span><span class="n">ConfigWrapperStack</span><span class="p">(</span><span class="n">_config</span><span class="o">.</span><span class="n">ConfigWrapper</span><span class="p">({}))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">:</span> <span class="n">JsonSchemaMode</span> <span class="o">=</span> <span class="s1">&#39;validation&#39;</span>

    <span class="c1"># The following includes a mapping of a fully-unique defs ref choice to a list of preferred</span>
    <span class="c1"># alternatives, which are generally simpler, such as only including the class name.</span>
    <span class="c1"># At the end of schema generation, we use these to produce a JSON schema with more human-readable</span>
    <span class="c1"># definitions, which would also work better in a generated OpenAPI client, etc.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_prioritized_defsref_choices</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_collision_counter</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_collision_index</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_schema_type_to_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_schema_type_to_method</span><span class="p">()</span>

    <span class="c1"># When we encounter definitions we need to try to build them immediately</span>
    <span class="c1"># so that they are available schemas that reference them</span>
    <span class="c1"># But it&#39;s possible that CoreSchema was never going to be used</span>
    <span class="c1"># (e.g. because the CoreSchema that references short circuits is JSON schema generation without needing</span>
    <span class="c1">#  the reference) so instead of failing altogether if we can&#39;t build a definition we</span>
    <span class="c1"># store the error raised and re-throw it if we end up needing that def</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_core_defs_invalid_for_json_schema</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">,</span> <span class="n">PydanticInvalidForJsonSchema</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># This changes to True after generating a schema, to prevent issues caused by accidental reuse</span>
    <span class="c1"># of a single instance of a schema generator</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_used</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="pydantic.json_schema.GenerateJsonSchema.ValidationsMapping" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">ValidationsMapping</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.ValidationsMapping" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


        <p>This class just contains mappings from core_schema attribute names to the corresponding
JSON schema attribute names. While I suspect it is unlikely to be necessary, you can in
principle override this class in a subclass of GenerateJsonSchema (by inheriting from
GenerateJsonSchema.ValidationsMapping) to change these mappings.</p>









  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.build_schema_type_to_method" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">build_schema_type_to_method</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.build_schema_type_to_method" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">build_schema_type_to_method</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a></span><span class="p">[</span>
    <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.CoreSchemaOrFieldType" href="#pydantic.json_schema.CoreSchemaOrFieldType">CoreSchemaOrFieldType</a></span><span class="p">,</span>
    <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">[[</span><span class="n"><span title="pydantic._internal._core_utils.CoreSchemaOrField">CoreSchemaOrField</span></span><span class="p">],</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span><span class="p">],</span>
<span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Builds a dictionary mapping fields to methods for generating JSON schemas.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a>[<a class="autorefs autorefs-internal" title="pydantic.json_schema.CoreSchemaOrFieldType" href="#pydantic.json_schema.CoreSchemaOrFieldType">CoreSchemaOrFieldType</a>, <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>[[<span title="pydantic._internal._core_utils.CoreSchemaOrField">CoreSchemaOrField</span>], <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing the mapping of <code>CoreSchemaOrFieldType</code> to a handler method.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#TypeError">TypeError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If no method has been defined for generating a JSON schema for a given pydantic core schema type.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_schema_type_to_method</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="n">CoreSchemaOrFieldType</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">CoreSchemaOrField</span><span class="p">],</span> <span class="n">JsonSchemaValue</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Builds a dictionary mapping fields to methods for generating JSON schemas.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary containing the mapping of `CoreSchemaOrFieldType` to a handler method.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If no method has been defined for generating a JSON schema for a given pydantic core schema type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mapping</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">CoreSchemaOrFieldType</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">CoreSchemaOrField</span><span class="p">],</span> <span class="n">JsonSchemaValue</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">core_schema_types</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CoreSchemaOrFieldType</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">get_literal_values</span><span class="p">(</span><span class="n">CoreSchemaOrFieldType</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">core_schema_types</span><span class="p">:</span>
        <span class="n">method_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;_&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">_schema&#39;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mapping</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;PYDANTIC_PRIVATE_ALLOW_UNHANDLED_SCHEMA_TYPES&#39;</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;No method for generating JsonSchema for core_schema.type=</span><span class="si">{</span><span class="n">key</span><span class="si">!r}</span><span class="s1"> &#39;</span>
                <span class="sa">f</span><span class="s1">&#39;(expected: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">method_name</span><span class="si">}</span><span class="s1">)&#39;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
    <span class="k">return</span> <span class="n">mapping</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.generate_definitions" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">generate_definitions</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.generate_definitions" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">generate_definitions</span><span class="p">(</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a></span><span class="p">[</span>
        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><span title="pydantic.json_schema.JsonSchemaKeyT">JsonSchemaKeyT</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a></span><span class="p">,</span> <span class="n"><span title="pydantic_core.core_schema.CoreSchema">CoreSchema</span></span><span class="p">]</span>
    <span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span>
    <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a></span><span class="p">[</span>
        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><span title="pydantic.json_schema.JsonSchemaKeyT">JsonSchemaKeyT</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a></span><span class="p">],</span>
        <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a></span><span class="p">[</span><span class="n"><span title="pydantic.json_schema.DefsRef">DefsRef</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span><span class="p">],</span>
<span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates JSON schema definitions from a list of core schemas, pairing the generated definitions with a
mapping that links the input keys to the definition references.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>inputs</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<span title="pydantic.json_schema.JsonSchemaKeyT">JsonSchemaKeyT</span>, <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a>, <span title="pydantic_core.core_schema.CoreSchema">CoreSchema</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A sequence of tuples, where:</p>
<ul>
<li>The first element is a JSON schema key type.</li>
<li>The second element is the JSON mode: either 'validation' or 'serialization'.</li>
<li>The third element is a core schema.</li>
</ul>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<span title="pydantic.json_schema.JsonSchemaKeyT">JsonSchemaKeyT</span>, <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a>], <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a>], <a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a>[<span title="pydantic.json_schema.DefsRef">DefsRef</span>, <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple where:</p>
<ul>
<li>The first element is a dictionary whose keys are tuples of JSON schema key type and JSON mode, and
    whose values are the JSON schema corresponding to that pair of inputs. (These schemas may have
    JsonRef references to definitions that are defined in the second returned element.)</li>
<li>The second element is a dictionary whose keys are definition references for the JSON schemas
    from the first returned element, and whose values are the actual JSON schema definitions.</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.errors.PydanticUserError" href="../errors/#pydantic.errors.PydanticUserError">PydanticUserError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Raised if the JSON schema generator has already been used to generate a JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">generate_definitions</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">JsonSchemaKeyT</span><span class="p">,</span> <span class="n">JsonSchemaMode</span><span class="p">,</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">CoreSchema</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">JsonSchemaKeyT</span><span class="p">,</span> <span class="n">JsonSchemaMode</span><span class="p">],</span> <span class="n">JsonSchemaValue</span><span class="p">],</span> <span class="nb">dict</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">,</span> <span class="n">JsonSchemaValue</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates JSON schema definitions from a list of core schemas, pairing the generated definitions with a</span>
<span class="sd">    mapping that links the input keys to the definition references.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputs: A sequence of tuples, where:</span>

<span class="sd">            - The first element is a JSON schema key type.</span>
<span class="sd">            - The second element is the JSON mode: either &#39;validation&#39; or &#39;serialization&#39;.</span>
<span class="sd">            - The third element is a core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tuple where:</span>

<span class="sd">            - The first element is a dictionary whose keys are tuples of JSON schema key type and JSON mode, and</span>
<span class="sd">                whose values are the JSON schema corresponding to that pair of inputs. (These schemas may have</span>
<span class="sd">                JsonRef references to definitions that are defined in the second returned element.)</span>
<span class="sd">            - The second element is a dictionary whose keys are definition references for the JSON schemas</span>
<span class="sd">                from the first returned element, and whose values are the actual JSON schema definitions.</span>

<span class="sd">    Raises:</span>
<span class="sd">        PydanticUserError: Raised if the JSON schema generator has already been used to generate a JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_used</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PydanticUserError</span><span class="p">(</span>
            <span class="s1">&#39;This JSON schema generator has already been used to generate a JSON schema. &#39;</span>
            <span class="sa">f</span><span class="s1">&#39;You must create a new instance of </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> to generate a new JSON schema.&#39;</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="s1">&#39;json-schema-already-used&#39;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>

    <span class="n">definitions_remapping</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_definitions_remapping</span><span class="p">()</span>

    <span class="n">json_schemas_map</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">JsonSchemaKeyT</span><span class="p">,</span> <span class="n">JsonSchemaMode</span><span class="p">],</span> <span class="n">DefsRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
        <span class="n">json_schemas_map</span><span class="p">[(</span><span class="n">key</span><span class="p">,</span> <span class="n">mode</span><span class="p">)]</span> <span class="o">=</span> <span class="n">definitions_remapping</span><span class="o">.</span><span class="n">remap_json_schema</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>

    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;$defs&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">}</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="n">definitions_remapping</span><span class="o">.</span><span class="n">remap_json_schema</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_used</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">json_schemas_map</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$defs&#39;</span><span class="p">])</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.generate" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">generate</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.generate" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">generate</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.CoreSchema">CoreSchema</span></span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a></span> <span class="o">=</span> <span class="s2">&quot;validation&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema for a specified schema in a specified mode.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.CoreSchema">CoreSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Pydantic model.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mode</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The mode in which to generate the schema. Defaults to 'validation'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;validation&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A JSON schema representing the specified schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.errors.PydanticUserError" href="../errors/#pydantic.errors.PydanticUserError">PydanticUserError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the JSON schema generator has already been used to generate a JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">CoreSchema</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">JsonSchemaMode</span> <span class="o">=</span> <span class="s1">&#39;validation&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema for a specified schema in a specified mode.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: A Pydantic model.</span>
<span class="sd">        mode: The mode in which to generate the schema. Defaults to &#39;validation&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A JSON schema representing the specified schema.</span>

<span class="sd">    Raises:</span>
<span class="sd">        PydanticUserError: If the JSON schema generator has already been used to generate a JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">=</span> <span class="n">mode</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_used</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PydanticUserError</span><span class="p">(</span>
            <span class="s1">&#39;This JSON schema generator has already been used to generate a JSON schema. &#39;</span>
            <span class="sa">f</span><span class="s1">&#39;You must create a new instance of </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> to generate a new JSON schema.&#39;</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="s1">&#39;json-schema-already-used&#39;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
    <span class="n">json_ref_counts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_json_ref_counts</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>

    <span class="n">ref</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">JsonRef</span><span class="p">,</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;$ref&#39;</span><span class="p">))</span>
    <span class="k">while</span> <span class="n">ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># may need to unpack multiple levels</span>
        <span class="n">ref_json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_schema_from_definitions</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">json_ref_counts</span><span class="p">[</span><span class="n">ref</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">ref_json_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c1"># &quot;Unpack&quot; the ref since this is the only reference and there are no sibling keys</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="n">ref_json_schema</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># copy to prevent recursive dict reference</span>
            <span class="n">json_ref_counts</span><span class="p">[</span><span class="n">ref</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">ref</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">JsonRef</span><span class="p">,</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;$ref&#39;</span><span class="p">))</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_garbage_collect_definitions</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
    <span class="n">definitions_remapping</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_definitions_remapping</span><span class="p">()</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$defs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">definitions</span>

    <span class="n">json_schema</span> <span class="o">=</span> <span class="n">definitions_remapping</span><span class="o">.</span><span class="n">remap_json_schema</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>

    <span class="c1"># For now, we will not set the $schema key. However, if desired, this can be easily added by overriding</span>
    <span class="c1"># this method and adding the following line after a call to super().generate(schema):</span>
    <span class="c1"># json_schema[&#39;$schema&#39;] = self.schema_dialect</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_used</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.generate_inner" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">generate_inner</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.generate_inner" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">generate_inner</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic._internal._core_utils.CoreSchemaOrField">CoreSchemaOrField</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema for a given core schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic._internal._core_utils.CoreSchemaOrField">CoreSchemaOrField</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The given core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>TODO: the nested function definitions here seem like bad practice, I'd like to unpack these
in a future PR. It'd be great if we could shorten the call stack a bit for JSON schema generation,
and I think there's potential for that here.</p>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">generate_inner</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">CoreSchemaOrField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>  <span class="c1"># noqa: C901</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema for a given core schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The given core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>

<span class="sd">    TODO: the nested function definitions here seem like bad practice, I&#39;d like to unpack these</span>
<span class="sd">    in a future PR. It&#39;d be great if we could shorten the call stack a bit for JSON schema generation,</span>
<span class="sd">    and I think there&#39;s potential for that here.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># If a schema with the same CoreRef has been handled, just return a reference to it</span>
    <span class="c1"># Note that this assumes that it will _never_ be the case that the same CoreRef is used</span>
    <span class="c1"># on types that should have different JSON schemas</span>
    <span class="k">if</span> <span class="s1">&#39;ref&#39;</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">:</span>
        <span class="n">core_ref</span> <span class="o">=</span> <span class="n">CoreRef</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;ref&#39;</span><span class="p">])</span>  <span class="c1"># type: ignore[typeddict-item]</span>
        <span class="n">core_mode_ref</span> <span class="o">=</span> <span class="p">(</span><span class="n">core_ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">core_mode_ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">core_to_defs_refs</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">core_to_defs_refs</span><span class="p">[</span><span class="n">core_mode_ref</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;$ref&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">core_to_json_refs</span><span class="p">[</span><span class="n">core_mode_ref</span><span class="p">]}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">populate_defs</span><span class="p">(</span><span class="n">core_schema</span><span class="p">:</span> <span class="n">CoreSchema</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">&#39;ref&#39;</span> <span class="ow">in</span> <span class="n">core_schema</span><span class="p">:</span>
            <span class="n">core_ref</span> <span class="o">=</span> <span class="n">CoreRef</span><span class="p">(</span><span class="n">core_schema</span><span class="p">[</span><span class="s1">&#39;ref&#39;</span><span class="p">])</span>  <span class="c1"># type: ignore[typeddict-item]</span>
            <span class="n">defs_ref</span><span class="p">,</span> <span class="n">ref_json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cache_defs_ref_schema</span><span class="p">(</span><span class="n">core_ref</span><span class="p">)</span>
            <span class="n">json_ref</span> <span class="o">=</span> <span class="n">JsonRef</span><span class="p">(</span><span class="n">ref_json_schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">])</span>
            <span class="c1"># Replace the schema if it&#39;s not a reference to itself</span>
            <span class="c1"># What we want to avoid is having the def be just a ref to itself</span>
            <span class="c1"># which is what would happen if we blindly assigned any</span>
            <span class="k">if</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;$ref&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="o">!=</span> <span class="n">json_ref</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">[</span><span class="n">defs_ref</span><span class="p">]</span> <span class="o">=</span> <span class="n">json_schema</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_core_defs_invalid_for_json_schema</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">defs_ref</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="n">ref_json_schema</span>
        <span class="k">return</span> <span class="n">json_schema</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">handler_func</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">:</span> <span class="n">CoreSchemaOrField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a JSON schema based on the input schema.</span>

<span class="sd">        Args:</span>
<span class="sd">            schema_or_field: The core schema to generate a JSON schema from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The generated JSON schema.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If an unexpected schema type is encountered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Generate the core-schema-type-specific bits of the schema generation:</span>
        <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;serialization&#39;</span> <span class="ow">and</span> <span class="s1">&#39;serialization&#39;</span> <span class="ow">in</span> <span class="n">schema_or_field</span><span class="p">:</span>
            <span class="c1"># In this case, we skip the JSON Schema generation of the schema</span>
            <span class="c1"># and use the `&#39;serialization&#39;` schema instead (canonical example:</span>
            <span class="c1"># `Annotated[int, PlainSerializer(str)]`).</span>
            <span class="n">ser_schema</span> <span class="o">=</span> <span class="n">schema_or_field</span><span class="p">[</span><span class="s1">&#39;serialization&#39;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ser_schema</span><span class="p">(</span><span class="n">ser_schema</span><span class="p">)</span>

            <span class="c1"># It might be that the &#39;serialization&#39;` is skipped depending on `when_used`.</span>
            <span class="c1"># This is only relevant for `nullable` schemas though, so we special case here.</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">json_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="ow">and</span> <span class="n">ser_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;when_used&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;unless-none&#39;</span><span class="p">,</span> <span class="s1">&#39;json-unless-none&#39;</span><span class="p">)</span>
                <span class="ow">and</span> <span class="n">schema_or_field</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;nullable&#39;</span>
            <span class="p">):</span>
                <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_union_of_schemas</span><span class="p">([{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;null&#39;</span><span class="p">},</span> <span class="n">json_schema</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">json_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_core_schema</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">)</span> <span class="ow">or</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_core_schema_field</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">):</span>
                <span class="n">generate_for_schema_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema_type_to_method</span><span class="p">[</span><span class="n">schema_or_field</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]]</span>
                <span class="n">json_schema</span> <span class="o">=</span> <span class="n">generate_for_schema_type</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unexpected schema type: schema=</span><span class="si">{</span><span class="n">schema_or_field</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">json_schema</span>

    <span class="n">current_handler</span> <span class="o">=</span> <span class="n">_schema_generation_shared</span><span class="o">.</span><span class="n">GenerateJsonSchemaHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">handler_func</span><span class="p">)</span>

    <span class="n">metadata</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">_core_metadata</span><span class="o">.</span><span class="n">CoreMetadata</span><span class="p">,</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="p">{}))</span>

    <span class="c1"># TODO: I dislike that we have to wrap these basic dict updates in callables, is there any way around this?</span>

    <span class="k">if</span> <span class="n">js_updates</span> <span class="o">:=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pydantic_js_updates&#39;</span><span class="p">):</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">js_updates_handler_func</span><span class="p">(</span>
            <span class="n">schema_or_field</span><span class="p">:</span> <span class="n">CoreSchemaOrField</span><span class="p">,</span>
            <span class="n">current_handler</span><span class="p">:</span> <span class="n">GetJsonSchemaHandler</span> <span class="o">=</span> <span class="n">current_handler</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">current_handler</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">),</span> <span class="o">**</span><span class="n">js_updates</span><span class="p">}</span>
            <span class="k">return</span> <span class="n">json_schema</span>

        <span class="n">current_handler</span> <span class="o">=</span> <span class="n">_schema_generation_shared</span><span class="o">.</span><span class="n">GenerateJsonSchemaHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">js_updates_handler_func</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">js_extra</span> <span class="o">:=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pydantic_js_extra&#39;</span><span class="p">):</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">js_extra_handler_func</span><span class="p">(</span>
            <span class="n">schema_or_field</span><span class="p">:</span> <span class="n">CoreSchemaOrField</span><span class="p">,</span>
            <span class="n">current_handler</span><span class="p">:</span> <span class="n">GetJsonSchemaHandler</span> <span class="o">=</span> <span class="n">current_handler</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="n">current_handler</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">js_extra</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="n">json_schema</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">to_jsonable_python</span><span class="p">(</span><span class="n">js_extra</span><span class="p">))</span>
            <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">js_extra</span><span class="p">):</span>
                <span class="c1"># similar to typing issue in _update_class_schema when we&#39;re working with callable js extra</span>
                <span class="n">js_extra</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="k">return</span> <span class="n">json_schema</span>

        <span class="n">current_handler</span> <span class="o">=</span> <span class="n">_schema_generation_shared</span><span class="o">.</span><span class="n">GenerateJsonSchemaHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">js_extra_handler_func</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">js_modify_function</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pydantic_js_functions&#39;</span><span class="p">,</span> <span class="p">()):</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">new_handler_func</span><span class="p">(</span>
            <span class="n">schema_or_field</span><span class="p">:</span> <span class="n">CoreSchemaOrField</span><span class="p">,</span>
            <span class="n">current_handler</span><span class="p">:</span> <span class="n">GetJsonSchemaHandler</span> <span class="o">=</span> <span class="n">current_handler</span><span class="p">,</span>
            <span class="n">js_modify_function</span><span class="p">:</span> <span class="n">GetJsonSchemaFunction</span> <span class="o">=</span> <span class="n">js_modify_function</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="n">js_modify_function</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">,</span> <span class="n">current_handler</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_core_schema</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">):</span>
                <span class="n">json_schema</span> <span class="o">=</span> <span class="n">populate_defs</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">)</span>
            <span class="n">original_schema</span> <span class="o">=</span> <span class="n">current_handler</span><span class="o">.</span><span class="n">resolve_ref_schema</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
            <span class="n">ref</span> <span class="o">=</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;$ref&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ref</span> <span class="ow">and</span> <span class="n">json_schema</span><span class="p">:</span>
                <span class="n">original_schema</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">original_schema</span>

        <span class="n">current_handler</span> <span class="o">=</span> <span class="n">_schema_generation_shared</span><span class="o">.</span><span class="n">GenerateJsonSchemaHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_handler_func</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">js_modify_function</span> <span class="ow">in</span> <span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pydantic_js_annotation_functions&#39;</span><span class="p">,</span> <span class="p">()):</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">new_handler_func</span><span class="p">(</span>
            <span class="n">schema_or_field</span><span class="p">:</span> <span class="n">CoreSchemaOrField</span><span class="p">,</span>
            <span class="n">current_handler</span><span class="p">:</span> <span class="n">GetJsonSchemaHandler</span> <span class="o">=</span> <span class="n">current_handler</span><span class="p">,</span>
            <span class="n">js_modify_function</span><span class="p">:</span> <span class="n">GetJsonSchemaFunction</span> <span class="o">=</span> <span class="n">js_modify_function</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">js_modify_function</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">,</span> <span class="n">current_handler</span><span class="p">)</span>

        <span class="n">current_handler</span> <span class="o">=</span> <span class="n">_schema_generation_shared</span><span class="o">.</span><span class="n">GenerateJsonSchemaHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_handler_func</span><span class="p">)</span>

    <span class="n">json_schema</span> <span class="o">=</span> <span class="n">current_handler</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_core_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
        <span class="n">json_schema</span> <span class="o">=</span> <span class="n">populate_defs</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.sort" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">sort</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.sort" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">sort</span><span class="p">(</span>
    <span class="n">value</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span><span class="p">,</span> <span class="n">parent_key</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Override this method to customize the sorting of the JSON schema (e.g., don't sort at all, sort all keys unconditionally, etc.)</p>
<p>By default, alphabetically sort the keys in the JSON schema, skipping the 'properties' and 'default' keys to preserve field definition order.
This sort is recursive, so it will sort all nested dictionaries as well.</p>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">sort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">,</span> <span class="n">parent_key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Override this method to customize the sorting of the JSON schema (e.g., don&#39;t sort at all, sort all keys unconditionally, etc.)</span>

<span class="sd">    By default, alphabetically sort the keys in the JSON schema, skipping the &#39;properties&#39; and &#39;default&#39; keys to preserve field definition order.</span>
<span class="sd">    This sort is recursive, so it will sort all nested dictionaries as well.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sorted_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">JsonSchemaValue</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">parent_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;properties&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">):</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
        <span class="n">sorted_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sort_recursive</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">parent_key</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sorted_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.invalid_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">invalid_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.invalid_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">invalid_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.InvalidSchema">InvalidSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Placeholder - should never be called.</p>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">invalid_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">InvalidSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Placeholder - should never be called.&quot;&quot;&quot;</span>

    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;Cannot generate schema for invalid_schema. This is a bug! Please report it.&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.any_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">any_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.any_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">any_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.AnySchema">AnySchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches any value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.AnySchema">AnySchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">any_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">AnySchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches any value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.none_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">none_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.none_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">none_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.NoneSchema">NoneSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches <code>None</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.NoneSchema">NoneSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">none_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">NoneSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches `None`.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;null&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.bool_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">bool_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.bool_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">bool_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.BoolSchema">BoolSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a bool value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.BoolSchema">BoolSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bool_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">BoolSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a bool value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;boolean&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.int_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">int_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.int_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">int_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.IntSchema">IntSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches an int value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.IntSchema">IntSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">int_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">IntSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches an int value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">numeric</span><span class="p">)</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="n">math</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">inf</span><span class="p">}}</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.float_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">float_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.float_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">float_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.FloatSchema">FloatSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a float value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.FloatSchema">FloatSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">float_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">FloatSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a float value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;number&#39;</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">numeric</span><span class="p">)</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="n">math</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">inf</span><span class="p">}}</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.decimal_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">decimal_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.decimal_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">decimal_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.DecimalSchema">DecimalSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a decimal value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.DecimalSchema">DecimalSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">decimal_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DecimalSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a decimal value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_decimal_pattern</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DecimalSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">max_digits</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;max_digits&#39;</span><span class="p">)</span>
        <span class="n">decimal_places</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;decimal_places&#39;</span><span class="p">)</span>

        <span class="n">pattern</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">r</span><span class="s1">&#39;^(?!^[-+.]*$)[+-]?0*&#39;</span>  <span class="c1"># check it is not empty string and not one or sequence of &quot;.+-&quot; characters.</span>
        <span class="p">)</span>

        <span class="c1"># Case 1: Both max_digits and decimal_places are set</span>
        <span class="k">if</span> <span class="n">max_digits</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">decimal_places</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">integer_places</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_digits</span> <span class="o">-</span> <span class="n">decimal_places</span><span class="p">)</span>
            <span class="n">pattern</span> <span class="o">+=</span> <span class="p">(</span>
                <span class="sa">rf</span><span class="s1">&#39;(?:&#39;</span>
                <span class="sa">rf</span><span class="s1">&#39;\d</span><span class="se">{{</span><span class="s1">0,</span><span class="si">{</span><span class="n">integer_places</span><span class="si">}</span><span class="se">}}</span><span class="s1">&#39;</span>
                <span class="sa">rf</span><span class="s1">&#39;|&#39;</span>
                <span class="sa">rf</span><span class="s1">&#39;(?=[\d.]</span><span class="se">{{</span><span class="s1">1,</span><span class="si">{</span><span class="n">max_digits</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="se">}}</span><span class="s1">0*$)&#39;</span>
                <span class="sa">rf</span><span class="s1">&#39;\d</span><span class="se">{{</span><span class="s1">0,</span><span class="si">{</span><span class="n">integer_places</span><span class="si">}</span><span class="se">}}</span><span class="s1">\.\d</span><span class="se">{{</span><span class="s1">0,</span><span class="si">{</span><span class="n">decimal_places</span><span class="si">}</span><span class="se">}}</span><span class="s1">0*$&#39;</span>
                <span class="sa">rf</span><span class="s1">&#39;)&#39;</span>
            <span class="p">)</span>

        <span class="c1"># Case 2: Only max_digits is set</span>
        <span class="k">elif</span> <span class="n">max_digits</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">decimal_places</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">pattern</span> <span class="o">+=</span> <span class="p">(</span>
                <span class="sa">rf</span><span class="s1">&#39;(?:&#39;</span>
                <span class="sa">rf</span><span class="s1">&#39;\d</span><span class="se">{{</span><span class="s1">0,</span><span class="si">{</span><span class="n">max_digits</span><span class="si">}</span><span class="se">}}</span><span class="s1">&#39;</span>
                <span class="sa">rf</span><span class="s1">&#39;|&#39;</span>
                <span class="sa">rf</span><span class="s1">&#39;(?=[\d.]</span><span class="se">{{</span><span class="s1">1,</span><span class="si">{</span><span class="n">max_digits</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="se">}}</span><span class="s1">0*$)&#39;</span>
                <span class="sa">rf</span><span class="s1">&#39;\d*\.\d*0*$&#39;</span>
                <span class="sa">rf</span><span class="s1">&#39;)&#39;</span>
            <span class="p">)</span>

        <span class="c1"># Case 3: Only decimal_places is set</span>
        <span class="k">elif</span> <span class="n">max_digits</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">decimal_places</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">pattern</span> <span class="o">+=</span> <span class="sa">rf</span><span class="s1">&#39;\d*\.?\d</span><span class="se">{{</span><span class="s1">0,</span><span class="si">{</span><span class="n">decimal_places</span><span class="si">}</span><span class="se">}}</span><span class="s1">0*$&#39;</span>

        <span class="c1"># Case 4: Both are None (no restrictions)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pattern</span> <span class="o">+=</span> <span class="sa">r</span><span class="s1">&#39;\d*\.?\d*$&#39;</span>  <span class="c1"># look for arbitrary integer or decimal</span>

        <span class="k">return</span> <span class="n">pattern</span>

    <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">str_schema</span><span class="p">(</span><span class="n">core_schema</span><span class="o">.</span><span class="n">str_schema</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="n">get_decimal_pattern</span><span class="p">(</span><span class="n">schema</span><span class="p">)))</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;validation&#39;</span><span class="p">:</span>
        <span class="n">multiple_of</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;multiple_of&#39;</span><span class="p">)</span>
        <span class="n">le</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;le&#39;</span><span class="p">)</span>
        <span class="n">ge</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ge&#39;</span><span class="p">)</span>
        <span class="n">lt</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;lt&#39;</span><span class="p">)</span>
        <span class="n">gt</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;gt&#39;</span><span class="p">)</span>
        <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;anyOf&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">float_schema</span><span class="p">(</span>
                    <span class="n">core_schema</span><span class="o">.</span><span class="n">float_schema</span><span class="p">(</span>
                        <span class="n">allow_inf_nan</span><span class="o">=</span><span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;allow_inf_nan&#39;</span><span class="p">),</span>
                        <span class="n">multiple_of</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="n">multiple_of</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">float</span><span class="p">(</span><span class="n">multiple_of</span><span class="p">),</span>
                        <span class="n">le</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="n">le</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">float</span><span class="p">(</span><span class="n">le</span><span class="p">),</span>
                        <span class="n">ge</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="n">ge</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">float</span><span class="p">(</span><span class="n">ge</span><span class="p">),</span>
                        <span class="n">lt</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="n">lt</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">float</span><span class="p">(</span><span class="n">lt</span><span class="p">),</span>
                        <span class="n">gt</span><span class="o">=</span><span class="kc">None</span> <span class="k">if</span> <span class="n">gt</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="nb">float</span><span class="p">(</span><span class="n">gt</span><span class="p">),</span>
                    <span class="p">)</span>
                <span class="p">),</span>
                <span class="n">json_schema</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">}</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.str_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">str_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.str_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">str_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.StringSchema">StringSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a string value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.StringSchema">StringSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">str_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">StringSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a string value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pattern&#39;</span><span class="p">),</span> <span class="n">Pattern</span><span class="p">):</span>
        <span class="c1"># TODO: should we add regex flags to the pattern?</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;pattern&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pattern&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pattern</span>  <span class="c1"># type: ignore</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.bytes_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">bytes_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.bytes_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">bytes_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.BytesSchema">BytesSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a bytes value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.BytesSchema">BytesSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">bytes_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">BytesSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a bytes value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;base64url&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">ser_json_bytes</span> <span class="o">==</span> <span class="s1">&#39;base64&#39;</span> <span class="k">else</span> <span class="s1">&#39;binary&#39;</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">bytes</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.date_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">date_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.date_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">date_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.DateSchema">DateSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a date value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.DateSchema">DateSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">date_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DateSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a date value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;date&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.time_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">time_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.time_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">time_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.TimeSchema">TimeSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a time value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.TimeSchema">TimeSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">time_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TimeSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a time value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.datetime_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">datetime_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.datetime_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">datetime_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.DatetimeSchema">DatetimeSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a datetime value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.DatetimeSchema">DatetimeSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">datetime_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DatetimeSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a datetime value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;date-time&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.timedelta_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">timedelta_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.timedelta_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">timedelta_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.TimedeltaSchema">TimedeltaSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a timedelta value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.TimedeltaSchema">TimedeltaSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">timedelta_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TimedeltaSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a timedelta value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">ser_json_timedelta</span> <span class="o">==</span> <span class="s1">&#39;float&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;number&#39;</span><span class="p">}</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;duration&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.literal_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">literal_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.literal_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">literal_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.LiteralSchema">LiteralSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a literal value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.LiteralSchema">LiteralSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">literal_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">LiteralSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a literal value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="n">to_jsonable_python</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">Enum</span><span class="p">)</span> <span class="k">else</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;expected&#39;</span><span class="p">]]</span>

    <span class="n">result</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;const&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">expected</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;enum&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">expected</span>

    <span class="n">types</span> <span class="o">=</span> <span class="p">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">expected</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">types</span> <span class="o">==</span> <span class="p">{</span><span class="nb">str</span><span class="p">}:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span>
    <span class="k">elif</span> <span class="n">types</span> <span class="o">==</span> <span class="p">{</span><span class="nb">int</span><span class="p">}:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;integer&#39;</span>
    <span class="k">elif</span> <span class="n">types</span> <span class="o">==</span> <span class="p">{</span><span class="nb">float</span><span class="p">}:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;number&#39;</span>
    <span class="k">elif</span> <span class="n">types</span> <span class="o">==</span> <span class="p">{</span><span class="nb">bool</span><span class="p">}:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;boolean&#39;</span>
    <span class="k">elif</span> <span class="n">types</span> <span class="o">==</span> <span class="p">{</span><span class="nb">list</span><span class="p">}:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;array&#39;</span>
    <span class="k">elif</span> <span class="n">types</span> <span class="o">==</span> <span class="p">{</span><span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)}:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;null&#39;</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.missing_sentinel_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">missing_sentinel_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.missing_sentinel_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">missing_sentinel_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.MissingSentinelSchema">MissingSentinelSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches the <code>MISSING</code> sentinel value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.MissingSentinelSchema">MissingSentinelSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">missing_sentinel_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">MissingSentinelSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches the `MISSING` sentinel value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="n">PydanticOmit</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.enum_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">enum_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.enum_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">enum_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.EnumSchema">EnumSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches an Enum value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.EnumSchema">EnumSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">enum_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">EnumSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches an Enum value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">enum_type</span> <span class="o">=</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;cls&#39;</span><span class="p">]</span>
    <span class="n">description</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">enum_type</span><span class="o">.</span><span class="vm">__doc__</span> <span class="k">else</span> <span class="n">inspect</span><span class="o">.</span><span class="n">cleandoc</span><span class="p">(</span><span class="n">enum_type</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">description</span> <span class="o">==</span> <span class="s1">&#39;An enumeration.&#39;</span>
    <span class="p">):</span>  <span class="c1"># This is the default value provided by enum.EnumMeta.__new__; don&#39;t use it</span>
        <span class="n">description</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">result</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">enum_type</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="n">description</span><span class="p">}</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

    <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="n">to_jsonable_python</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;members&#39;</span><span class="p">]]</span>

    <span class="n">result</span><span class="p">[</span><span class="s1">&#39;enum&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">expected</span>

    <span class="n">types</span> <span class="o">=</span> <span class="p">{</span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">expected</span><span class="p">}</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">enum_type</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">or</span> <span class="n">types</span> <span class="o">==</span> <span class="p">{</span><span class="nb">str</span><span class="p">}:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">enum_type</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">types</span> <span class="o">==</span> <span class="p">{</span><span class="nb">int</span><span class="p">}:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;integer&#39;</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">enum_type</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="ow">or</span> <span class="n">types</span> <span class="o">==</span> <span class="p">{</span><span class="nb">float</span><span class="p">}:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;number&#39;</span>
    <span class="k">elif</span> <span class="n">types</span> <span class="o">==</span> <span class="p">{</span><span class="nb">bool</span><span class="p">}:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;boolean&#39;</span>
    <span class="k">elif</span> <span class="n">types</span> <span class="o">==</span> <span class="p">{</span><span class="nb">list</span><span class="p">}:</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;array&#39;</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.is_instance_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">is_instance_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.is_instance_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">is_instance_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.IsInstanceSchema">IsInstanceSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Handles JSON schema generation for a core schema that checks if a value is an instance of a class.</p>
<p>Unless overridden in a subclass, this raises an error.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.IsInstanceSchema">IsInstanceSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_instance_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">IsInstanceSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Handles JSON schema generation for a core schema that checks if a value is an instance of a class.</span>

<span class="sd">    Unless overridden in a subclass, this raises an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">handle_invalid_for_json_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;core_schema.IsInstanceSchema (</span><span class="si">{</span><span class="n">schema</span><span class="p">[</span><span class="s2">&quot;cls&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.is_subclass_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">is_subclass_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.is_subclass_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">is_subclass_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.IsSubclassSchema">IsSubclassSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Handles JSON schema generation for a core schema that checks if a value is a subclass of a class.</p>
<p>For backwards compatibility with v1, this does not raise an error, but can be overridden to change this.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.IsSubclassSchema">IsSubclassSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">is_subclass_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">IsSubclassSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Handles JSON schema generation for a core schema that checks if a value is a subclass of a class.</span>

<span class="sd">    For backwards compatibility with v1, this does not raise an error, but can be overridden to change this.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Note: This is for compatibility with V1; you can override if you want different behavior.</span>
    <span class="k">return</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.callable_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">callable_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.callable_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">callable_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.CallableSchema">CallableSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a callable value.</p>
<p>Unless overridden in a subclass, this raises an error.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.CallableSchema">CallableSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">callable_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">CallableSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a callable value.</span>

<span class="sd">    Unless overridden in a subclass, this raises an error.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">handle_invalid_for_json_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="s1">&#39;core_schema.CallableSchema&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.list_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">list_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.list_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">list_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.ListSchema">ListSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns a schema that matches a list schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.ListSchema">ListSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">list_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ListSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a list schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">items_schema</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">if</span> <span class="s1">&#39;items_schema&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">schema</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;items_schema&#39;</span><span class="p">])</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span> <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="n">items_schema</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.tuple_positional_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">tuple_positional_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.tuple_positional_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">tuple_positional_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.TupleSchema">TupleSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Replaced by <code>tuple_schema</code>.</p>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s1">&#39;`tuple_positional_schema` is deprecated. Use `tuple_schema` instead.&#39;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="nd">@final</span>
<span class="k">def</span><span class="w"> </span><span class="nf">tuple_positional_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TupleSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Replaced by `tuple_schema`.&quot;&quot;&quot;</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s1">&#39;`tuple_positional_schema` is deprecated. Use `tuple_schema` instead.&#39;</span><span class="p">,</span>
        <span class="n">PydanticDeprecatedSince26</span><span class="p">,</span>
        <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tuple_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.tuple_variable_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">tuple_variable_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.tuple_variable_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">tuple_variable_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.TupleSchema">TupleSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Replaced by <code>tuple_schema</code>.</p>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@deprecated</span><span class="p">(</span><span class="s1">&#39;`tuple_variable_schema` is deprecated. Use `tuple_schema` instead.&#39;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="nd">@final</span>
<span class="k">def</span><span class="w"> </span><span class="nf">tuple_variable_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TupleSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Replaced by `tuple_schema`.&quot;&quot;&quot;</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s1">&#39;`tuple_variable_schema` is deprecated. Use `tuple_schema` instead.&#39;</span><span class="p">,</span>
        <span class="n">PydanticDeprecatedSince26</span><span class="p">,</span>
        <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tuple_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.tuple_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">tuple_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.tuple_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">tuple_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.TupleSchema">TupleSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a tuple schema e.g. <code>tuple[int,
str, bool]</code> or <code>tuple[int, ...]</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.TupleSchema">TupleSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tuple_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TupleSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a tuple schema e.g. `tuple[int,</span>
<span class="sd">    str, bool]` or `tuple[int, ...]`.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;array&#39;</span><span class="p">}</span>
    <span class="k">if</span> <span class="s1">&#39;variadic_item_index&#39;</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">:</span>
        <span class="n">variadic_item_index</span> <span class="o">=</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;variadic_item_index&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">variadic_item_index</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;minItems&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">variadic_item_index</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;prefixItems&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;items_schema&#39;</span><span class="p">][:</span><span class="n">variadic_item_index</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="k">if</span> <span class="n">variadic_item_index</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;items_schema&#39;</span><span class="p">]):</span>
            <span class="c1"># if the variadic item is the last item, then represent it faithfully</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;items_schema&#39;</span><span class="p">][</span><span class="n">variadic_item_index</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># otherwise, &#39;items&#39; represents the schema for the variadic</span>
            <span class="c1"># item plus the suffix, so just allow anything for simplicity</span>
            <span class="c1"># for now</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">prefixItems</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;items_schema&#39;</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">prefixItems</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;prefixItems&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prefixItems</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;minItems&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prefixItems</span><span class="p">)</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;maxItems&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prefixItems</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.set_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">set_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.set_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">set_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.SetSchema">SetSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a set schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.SetSchema">SetSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">SetSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a set schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_common_set_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.frozenset_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">frozenset_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.frozenset_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">frozenset_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.FrozenSetSchema">FrozenSetSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a frozenset schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.FrozenSetSchema">FrozenSetSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">frozenset_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">FrozenSetSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a frozenset schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_common_set_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.generator_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">generator_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.generator_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">generator_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.GeneratorSchema">GeneratorSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns a JSON schema that represents the provided GeneratorSchema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.GeneratorSchema">GeneratorSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">generator_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">GeneratorSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a JSON schema that represents the provided GeneratorSchema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">items_schema</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">if</span> <span class="s1">&#39;items_schema&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">schema</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;items_schema&#39;</span><span class="p">])</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span> <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="n">items_schema</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.dict_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">dict_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.dict_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">dict_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.DictSchema">DictSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a dict schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.DictSchema">DictSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dict_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DictSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a dict schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;object&#39;</span><span class="p">}</span>

    <span class="n">keys_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;keys_schema&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">if</span> <span class="s1">&#39;keys_schema&#39;</span> <span class="ow">in</span> <span class="n">schema</span> <span class="k">else</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="s1">&#39;$ref&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">keys_schema</span><span class="p">:</span>
        <span class="n">keys_pattern</span> <span class="o">=</span> <span class="n">keys_schema</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="c1"># Don&#39;t give a title to patternProperties/propertyNames:</span>
        <span class="n">keys_schema</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Here, we assume that if the keys schema is a definition reference,</span>
        <span class="c1"># it can&#39;t be a simple string core schema (and thus no pattern can exist).</span>
        <span class="c1"># However, this is only in practice (in theory, a definition reference core</span>
        <span class="c1"># schema could be generated for a simple string schema).</span>
        <span class="c1"># Note that we avoid calling `self.resolve_ref_schema`, as it might not exist yet.</span>
        <span class="n">keys_pattern</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">values_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;values_schema&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">if</span> <span class="s1">&#39;values_schema&#39;</span> <span class="ow">in</span> <span class="n">schema</span> <span class="k">else</span> <span class="p">{}</span>
    <span class="c1"># don&#39;t give a title to additionalProperties:</span>
    <span class="n">values_schema</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">values_schema</span> <span class="ow">or</span> <span class="n">keys_pattern</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">keys_pattern</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;additionalProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">values_schema</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;patternProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">keys_pattern</span><span class="p">:</span> <span class="n">values_schema</span><span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># for `dict[str, Any]`, we allow any key and any value, since `str` is the default key type</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;additionalProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="c1"># The len check indicates that constraints are probably present:</span>
        <span class="p">(</span><span class="n">keys_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;string&#39;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">keys_schema</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
        <span class="c1"># If this is a definition reference schema, it most likely has constraints:</span>
        <span class="ow">or</span> <span class="s1">&#39;$ref&#39;</span> <span class="ow">in</span> <span class="n">keys_schema</span>
    <span class="p">):</span>
        <span class="n">keys_schema</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;propertyNames&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">keys_schema</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.function_before_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">function_before_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.function_before_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">function_before_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.BeforeValidatorFunctionSchema">BeforeValidatorFunctionSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a function-before schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.BeforeValidatorFunctionSchema">BeforeValidatorFunctionSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">function_before_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">BeforeValidatorFunctionSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a function-before schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;validation&#39;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">input_schema</span> <span class="o">:=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;json_schema_input_schema&#39;</span><span class="p">)):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">input_schema</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.function_after_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">function_after_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.function_after_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">function_after_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.AfterValidatorFunctionSchema">AfterValidatorFunctionSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a function-after schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.AfterValidatorFunctionSchema">AfterValidatorFunctionSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">function_after_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">AfterValidatorFunctionSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a function-after schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.function_plain_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">function_plain_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.function_plain_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">function_plain_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.PlainValidatorFunctionSchema">PlainValidatorFunctionSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a function-plain schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.PlainValidatorFunctionSchema">PlainValidatorFunctionSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">function_plain_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">PlainValidatorFunctionSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a function-plain schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;validation&#39;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">input_schema</span> <span class="o">:=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;json_schema_input_schema&#39;</span><span class="p">)):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">input_schema</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">handle_invalid_for_json_schema</span><span class="p">(</span>
        <span class="n">schema</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;core_schema.PlainValidatorFunctionSchema (</span><span class="si">{</span><span class="n">schema</span><span class="p">[</span><span class="s2">&quot;function&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">)&#39;</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.function_wrap_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">function_wrap_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.function_wrap_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">function_wrap_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.WrapValidatorFunctionSchema">WrapValidatorFunctionSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a function-wrap schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.WrapValidatorFunctionSchema">WrapValidatorFunctionSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">function_wrap_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">WrapValidatorFunctionSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a function-wrap schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;validation&#39;</span> <span class="ow">and</span> <span class="p">(</span><span class="n">input_schema</span> <span class="o">:=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;json_schema_input_schema&#39;</span><span class="p">)):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">input_schema</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.default_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">default_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.default_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">default_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.WithDefaultSchema">WithDefaultSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema with a default value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.WithDefaultSchema">WithDefaultSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">default_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">WithDefaultSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema with a default value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>

    <span class="n">default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default_value</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="n">NoDefault</span> <span class="ow">or</span> <span class="n">default</span> <span class="ow">is</span> <span class="n">MISSING</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">json_schema</span>

    <span class="c1"># we reflect the application of custom plain, no-info serializers to defaults for</span>
    <span class="c1"># JSON Schemas viewed in serialization mode:</span>
    <span class="c1"># TODO: improvements along with https://github.com/pydantic/pydantic/issues/8208</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;serialization&#39;</span><span class="p">:</span>
        <span class="c1"># `_get_ser_schema_for_default_value()` is used to unpack potentially nested validator schemas:</span>
        <span class="n">ser_schema</span> <span class="o">=</span> <span class="n">_get_ser_schema_for_default_value</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">ser_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="p">(</span><span class="n">ser_func</span> <span class="o">:=</span> <span class="n">ser_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;function&#39;</span><span class="p">))</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">ser_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;when_used&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;unless-none&#39;</span><span class="p">,</span> <span class="s1">&#39;json-unless-none&#39;</span><span class="p">))</span>
        <span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">default</span> <span class="o">=</span> <span class="n">ser_func</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="c1"># It might be that the provided default needs to be validated (read: parsed) first</span>
                <span class="c1"># (assuming `validate_default` is enabled). However, we can&#39;t perform</span>
                <span class="c1"># such validation during JSON Schema generation so we don&#39;t support</span>
                <span class="c1"># this pattern for now.</span>
                <span class="c1"># (One example is when using `foo: ByteSize = &#39;1MB&#39;`, which validates and</span>
                <span class="c1"># serializes as an int. In this case, `ser_func` is `int` and `int(&#39;1MB&#39;)` fails).</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">emit_warning</span><span class="p">(</span>
                    <span class="s1">&#39;non-serializable-default&#39;</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s1">&#39;Unable to serialize value </span><span class="si">{</span><span class="n">default</span><span class="si">!r}</span><span class="s1"> with the plain serializer; excluding default from JSON schema&#39;</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="n">json_schema</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">encoded_default</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">encode_default</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">pydantic_core</span><span class="o">.</span><span class="n">PydanticSerializationError</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit_warning</span><span class="p">(</span>
            <span class="s1">&#39;non-serializable-default&#39;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s1">&#39;Default value </span><span class="si">{</span><span class="n">default</span><span class="si">}</span><span class="s1"> is not JSON serializable; excluding default from JSON schema&#39;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Return the inner schema, as though there was no default</span>
        <span class="k">return</span> <span class="n">json_schema</span>

    <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">encoded_default</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.get_default_value" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_default_value</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.get_default_value" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">get_default_value</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.WithDefaultSchema">WithDefaultSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get the default value to be used when generating a JSON Schema for a core schema with a default.</p>
<p>The default implementation is to use the statically defined default value. This method can be overridden
if you want to make use of the default factory.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.WithDefaultSchema">WithDefaultSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The <code>'with-default'</code> core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The default value to use, or <a class="autorefs autorefs-internal" href="#pydantic.json_schema.NoDefault"><code>NoDefault</code></a> if no default
value is available.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_default_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">WithDefaultSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the default value to be used when generating a JSON Schema for a core schema with a default.</span>

<span class="sd">    The default implementation is to use the statically defined default value. This method can be overridden</span>
<span class="sd">    if you want to make use of the default factory.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The `&#39;with-default&#39;` core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The default value to use, or [`NoDefault`][pydantic.json_schema.NoDefault] if no default</span>
<span class="sd">            value is available.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">NoDefault</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.nullable_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">nullable_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.nullable_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">nullable_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.NullableSchema">NullableSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that allows null values.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.NullableSchema">NullableSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">nullable_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">NullableSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that allows null values.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">null_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;null&#39;</span><span class="p">}</span>
    <span class="n">inner_json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">inner_json_schema</span> <span class="o">==</span> <span class="n">null_schema</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">null_schema</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_union_of_schemas</span><span class="p">([</span><span class="n">inner_json_schema</span><span class="p">,</span> <span class="n">null_schema</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.union_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">union_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.union_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">union_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.UnionSchema">UnionSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that allows values matching any of the given schemas.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.UnionSchema">UnionSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">union_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">UnionSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that allows values matching any of the given schemas.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">generated</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">JsonSchemaValue</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">choices</span> <span class="o">=</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;choices&#39;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">choices</span><span class="p">:</span>
        <span class="c1"># choice will be a tuple if an explicit label was provided</span>
        <span class="n">choice_schema</span> <span class="o">=</span> <span class="n">choice</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">choice</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="k">else</span> <span class="n">choice</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">generated</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">choice_schema</span><span class="p">))</span>
        <span class="k">except</span> <span class="n">PydanticOmit</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">except</span> <span class="n">PydanticInvalidForJsonSchema</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">emit_warning</span><span class="p">(</span><span class="s1">&#39;skipped-choice&#39;</span><span class="p">,</span> <span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">generated</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">generated</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_union_of_schemas</span><span class="p">(</span><span class="n">generated</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.get_union_of_schemas" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_union_of_schemas</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.get_union_of_schemas" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">get_union_of_schemas</span><span class="p">(</span>
    <span class="n">schemas</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns the JSON Schema representation for the union of the provided JSON Schemas.</p>
<p>The result depends on the configured <code>'union_format'</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schemas</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-list">list</a>[<a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of JSON Schemas to be included in the union.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The JSON Schema representing the union of schemas.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_union_of_schemas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schemas</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">JsonSchemaValue</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the JSON Schema representation for the union of the provided JSON Schemas.</span>

<span class="sd">    The result depends on the configured `&#39;union_format&#39;`.</span>

<span class="sd">    Args:</span>
<span class="sd">        schemas: The list of JSON Schemas to be included in the union.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The JSON Schema representing the union of schemas.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">union_format</span> <span class="o">==</span> <span class="s1">&#39;primitive_type_array&#39;</span><span class="p">:</span>
        <span class="n">types</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">schemas</span><span class="p">:</span>
            <span class="n">schema_types</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">schema_types</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># No type, meaning it can be a ref or an empty schema.</span>
                <span class="k">break</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema_types</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">schema_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">schema_types</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">t</span> <span class="ow">in</span> <span class="n">_PRIMITIVE_JSON_SCHEMA_TYPES</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">schema_types</span><span class="p">):</span>
                <span class="k">break</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># We only want to include types that don&#39;t have any constraints. For instance,</span>
                <span class="c1"># if `schemas = [{&#39;type&#39;: &#39;string&#39;, &#39;maxLength&#39;: 3}, {&#39;type&#39;: &#39;string&#39;, &#39;minLength&#39;: 5}]`,</span>
                <span class="c1"># we don&#39;t want to produce `{&#39;type&#39;: &#39;string&#39;, &#39;maxLength&#39;: 3, &#39;minLength&#39;: 5}`.</span>
                <span class="c1"># Same if we have some metadata (e.g. `title`) on a specific union member, we want to preserve it.</span>
                <span class="k">break</span>

            <span class="n">types</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">schema_types</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If we got there, all the schemas where valid to be used with the `&#39;primitive_type_array` format</span>
            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">types</span><span class="p">))}</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_flattened_anyof</span><span class="p">(</span><span class="n">schemas</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.tagged_union_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">tagged_union_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.tagged_union_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">tagged_union_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.TaggedUnionSchema">TaggedUnionSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that allows values matching any of the given schemas, where
the schemas are tagged with a discriminator field that indicates which schema should be used to validate
the value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.TaggedUnionSchema">TaggedUnionSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">tagged_union_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TaggedUnionSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that allows values matching any of the given schemas, where</span>
<span class="sd">    the schemas are tagged with a discriminator field that indicates which schema should be used to validate</span>
<span class="sd">    the value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">generated</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">JsonSchemaValue</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;choices&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
            <span class="n">k</span> <span class="o">=</span> <span class="n">k</span><span class="o">.</span><span class="n">value</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Use str(k) since keys must be strings for json; while not technically correct,</span>
            <span class="c1"># it&#39;s the closest that can be represented in valid JSON</span>
            <span class="n">generated</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">PydanticOmit</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">except</span> <span class="n">PydanticInvalidForJsonSchema</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">emit_warning</span><span class="p">(</span><span class="s1">&#39;skipped-choice&#39;</span><span class="p">,</span> <span class="n">exc</span><span class="o">.</span><span class="n">message</span><span class="p">)</span>

    <span class="n">one_of_choices</span> <span class="o">=</span> <span class="n">_deduplicate_schemas</span><span class="p">(</span><span class="n">generated</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;oneOf&#39;</span><span class="p">:</span> <span class="n">one_of_choices</span><span class="p">}</span>

    <span class="c1"># This reflects the v1 behavior; TODO: we should make it possible to exclude OpenAPI stuff from the JSON schema</span>
    <span class="n">openapi_discriminator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_discriminator</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">one_of_choices</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">openapi_discriminator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;discriminator&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;propertyName&#39;</span><span class="p">:</span> <span class="n">openapi_discriminator</span><span class="p">,</span>
            <span class="s1">&#39;mapping&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;$ref&#39;</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">generated</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span>
        <span class="p">}</span>

    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.chain_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">chain_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.chain_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">chain_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.ChainSchema">ChainSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a core_schema.ChainSchema.</p>
<p>When generating a schema for validation, we return the validation JSON schema for the first step in the chain.
For serialization, we return the serialization JSON schema for the last step in the chain.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.ChainSchema">ChainSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">chain_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ChainSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a core_schema.ChainSchema.</span>

<span class="sd">    When generating a schema for validation, we return the validation JSON schema for the first step in the chain.</span>
<span class="sd">    For serialization, we return the serialization JSON schema for the last step in the chain.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">step_index</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;validation&#39;</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>  <span class="c1"># use first step for validation, last for serialization</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;steps&#39;</span><span class="p">][</span><span class="n">step_index</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.lax_or_strict_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">lax_or_strict_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.lax_or_strict_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">lax_or_strict_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.LaxOrStrictSchema">LaxOrStrictSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that allows values matching either the lax schema or the
strict schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.LaxOrStrictSchema">LaxOrStrictSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">lax_or_strict_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">LaxOrStrictSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that allows values matching either the lax schema or the</span>
<span class="sd">    strict schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO: Need to read the default value off of model config or whatever</span>
    <span class="n">use_strict</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;strict&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>  <span class="c1"># TODO: replace this default False</span>
    <span class="c1"># If your JSON schema fails to generate it is probably</span>
    <span class="c1"># because one of the following two branches failed.</span>
    <span class="k">if</span> <span class="n">use_strict</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;strict_schema&#39;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;lax_schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.json_or_python_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">json_or_python_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.json_or_python_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">json_or_python_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.JsonOrPythonSchema">JsonOrPythonSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that allows values matching either the JSON schema or the
Python schema.</p>
<p>The JSON schema is used instead of the Python schema. If you want to use the Python schema, you should override
this method.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.JsonOrPythonSchema">JsonOrPythonSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">json_or_python_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">JsonOrPythonSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that allows values matching either the JSON schema or the</span>
<span class="sd">    Python schema.</span>

<span class="sd">    The JSON schema is used instead of the Python schema. If you want to use the Python schema, you should override</span>
<span class="sd">    this method.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;json_schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.typed_dict_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">typed_dict_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.typed_dict_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">typed_dict_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.TypedDictSchema">TypedDictSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a typed dict.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.TypedDictSchema">TypedDictSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">typed_dict_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TypedDictSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a typed dict.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">total</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;total&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">named_required_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">CoreSchemaField</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_is_required</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">total</span><span class="p">),</span> <span class="n">field</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;fields&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_is_present</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;serialization&#39;</span><span class="p">:</span>
        <span class="n">named_required_fields</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name_required_computed_fields</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;computed_fields&#39;</span><span class="p">,</span> <span class="p">[])))</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;cls&#39;</span><span class="p">)</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">_get_typed_dict_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_wrapper_stack</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
        <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_named_required_fields_schema</span><span class="p">(</span><span class="n">named_required_fields</span><span class="p">)</span>

    <span class="c1"># There&#39;s some duplication between `extra_behavior` and</span>
    <span class="c1"># the config&#39;s `extra`/core config&#39;s `extra_fields_behavior`.</span>
    <span class="c1"># However, it is common to manually create TypedDictSchemas,</span>
    <span class="c1"># where you don&#39;t necessarily have a class.</span>
    <span class="c1"># At runtime, `extra_behavior` takes priority over the config</span>
    <span class="c1"># for validation, so follow the same for the JSON Schema:</span>
    <span class="k">if</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;extra_behavior&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;forbid&#39;</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;additionalProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">elif</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;extra_behavior&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;allow&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">&#39;extras_schema&#39;</span> <span class="ow">in</span> <span class="n">schema</span> <span class="ow">and</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;extras_schema&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;any&#39;</span><span class="p">}:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;additionalProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;extras_schema&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;additionalProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="bp">cls</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># `_update_class_schema()` will not override</span>
        <span class="c1"># `additionalProperties` if already present:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_class_schema</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
    <span class="k">elif</span> <span class="s1">&#39;additionalProperties&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">json_schema</span><span class="p">:</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;config&#39;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;extra_fields_behavior&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">extra</span> <span class="o">==</span> <span class="s1">&#39;forbid&#39;</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;additionalProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">extra</span> <span class="o">==</span> <span class="s1">&#39;allow&#39;</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;additionalProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.typed_dict_field_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">typed_dict_field_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.typed_dict_field_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">typed_dict_field_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.TypedDictField">TypedDictField</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a typed dict field.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.TypedDictField">TypedDictField</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">typed_dict_field_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TypedDictField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a typed dict field.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.dataclass_field_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">dataclass_field_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.dataclass_field_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">dataclass_field_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.DataclassField">DataclassField</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a dataclass field.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.DataclassField">DataclassField</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dataclass_field_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DataclassField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a dataclass field.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.model_field_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">model_field_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.model_field_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">model_field_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.ModelField">ModelField</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a model field.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.ModelField">ModelField</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">model_field_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ModelField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a model field.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.computed_field_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">computed_field_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.computed_field_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">computed_field_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.ComputedField">ComputedField</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a computed field.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.ComputedField">ComputedField</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">computed_field_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ComputedField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a computed field.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;return_schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.model_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">model_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.model_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">model_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.ModelSchema">ModelSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.ModelSchema">ModelSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">model_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ModelSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a model.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># We do not use schema[&#39;model&#39;].model_json_schema() here</span>
    <span class="c1"># because it could lead to inconsistent refs handling, etc.</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="s1">&#39;type[BaseModel]&#39;</span><span class="p">,</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;cls&#39;</span><span class="p">])</span>
    <span class="n">config</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_config</span>

    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_wrapper_stack</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
        <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_update_class_schema</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.resolve_ref_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">resolve_ref_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.resolve_ref_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">resolve_ref_schema</span><span class="p">(</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Resolve a JsonSchemaValue to the non-ref schema if it is a $ref schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>json_schema</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The schema to resolve.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The resolved schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError">RuntimeError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the schema reference can't be found in definitions.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">resolve_ref_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resolve a JsonSchemaValue to the non-ref schema if it is a $ref schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        json_schema: The schema to resolve.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resolved schema.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the schema reference can&#39;t be found in definitions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">while</span> <span class="s1">&#39;$ref&#39;</span> <span class="ow">in</span> <span class="n">json_schema</span><span class="p">:</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">]</span>
        <span class="n">schema_to_update</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_schema_from_definitions</span><span class="p">(</span><span class="n">JsonRef</span><span class="p">(</span><span class="n">ref</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">schema_to_update</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot update undefined schema for $ref=</span><span class="si">{</span><span class="n">ref</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">json_schema</span> <span class="o">=</span> <span class="n">schema_to_update</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.model_fields_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">model_fields_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.model_fields_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">model_fields_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.ModelFieldsSchema">ModelFieldsSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a model's fields.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.ModelFieldsSchema">ModelFieldsSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">model_fields_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ModelFieldsSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a model&#39;s fields.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">named_required_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">CoreSchemaField</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_is_required</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">field</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;fields&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_is_present</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;serialization&#39;</span><span class="p">:</span>
        <span class="n">named_required_fields</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name_required_computed_fields</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;computed_fields&#39;</span><span class="p">,</span> <span class="p">[])))</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_named_required_fields_schema</span><span class="p">(</span><span class="n">named_required_fields</span><span class="p">)</span>
    <span class="n">extras_schema</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;extras_schema&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">extras_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">schema_to_update</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolve_ref_schema</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
        <span class="n">schema_to_update</span><span class="p">[</span><span class="s1">&#39;additionalProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">extras_schema</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.field_is_present" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">field_is_present</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.field_is_present" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">field_is_present</span><span class="p">(</span><span class="n">field</span><span class="p">:</span> <span class="n"><span title="pydantic._internal._core_utils.CoreSchemaField">CoreSchemaField</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Whether the field should be included in the generated JSON schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>field</code>
            </td>
            <td>
                  <code><span title="pydantic._internal._core_utils.CoreSchemaField">CoreSchemaField</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The schema for the field itself.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True</code> if the field should be included in the generated JSON schema, <code>False</code> otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">field_is_present</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="n">CoreSchemaField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Whether the field should be included in the generated JSON schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        field: The schema for the field itself.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the field should be included in the generated JSON schema, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;serialization&#39;</span><span class="p">:</span>
        <span class="c1"># If you still want to include the field in the generated JSON schema,</span>
        <span class="c1"># override this method and return True</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">field</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;serialization_exclude&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;validation&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">assert_never</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.field_is_required" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">field_is_required</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.field_is_required" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">field_is_required</span><span class="p">(</span>
    <span class="n">field</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.ModelField">ModelField</span></span> <span class="o">|</span> <span class="n"><span title="pydantic_core.core_schema.DataclassField">DataclassField</span></span> <span class="o">|</span> <span class="n"><span title="pydantic_core.core_schema.TypedDictField">TypedDictField</span></span><span class="p">,</span>
    <span class="n">total</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Whether the field should be marked as required in the generated JSON schema.
(Note that this is irrelevant if the field is not present in the JSON schema.).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>field</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.ModelField">ModelField</span> | <span title="pydantic_core.core_schema.DataclassField">DataclassField</span> | <span title="pydantic_core.core_schema.TypedDictField">TypedDictField</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The schema for the field itself.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>total</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Only applies to <code>TypedDictField</code>s.
Indicates if the <code>TypedDict</code> this field belongs to is total, in which case any fields that don't
explicitly specify <code>required=False</code> are required.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True</code> if the field should be marked as required in the generated JSON schema, <code>False</code> otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">field_is_required</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ModelField</span> <span class="o">|</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DataclassField</span> <span class="o">|</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TypedDictField</span><span class="p">,</span>
    <span class="n">total</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Whether the field should be marked as required in the generated JSON schema.</span>
<span class="sd">    (Note that this is irrelevant if the field is not present in the JSON schema.).</span>

<span class="sd">    Args:</span>
<span class="sd">        field: The schema for the field itself.</span>
<span class="sd">        total: Only applies to `TypedDictField`s.</span>
<span class="sd">            Indicates if the `TypedDict` this field belongs to is total, in which case any fields that don&#39;t</span>
<span class="sd">            explicitly specify `required=False` are required.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the field should be marked as required in the generated JSON schema, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">field</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;typed-dict-field&#39;</span><span class="p">:</span>
        <span class="n">required</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;required&#39;</span><span class="p">,</span> <span class="n">total</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">required</span> <span class="o">=</span> <span class="n">field</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;default&#39;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;serialization&#39;</span><span class="p">:</span>
        <span class="n">has_exclude_if</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;serialization_exclude_if&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">json_schema_serialization_defaults_required</span><span class="p">:</span>
            <span class="k">return</span> <span class="ow">not</span> <span class="n">has_exclude_if</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">required</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">has_exclude_if</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">required</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.dataclass_args_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">dataclass_args_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.dataclass_args_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">dataclass_args_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.DataclassArgsSchema">DataclassArgsSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a dataclass's constructor arguments.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.DataclassArgsSchema">DataclassArgsSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dataclass_args_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DataclassArgsSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a dataclass&#39;s constructor arguments.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">named_required_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">CoreSchemaField</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">field</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_is_required</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">field</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;fields&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_is_present</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;serialization&#39;</span><span class="p">:</span>
        <span class="n">named_required_fields</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name_required_computed_fields</span><span class="p">(</span><span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;computed_fields&#39;</span><span class="p">,</span> <span class="p">[])))</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_named_required_fields_schema</span><span class="p">(</span><span class="n">named_required_fields</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.dataclass_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">dataclass_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.dataclass_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">dataclass_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.DataclassSchema">DataclassSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a dataclass.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.DataclassSchema">DataclassSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">dataclass_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DataclassSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a dataclass.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">._internal._dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">is_stdlib_dataclass</span>

    <span class="bp">cls</span> <span class="o">=</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;cls&#39;</span><span class="p">]</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ConfigDict</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s1">&#39;__pydantic_config__&#39;</span><span class="p">,</span> <span class="n">cast</span><span class="p">(</span><span class="s1">&#39;ConfigDict&#39;</span><span class="p">,</span> <span class="p">{}))</span>

    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_wrapper_stack</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
        <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_update_class_schema</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>

    <span class="c1"># Dataclass-specific handling of description</span>
    <span class="k">if</span> <span class="n">is_stdlib_dataclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="c1"># vanilla dataclass; don&#39;t use cls.__doc__ as it will contain the class signature by default</span>
        <span class="n">description</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">description</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__doc__</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">inspect</span><span class="o">.</span><span class="n">cleandoc</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">description</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>

    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.arguments_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">arguments_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.arguments_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">arguments_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.ArgumentsSchema">ArgumentsSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a function's arguments.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.ArgumentsSchema">ArgumentsSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">arguments_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ArgumentsSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a function&#39;s arguments.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefer_positional</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pydantic_js_prefer_positional_arguments&#39;</span><span class="p">)</span>

    <span class="n">arguments</span> <span class="o">=</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;arguments_schema&#39;</span><span class="p">]</span>
    <span class="n">kw_only_arguments</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">arguments</span> <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;keyword_only&#39;</span><span class="p">]</span>
    <span class="n">kw_or_p_arguments</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">arguments</span> <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="p">{</span><span class="s1">&#39;positional_or_keyword&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">}]</span>
    <span class="n">p_only_arguments</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">arguments</span> <span class="k">if</span> <span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;positional_only&#39;</span><span class="p">]</span>
    <span class="n">var_args_schema</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;var_args_schema&#39;</span><span class="p">)</span>
    <span class="n">var_kwargs_schema</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;var_kwargs_schema&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">prefer_positional</span><span class="p">:</span>
        <span class="n">positional_possible</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">kw_only_arguments</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">var_kwargs_schema</span>
        <span class="k">if</span> <span class="n">positional_possible</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_arguments_schema</span><span class="p">(</span><span class="n">p_only_arguments</span> <span class="o">+</span> <span class="n">kw_or_p_arguments</span><span class="p">,</span> <span class="n">var_args_schema</span><span class="p">)</span>

    <span class="n">keyword_possible</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">p_only_arguments</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">var_args_schema</span>
    <span class="k">if</span> <span class="n">keyword_possible</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">kw_arguments_schema</span><span class="p">(</span><span class="n">kw_or_p_arguments</span> <span class="o">+</span> <span class="n">kw_only_arguments</span><span class="p">,</span> <span class="n">var_kwargs_schema</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">prefer_positional</span><span class="p">:</span>
        <span class="n">positional_possible</span> <span class="o">=</span> <span class="ow">not</span> <span class="n">kw_only_arguments</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">var_kwargs_schema</span>
        <span class="k">if</span> <span class="n">positional_possible</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_arguments_schema</span><span class="p">(</span><span class="n">p_only_arguments</span> <span class="o">+</span> <span class="n">kw_or_p_arguments</span><span class="p">,</span> <span class="n">var_args_schema</span><span class="p">)</span>

    <span class="k">raise</span> <span class="n">PydanticInvalidForJsonSchema</span><span class="p">(</span>
        <span class="s1">&#39;Unable to generate JSON schema for arguments validator with positional-only and keyword-only arguments&#39;</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.kw_arguments_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">kw_arguments_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.kw_arguments_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">kw_arguments_schema</span><span class="p">(</span>
    <span class="n">arguments</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-list">list</a></span><span class="p">[</span><span class="n"><span title="pydantic_core.core_schema.ArgumentsParameter">ArgumentsParameter</span></span><span class="p">],</span>
    <span class="n">var_kwargs_schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.CoreSchema">CoreSchema</span></span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a function's keyword arguments.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>arguments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-list">list</a>[<span title="pydantic_core.core_schema.ArgumentsParameter">ArgumentsParameter</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">kw_arguments_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">arguments</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">core_schema</span><span class="o">.</span><span class="n">ArgumentsParameter</span><span class="p">],</span> <span class="n">var_kwargs_schema</span><span class="p">:</span> <span class="n">CoreSchema</span> <span class="o">|</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a function&#39;s keyword arguments.</span>

<span class="sd">    Args:</span>
<span class="sd">        arguments: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">properties</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">JsonSchemaValue</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">required</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">argument</span> <span class="ow">in</span> <span class="n">arguments</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_argument_name</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>
        <span class="n">argument_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">argument</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">argument_schema</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_title_should_be_set</span><span class="p">(</span><span class="n">argument</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">]):</span>
            <span class="n">argument_schema</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_title_from_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">properties</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">argument_schema</span>

        <span class="k">if</span> <span class="n">argument</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span>
            <span class="c1"># This assumes that if the argument has a default value,</span>
            <span class="c1"># the inner schema must be of type WithDefaultSchema.</span>
            <span class="c1"># I believe this is true, but I am not 100% sure</span>
            <span class="n">required</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="s1">&#39;properties&#39;</span><span class="p">:</span> <span class="n">properties</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">required</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;required&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">required</span>

    <span class="k">if</span> <span class="n">var_kwargs_schema</span><span class="p">:</span>
        <span class="n">additional_properties_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">var_kwargs_schema</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">additional_properties_schema</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;additionalProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">additional_properties_schema</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;additionalProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.p_arguments_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">p_arguments_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.p_arguments_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">p_arguments_schema</span><span class="p">(</span>
    <span class="n">arguments</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-list">list</a></span><span class="p">[</span><span class="n"><span title="pydantic_core.core_schema.ArgumentsParameter">ArgumentsParameter</span></span><span class="p">],</span>
    <span class="n">var_args_schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.CoreSchema">CoreSchema</span></span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a function's positional arguments.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>arguments</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-list">list</a>[<span title="pydantic_core.core_schema.ArgumentsParameter">ArgumentsParameter</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">p_arguments_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">arguments</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">core_schema</span><span class="o">.</span><span class="n">ArgumentsParameter</span><span class="p">],</span> <span class="n">var_args_schema</span><span class="p">:</span> <span class="n">CoreSchema</span> <span class="o">|</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a function&#39;s positional arguments.</span>

<span class="sd">    Args:</span>
<span class="sd">        arguments: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefix_items</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">JsonSchemaValue</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">min_items</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">argument</span> <span class="ow">in</span> <span class="n">arguments</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_argument_name</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>

        <span class="n">argument_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">argument</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="s1">&#39;title&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">argument_schema</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_title_should_be_set</span><span class="p">(</span><span class="n">argument</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">]):</span>
            <span class="n">argument_schema</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_title_from_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">prefix_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">argument_schema</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">argument</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span>
            <span class="c1"># This assumes that if the argument has a default value,</span>
            <span class="c1"># the inner schema must be of type WithDefaultSchema.</span>
            <span class="c1"># I believe this is true, but I am not 100% sure</span>
            <span class="n">min_items</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;array&#39;</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">prefix_items</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;prefixItems&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prefix_items</span>
    <span class="k">if</span> <span class="n">min_items</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;minItems&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">min_items</span>

    <span class="k">if</span> <span class="n">var_args_schema</span><span class="p">:</span>
        <span class="n">items_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">var_args_schema</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">items_schema</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">items_schema</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;maxItems&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prefix_items</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.get_argument_name" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_argument_name</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.get_argument_name" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">get_argument_name</span><span class="p">(</span>
    <span class="n">argument</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.ArgumentsParameter">ArgumentsParameter</span></span> <span class="o">|</span> <span class="n"><span title="pydantic_core.core_schema.ArgumentsV3Parameter">ArgumentsV3Parameter</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Retrieves the name of an argument.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>argument</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.ArgumentsParameter">ArgumentsParameter</span> | <span title="pydantic_core.core_schema.ArgumentsV3Parameter">ArgumentsV3Parameter</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the argument.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_argument_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ArgumentsParameter</span> <span class="o">|</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ArgumentsV3Parameter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves the name of an argument.</span>

<span class="sd">    Args:</span>
<span class="sd">        argument: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The name of the argument.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">argument</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">by_alias</span><span class="p">:</span>
        <span class="n">alias</span> <span class="o">=</span> <span class="n">argument</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;alias&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">alias</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">alias</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span>  <span class="c1"># might want to do something else?</span>
    <span class="k">return</span> <span class="n">name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.arguments_v3_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">arguments_v3_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.arguments_v3_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">arguments_v3_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.ArgumentsV3Schema">ArgumentsV3Schema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a function's arguments.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.ArgumentsV3Schema">ArgumentsV3Schema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">arguments_v3_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ArgumentsV3Schema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a function&#39;s arguments.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;arguments_schema&#39;</span><span class="p">]</span>
    <span class="n">properties</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">JsonSchemaValue</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">required</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">argument</span> <span class="ow">in</span> <span class="n">arguments</span><span class="p">:</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">argument</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span><span class="p">,</span> <span class="s1">&#39;positional_or_keyword&#39;</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_argument_name</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>
        <span class="n">argument_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">argument</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;var_args&#39;</span><span class="p">:</span>
            <span class="n">argument_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span> <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="n">argument_schema</span><span class="p">}</span>
        <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;var_kwargs_uniform&#39;</span><span class="p">:</span>
            <span class="n">argument_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="s1">&#39;additionalProperties&#39;</span><span class="p">:</span> <span class="n">argument_schema</span><span class="p">}</span>

        <span class="n">argument_schema</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_title_from_name</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
        <span class="n">properties</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">argument_schema</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="p">(</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;var_kwargs_unpacked_typed_dict&#39;</span> <span class="ow">and</span> <span class="s1">&#39;required&#39;</span> <span class="ow">in</span> <span class="n">argument_schema</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s1">&#39;var_args&#39;</span><span class="p">,</span> <span class="s1">&#39;var_kwargs_uniform&#39;</span><span class="p">,</span> <span class="s1">&#39;var_kwargs_unpacked_typed_dict&#39;</span><span class="p">}</span>
            <span class="ow">and</span> <span class="n">argument</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;default&#39;</span>
        <span class="p">):</span>
            <span class="c1"># This assumes that if the argument has a default value,</span>
            <span class="c1"># the inner schema must be of type WithDefaultSchema.</span>
            <span class="c1"># I believe this is true, but I am not 100% sure</span>
            <span class="n">required</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span> <span class="s1">&#39;properties&#39;</span><span class="p">:</span> <span class="n">properties</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">required</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;required&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">required</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.call_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">call_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.call_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">call_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.CallSchema">CallSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a function call.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.CallSchema">CallSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">call_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">CallSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a function call.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;arguments_schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.custom_error_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">custom_error_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.custom_error_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">custom_error_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.CustomErrorSchema">CustomErrorSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a custom error.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.CustomErrorSchema">CustomErrorSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">custom_error_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">CustomErrorSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a custom error.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.json_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">json_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.json_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">json_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.JsonSchema">JsonSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a JSON object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.JsonSchema">JsonSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">json_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">JsonSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a JSON object.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">content_core_schema</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;schema&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">any_schema</span><span class="p">()</span>
    <span class="n">content_json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">content_core_schema</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;validation&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;contentMediaType&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span> <span class="s1">&#39;contentSchema&#39;</span><span class="p">:</span> <span class="n">content_json_schema</span><span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># self.mode == &#39;serialization&#39;</span>
        <span class="k">return</span> <span class="n">content_json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.url_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">url_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.url_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">url_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.UrlSchema">UrlSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a URL.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.UrlSchema">UrlSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">url_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">UrlSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a URL.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;uri&#39;</span><span class="p">,</span> <span class="s1">&#39;minLength&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.multi_host_url_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">multi_host_url_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.multi_host_url_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">multi_host_url_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.MultiHostUrlSchema">MultiHostUrlSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a URL that can be used with multiple hosts.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.MultiHostUrlSchema">MultiHostUrlSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">multi_host_url_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">MultiHostUrlSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a URL that can be used with multiple hosts.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Note: &#39;multi-host-uri&#39; is a custom/pydantic-specific format, not part of the JSON Schema spec</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;multi-host-uri&#39;</span><span class="p">,</span> <span class="s1">&#39;minLength&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.uuid_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">uuid_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.uuid_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">uuid_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.UuidSchema">UuidSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a UUID.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.UuidSchema">UuidSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">uuid_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">UuidSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a UUID.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;uuid&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.definitions_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">definitions_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.definitions_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">definitions_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.DefinitionsSchema">DefinitionsSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a JSON object with definitions.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.DefinitionsSchema">DefinitionsSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">definitions_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DefinitionsSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a JSON object with definitions.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">definition</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;definitions&#39;</span><span class="p">]:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">definition</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">PydanticInvalidForJsonSchema</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  <span class="c1"># noqa: PERF203</span>
            <span class="n">core_ref</span><span class="p">:</span> <span class="n">CoreRef</span> <span class="o">=</span> <span class="n">CoreRef</span><span class="p">(</span><span class="n">definition</span><span class="p">[</span><span class="s1">&#39;ref&#39;</span><span class="p">])</span>  <span class="c1"># type: ignore</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_core_defs_invalid_for_json_schema</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_defs_ref</span><span class="p">((</span><span class="n">core_ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">))]</span> <span class="o">=</span> <span class="n">e</span>
            <span class="k">continue</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.definition_ref_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">definition_ref_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.definition_ref_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">definition_ref_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.DefinitionReferenceSchema">DefinitionReferenceSchema</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that references a definition.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.DefinitionReferenceSchema">DefinitionReferenceSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">definition_ref_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DefinitionReferenceSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that references a definition.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">core_ref</span> <span class="o">=</span> <span class="n">CoreRef</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema_ref&#39;</span><span class="p">])</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">ref_json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cache_defs_ref_schema</span><span class="p">(</span><span class="n">core_ref</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ref_json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.ser_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">ser_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.ser_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">ser_schema</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="p">(</span>
        <span class="n"><span title="pydantic_core.core_schema.SerSchema">SerSchema</span></span> <span class="o">|</span> <span class="n"><span title="pydantic_core.core_schema.IncExSeqSerSchema">IncExSeqSerSchema</span></span> <span class="o">|</span> <span class="n"><span title="pydantic_core.core_schema.IncExDictSerSchema">IncExDictSerSchema</span></span>
    <span class="p">),</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a schema that defines a serialized object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.SerSchema">SerSchema</span> | <span title="pydantic_core.core_schema.IncExSeqSerSchema">IncExSeqSerSchema</span> | <span title="pydantic_core.core_schema.IncExDictSerSchema">IncExDictSerSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">ser_schema</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">SerSchema</span> <span class="o">|</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">IncExSeqSerSchema</span> <span class="o">|</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">IncExDictSerSchema</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a schema that defines a serialized object.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">schema_type</span> <span class="o">=</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">schema_type</span> <span class="o">==</span> <span class="s1">&#39;function-plain&#39;</span> <span class="ow">or</span> <span class="n">schema_type</span> <span class="o">==</span> <span class="s1">&#39;function-wrap&#39;</span><span class="p">:</span>
        <span class="c1"># PlainSerializerFunctionSerSchema or WrapSerializerFunctionSerSchema</span>
        <span class="n">return_schema</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;return_schema&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">return_schema</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">return_schema</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">schema_type</span> <span class="o">==</span> <span class="s1">&#39;format&#39;</span> <span class="ow">or</span> <span class="n">schema_type</span> <span class="o">==</span> <span class="s1">&#39;to-string&#39;</span><span class="p">:</span>
        <span class="c1"># FormatSerSchema or ToStringSerSchema</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">str_schema</span><span class="p">(</span><span class="n">core_schema</span><span class="o">.</span><span class="n">str_schema</span><span class="p">())</span>
    <span class="k">elif</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;model&#39;</span><span class="p">:</span>
        <span class="c1"># ModelSerSchema</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.complex_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">complex_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.complex_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">complex_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.core_schema.ComplexSchema">ComplexSchema</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Generates a JSON schema that matches a complex number.</p>
<p>JSON has no standard way to represent complex numbers. Complex number is not a numeric
type. Here we represent complex number as strings following the rule defined by Python.
For instance, '1+2j' is an accepted complex string. Details can be found in
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#complex">Python's <code>complex</code> documentation</a>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.core_schema.ComplexSchema">ComplexSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">complex_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ComplexSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema that matches a complex number.</span>

<span class="sd">    JSON has no standard way to represent complex numbers. Complex number is not a numeric</span>
<span class="sd">    type. Here we represent complex number as strings following the rule defined by Python.</span>
<span class="sd">    For instance, &#39;1+2j&#39; is an accepted complex string. Details can be found in</span>
<span class="sd">    [Python&#39;s `complex` documentation][complex].</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The core schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.get_title_from_name" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_title_from_name</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.get_title_from_name" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">get_title_from_name</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Retrieves a title from a name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name to retrieve a title from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The title.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_title_from_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves a title from a name.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name to retrieve a title from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The title.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">name</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.field_title_should_be_set" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">field_title_should_be_set</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.field_title_should_be_set" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">field_title_should_be_set</span><span class="p">(</span>
    <span class="n">schema</span><span class="p">:</span> <span class="n"><span title="pydantic._internal._core_utils.CoreSchemaOrField">CoreSchemaOrField</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Returns true if a field with the given schema should have a title set based on the field name.</p>
<p>Intuitively, we want this to return true for schemas that wouldn't otherwise provide their own title
(e.g., int, float, str), and false for those that would (e.g., BaseModel subclasses).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>schema</code>
            </td>
            <td>
                  <code><span title="pydantic._internal._core_utils.CoreSchemaOrField">CoreSchemaOrField</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The schema to check.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><code>True</code> if the field should have a title set, <code>False</code> otherwise.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span>
<span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">field_title_should_be_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">CoreSchemaOrField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns true if a field with the given schema should have a title set based on the field name.</span>

<span class="sd">    Intuitively, we want this to return true for schemas that wouldn&#39;t otherwise provide their own title</span>
<span class="sd">    (e.g., int, float, str), and false for those that would (e.g., BaseModel subclasses).</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        `True` if the field should have a title set, `False` otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_core_schema_field</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;computed-field&#39;</span><span class="p">:</span>
            <span class="n">field_schema</span> <span class="o">=</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;return_schema&#39;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">field_schema</span> <span class="o">=</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_title_should_be_set</span><span class="p">(</span><span class="n">field_schema</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_core_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ref&#39;</span><span class="p">):</span>  <span class="c1"># things with refs, such as models and enums, should not have titles set</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;nullable&#39;</span><span class="p">,</span> <span class="s1">&#39;definitions&#39;</span><span class="p">}:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_title_should_be_set</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>  <span class="c1"># type: ignore[typeddict-item]</span>
        <span class="k">if</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_function_with_inner_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_title_should_be_set</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;definition-ref&#39;</span><span class="p">:</span>
            <span class="c1"># Referenced schemas should not have titles set for the same reason</span>
            <span class="c1"># schemas with refs should not</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># anything else should have title set</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PydanticInvalidForJsonSchema</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unexpected schema type: schema=</span><span class="si">{</span><span class="n">schema</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># pragma: no cover</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.normalize_name" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">normalize_name</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.normalize_name" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">normalize_name</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Normalizes a name to be used as a key in a dictionary.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name to normalize.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The normalized name.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">normalize_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Normalizes a name to be used as a key in a dictionary.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name to normalize.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The normalized name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-zA-Z0-9.\-_]&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;__&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.get_defs_ref" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_defs_ref</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.get_defs_ref" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">get_defs_ref</span><span class="p">(</span><span class="n">core_mode_ref</span><span class="p">:</span> <span class="n"><span title="pydantic.json_schema.CoreModeRef">CoreModeRef</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="pydantic.json_schema.DefsRef">DefsRef</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Override this method to change the way that definitions keys are generated from a core reference.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>core_mode_ref</code>
            </td>
            <td>
                  <code><span title="pydantic.json_schema.CoreModeRef">CoreModeRef</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core reference.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pydantic.json_schema.DefsRef">DefsRef</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The definitions key.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_defs_ref</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">core_mode_ref</span><span class="p">:</span> <span class="n">CoreModeRef</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefsRef</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Override this method to change the way that definitions keys are generated from a core reference.</span>

<span class="sd">    Args:</span>
<span class="sd">        core_mode_ref: The core reference.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The definitions key.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Split the core ref into &quot;components&quot;; generic origins and arguments are each separate components</span>
    <span class="n">core_ref</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">core_mode_ref</span>
    <span class="n">components</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([\][,])&#39;</span><span class="p">,</span> <span class="n">core_ref</span><span class="p">)</span>
    <span class="c1"># Remove IDs from each component</span>
    <span class="n">components</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">components</span><span class="p">]</span>
    <span class="n">core_ref_no_id</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">components</span><span class="p">)</span>
    <span class="c1"># Remove everything before the last period from each &quot;component&quot;</span>
    <span class="n">components</span> <span class="o">=</span> <span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(?:[^.[\]]+\.)+((?:[^.[\]]+))&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\1&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">components</span><span class="p">]</span>
    <span class="n">short_ref</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">components</span><span class="p">)</span>

    <span class="n">mode_title</span> <span class="o">=</span> <span class="n">_MODE_TITLE_MAPPING</span><span class="p">[</span><span class="n">mode</span><span class="p">]</span>

    <span class="c1"># It is important that the generated defs_ref values be such that at least one choice will not</span>
    <span class="c1"># be generated for any other core_ref. Currently, this should be the case because we include</span>
    <span class="c1"># the id of the source type in the core_ref</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">DefsRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">normalize_name</span><span class="p">(</span><span class="n">short_ref</span><span class="p">))</span>
    <span class="n">name_mode</span> <span class="o">=</span> <span class="n">DefsRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">normalize_name</span><span class="p">(</span><span class="n">short_ref</span><span class="p">)</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39;-</span><span class="si">{</span><span class="n">mode_title</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">module_qualname</span> <span class="o">=</span> <span class="n">DefsRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">normalize_name</span><span class="p">(</span><span class="n">core_ref_no_id</span><span class="p">))</span>
    <span class="n">module_qualname_mode</span> <span class="o">=</span> <span class="n">DefsRef</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">module_qualname</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="n">mode_title</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">module_qualname_id</span> <span class="o">=</span> <span class="n">DefsRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">normalize_name</span><span class="p">(</span><span class="n">core_ref</span><span class="p">))</span>
    <span class="n">occurrence_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_collision_index</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">module_qualname_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">occurrence_index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_collision_counter</span><span class="p">[</span><span class="n">module_qualname</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">occurrence_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_collision_index</span><span class="p">[</span><span class="n">module_qualname_id</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_collision_counter</span><span class="p">[</span><span class="n">module_qualname</span><span class="p">]</span>

    <span class="n">module_qualname_occurrence</span> <span class="o">=</span> <span class="n">DefsRef</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">module_qualname</span><span class="si">}</span><span class="s1">__</span><span class="si">{</span><span class="n">occurrence_index</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">module_qualname_occurrence_mode</span> <span class="o">=</span> <span class="n">DefsRef</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">module_qualname_mode</span><span class="si">}</span><span class="s1">__</span><span class="si">{</span><span class="n">occurrence_index</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_prioritized_defsref_choices</span><span class="p">[</span><span class="n">module_qualname_occurrence_mode</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">name</span><span class="p">,</span>
        <span class="n">name_mode</span><span class="p">,</span>
        <span class="n">module_qualname</span><span class="p">,</span>
        <span class="n">module_qualname_mode</span><span class="p">,</span>
        <span class="n">module_qualname_occurrence</span><span class="p">,</span>
        <span class="n">module_qualname_occurrence_mode</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">return</span> <span class="n">module_qualname_occurrence_mode</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.get_cache_defs_ref_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_cache_defs_ref_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.get_cache_defs_ref_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">get_cache_defs_ref_schema</span><span class="p">(</span>
    <span class="n">core_ref</span><span class="p">:</span> <span class="n"><span title="pydantic.json_schema.CoreRef">CoreRef</span></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span><span class="n"><span title="pydantic.json_schema.DefsRef">DefsRef</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>This method wraps the get_defs_ref method with some cache-lookup/population logic,
and returns both the produced defs_ref and the JSON schema that will refer to the right definition.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>core_ref</code>
            </td>
            <td>
                  <code><span title="pydantic.json_schema.CoreRef">CoreRef</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core reference to get the definitions reference for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<span title="pydantic.json_schema.DefsRef">DefsRef</span>, <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple of the definitions reference and the JSON schema that will refer to it.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_cache_defs_ref_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">core_ref</span><span class="p">:</span> <span class="n">CoreRef</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">,</span> <span class="n">JsonSchemaValue</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This method wraps the get_defs_ref method with some cache-lookup/population logic,</span>
<span class="sd">    and returns both the produced defs_ref and the JSON schema that will refer to the right definition.</span>

<span class="sd">    Args:</span>
<span class="sd">        core_ref: The core reference to get the definitions reference for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tuple of the definitions reference and the JSON schema that will refer to it.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">core_mode_ref</span> <span class="o">=</span> <span class="p">(</span><span class="n">core_ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>
    <span class="n">maybe_defs_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">core_to_defs_refs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">core_mode_ref</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">maybe_defs_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">json_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">core_to_json_refs</span><span class="p">[</span><span class="n">core_mode_ref</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">maybe_defs_ref</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;$ref&#39;</span><span class="p">:</span> <span class="n">json_ref</span><span class="p">}</span>

    <span class="n">defs_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_defs_ref</span><span class="p">(</span><span class="n">core_mode_ref</span><span class="p">)</span>

    <span class="c1"># populate the ref translation mappings</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">core_to_defs_refs</span><span class="p">[</span><span class="n">core_mode_ref</span><span class="p">]</span> <span class="o">=</span> <span class="n">defs_ref</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">defs_to_core_refs</span><span class="p">[</span><span class="n">defs_ref</span><span class="p">]</span> <span class="o">=</span> <span class="n">core_mode_ref</span>

    <span class="n">json_ref</span> <span class="o">=</span> <span class="n">JsonRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ref_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">defs_ref</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">core_to_json_refs</span><span class="p">[</span><span class="n">core_mode_ref</span><span class="p">]</span> <span class="o">=</span> <span class="n">json_ref</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">json_to_defs_refs</span><span class="p">[</span><span class="n">json_ref</span><span class="p">]</span> <span class="o">=</span> <span class="n">defs_ref</span>
    <span class="n">ref_json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;$ref&#39;</span><span class="p">:</span> <span class="n">json_ref</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">defs_ref</span><span class="p">,</span> <span class="n">ref_json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.handle_ref_overrides" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">handle_ref_overrides</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.handle_ref_overrides" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">handle_ref_overrides</span><span class="p">(</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Remove any sibling keys that are redundant with the referenced schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>json_schema</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The schema to remove redundant sibling keys from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The schema with redundant sibling keys removed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">handle_ref_overrides</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove any sibling keys that are redundant with the referenced schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        json_schema: The schema to remove redundant sibling keys from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The schema with redundant sibling keys removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s1">&#39;$ref&#39;</span> <span class="ow">in</span> <span class="n">json_schema</span><span class="p">:</span>
        <span class="c1"># prevent modifications to the input; this copy may be safe to drop if there is significant overhead</span>
        <span class="n">json_schema</span> <span class="o">=</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="n">referenced_json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_schema_from_definitions</span><span class="p">(</span><span class="n">JsonRef</span><span class="p">(</span><span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="n">referenced_json_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># This can happen when building schemas for models with not-yet-defined references.</span>
            <span class="c1"># It may be a good idea to do a recursive pass at the end of the generation to remove</span>
            <span class="c1"># any redundant override keys.</span>
            <span class="k">return</span> <span class="n">json_schema</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">json_schema</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s1">&#39;$ref&#39;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">referenced_json_schema</span> <span class="ow">and</span> <span class="n">referenced_json_schema</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="n">v</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">json_schema</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>  <span class="c1"># redundant key</span>

    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.encode_default" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">encode_default</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.encode_default" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">encode_default</span><span class="p">(</span><span class="n">dft</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Encode a default value to a JSON-serializable value.</p>
<p>This is used to encode default values for fields in the generated JSON schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dft</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The default value to encode.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The encoded default value.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2317</span>
<span class="normal">2318</span>
<span class="normal">2319</span>
<span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span>
<span class="normal">2331</span>
<span class="normal">2332</span>
<span class="normal">2333</span>
<span class="normal">2334</span>
<span class="normal">2335</span>
<span class="normal">2336</span>
<span class="normal">2337</span>
<span class="normal">2338</span>
<span class="normal">2339</span>
<span class="normal">2340</span>
<span class="normal">2341</span>
<span class="normal">2342</span>
<span class="normal">2343</span>
<span class="normal">2344</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">encode_default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dft</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Encode a default value to a JSON-serializable value.</span>

<span class="sd">    This is used to encode default values for fields in the generated JSON schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        dft: The default value to encode.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The encoded default value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">.type_adapter</span><span class="w"> </span><span class="kn">import</span> <span class="n">TypeAdapter</span><span class="p">,</span> <span class="n">_type_has_config</span>

    <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">default</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">dft</span>
            <span class="k">if</span> <span class="n">_type_has_config</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">dft</span><span class="p">))</span>
            <span class="k">else</span> <span class="n">TypeAdapter</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">dft</span><span class="p">),</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">config_dict</span><span class="p">)</span><span class="o">.</span><span class="n">dump_python</span><span class="p">(</span>
                <span class="n">dft</span><span class="p">,</span> <span class="n">by_alias</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">by_alias</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;json&#39;</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">PydanticSchemaGenerationError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">pydantic_core</span><span class="o">.</span><span class="n">PydanticSerializationError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unable to encode default value </span><span class="si">{</span><span class="n">dft</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">pydantic_core</span><span class="o">.</span><span class="n">to_jsonable_python</span><span class="p">(</span>
        <span class="n">default</span><span class="p">,</span> <span class="n">timedelta_mode</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">ser_json_timedelta</span><span class="p">,</span> <span class="n">bytes_mode</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">ser_json_bytes</span><span class="p">,</span> <span class="n">by_alias</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">by_alias</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.update_with_validations" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">update_with_validations</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.update_with_validations" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">update_with_validations</span><span class="p">(</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span><span class="p">,</span>
    <span class="n">core_schema</span><span class="p">:</span> <span class="n"><span title="pydantic_core.CoreSchema">CoreSchema</span></span><span class="p">,</span>
    <span class="n">mapping</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Update the json_schema with the corresponding validations specified in the core_schema,
using the provided mapping to translate keys in core_schema to the appropriate keys for a JSON schema.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>json_schema</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The JSON schema to update.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>core_schema</code>
            </td>
            <td>
                  <code><span title="pydantic_core.CoreSchema">CoreSchema</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The core schema to get the validations from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mapping</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A mapping from core_schema attribute names to the corresponding JSON schema attribute names.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2346</span>
<span class="normal">2347</span>
<span class="normal">2348</span>
<span class="normal">2349</span>
<span class="normal">2350</span>
<span class="normal">2351</span>
<span class="normal">2352</span>
<span class="normal">2353</span>
<span class="normal">2354</span>
<span class="normal">2355</span>
<span class="normal">2356</span>
<span class="normal">2357</span>
<span class="normal">2358</span>
<span class="normal">2359</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_with_validations</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">,</span> <span class="n">core_schema</span><span class="p">:</span> <span class="n">CoreSchema</span><span class="p">,</span> <span class="n">mapping</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the json_schema with the corresponding validations specified in the core_schema,</span>
<span class="sd">    using the provided mapping to translate keys in core_schema to the appropriate keys for a JSON schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        json_schema: The JSON schema to update.</span>
<span class="sd">        core_schema: The core schema to get the validations from.</span>
<span class="sd">        mapping: A mapping from core_schema attribute names to the corresponding JSON schema attribute names.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">core_key</span><span class="p">,</span> <span class="n">json_schema_key</span> <span class="ow">in</span> <span class="n">mapping</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">core_key</span> <span class="ow">in</span> <span class="n">core_schema</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="n">json_schema_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">core_schema</span><span class="p">[</span><span class="n">core_key</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.get_json_ref_counts" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_json_ref_counts</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.get_json_ref_counts" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">get_json_ref_counts</span><span class="p">(</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a></span><span class="p">[</span><span class="n"><span title="pydantic.json_schema.JsonRef">JsonRef</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get all values corresponding to the key '$ref' anywhere in the json_schema.</p>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2405</span>
<span class="normal">2406</span>
<span class="normal">2407</span>
<span class="normal">2408</span>
<span class="normal">2409</span>
<span class="normal">2410</span>
<span class="normal">2411</span>
<span class="normal">2412</span>
<span class="normal">2413</span>
<span class="normal">2414</span>
<span class="normal">2415</span>
<span class="normal">2416</span>
<span class="normal">2417</span>
<span class="normal">2418</span>
<span class="normal">2419</span>
<span class="normal">2420</span>
<span class="normal">2421</span>
<span class="normal">2422</span>
<span class="normal">2423</span>
<span class="normal">2424</span>
<span class="normal">2425</span>
<span class="normal">2426</span>
<span class="normal">2427</span>
<span class="normal">2428</span>
<span class="normal">2429</span>
<span class="normal">2430</span>
<span class="normal">2431</span>
<span class="normal">2432</span>
<span class="normal">2433</span>
<span class="normal">2434</span>
<span class="normal">2435</span>
<span class="normal">2436</span>
<span class="normal">2437</span>
<span class="normal">2438</span>
<span class="normal">2439</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_json_ref_counts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="n">JsonRef</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all values corresponding to the key &#39;$ref&#39; anywhere in the json_schema.&quot;&quot;&quot;</span>
    <span class="n">json_refs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">JsonRef</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_add_json_refs</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="s1">&#39;$ref&#39;</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">:</span>
                <span class="n">json_ref</span> <span class="o">=</span> <span class="n">JsonRef</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">])</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">json_ref</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="k">return</span>  <span class="c1"># in this case, &#39;$ref&#39; might have been the name of a property</span>
                <span class="n">already_visited</span> <span class="o">=</span> <span class="n">json_ref</span> <span class="ow">in</span> <span class="n">json_refs</span>
                <span class="n">json_refs</span><span class="p">[</span><span class="n">json_ref</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">already_visited</span><span class="p">:</span>
                    <span class="k">return</span>  <span class="c1"># prevent recursion on a definition that was already visited</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">defs_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">json_to_defs_refs</span><span class="p">[</span><span class="n">json_ref</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">defs_ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_core_defs_invalid_for_json_schema</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">_core_defs_invalid_for_json_schema</span><span class="p">[</span><span class="n">defs_ref</span><span class="p">]</span>
                    <span class="n">_add_json_refs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">[</span><span class="n">defs_ref</span><span class="p">])</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">json_ref</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s1">&#39;http://&#39;</span><span class="p">,</span> <span class="s1">&#39;https://&#39;</span><span class="p">)):</span>
                        <span class="k">raise</span>

            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">schema</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s1">&#39;examples&#39;</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="c1"># Skip examples that may contain arbitrary values and references</span>
                    <span class="c1"># (see the comment in `_get_all_json_refs` for more details).</span>
                    <span class="k">continue</span>
                <span class="n">_add_json_refs</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">:</span>
                <span class="n">_add_json_refs</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="n">_add_json_refs</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_refs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.emit_warning" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">emit_warning</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.emit_warning" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">emit_warning</span><span class="p">(</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaWarningKind" href="#pydantic.json_schema.JsonSchemaWarningKind">JsonSchemaWarningKind</a></span><span class="p">,</span> <span class="n">detail</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>This method simply emits PydanticJsonSchemaWarnings based on handling in the <code>warning_message</code> method.</p>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2444</span>
<span class="normal">2445</span>
<span class="normal">2446</span>
<span class="normal">2447</span>
<span class="normal">2448</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">emit_warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">JsonSchemaWarningKind</span><span class="p">,</span> <span class="n">detail</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This method simply emits PydanticJsonSchemaWarnings based on handling in the `warning_message` method.&quot;&quot;&quot;</span>
    <span class="n">message</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_warning_message</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="n">detail</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">message</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">PydanticJsonSchemaWarning</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pydantic.json_schema.GenerateJsonSchema.render_warning_message" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">render_warning_message</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.render_warning_message" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">render_warning_message</span><span class="p">(</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaWarningKind" href="#pydantic.json_schema.JsonSchemaWarningKind">JsonSchemaWarningKind</a></span><span class="p">,</span> <span class="n">detail</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>This method is responsible for ignoring warnings as desired, and for formatting the warning messages.</p>
<p>You can override the value of <code>ignored_warning_kinds</code> in a subclass of GenerateJsonSchema
to modify what warnings are generated. If you want more control, you can override this method;
just return None in situations where you don't want warnings to be emitted.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>kind</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaWarningKind" href="#pydantic.json_schema.JsonSchemaWarningKind">JsonSchemaWarningKind</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The kind of warning to render. It can be one of the following:</p>
<ul>
<li>'skipped-choice': A choice field was skipped because it had no valid choices.</li>
<li>'non-serializable-default': A default value was skipped because it was not JSON-serializable.</li>
</ul>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>detail</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string with additional details about the warning.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The formatted warning message, or <code>None</code> if no warning should be emitted.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2450</span>
<span class="normal">2451</span>
<span class="normal">2452</span>
<span class="normal">2453</span>
<span class="normal">2454</span>
<span class="normal">2455</span>
<span class="normal">2456</span>
<span class="normal">2457</span>
<span class="normal">2458</span>
<span class="normal">2459</span>
<span class="normal">2460</span>
<span class="normal">2461</span>
<span class="normal">2462</span>
<span class="normal">2463</span>
<span class="normal">2464</span>
<span class="normal">2465</span>
<span class="normal">2466</span>
<span class="normal">2467</span>
<span class="normal">2468</span>
<span class="normal">2469</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">render_warning_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">JsonSchemaWarningKind</span><span class="p">,</span> <span class="n">detail</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This method is responsible for ignoring warnings as desired, and for formatting the warning messages.</span>

<span class="sd">    You can override the value of `ignored_warning_kinds` in a subclass of GenerateJsonSchema</span>
<span class="sd">    to modify what warnings are generated. If you want more control, you can override this method;</span>
<span class="sd">    just return None in situations where you don&#39;t want warnings to be emitted.</span>

<span class="sd">    Args:</span>
<span class="sd">        kind: The kind of warning to render. It can be one of the following:</span>

<span class="sd">            - &#39;skipped-choice&#39;: A choice field was skipped because it had no valid choices.</span>
<span class="sd">            - &#39;non-serializable-default&#39;: A default value was skipped because it was not JSON-serializable.</span>
<span class="sd">        detail: A string with additional details about the warning.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The formatted warning message, or `None` if no warning should be emitted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ignored_warning_kinds</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">detail</span><span class="si">}</span><span class="s1"> [</span><span class="si">{</span><span class="n">kind</span><span class="si">}</span><span class="s1">]&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pydantic.json_schema.WithJsonSchema" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">WithJsonSchema</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

<a href="#pydantic.json_schema.WithJsonSchema" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">WithJsonSchema</span><span class="p">(</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">mode</span><span class="p">:</span> <span class="p">(</span>
        <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span> <span class="s2">&quot;serialization&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <div class="admonition abstract">
<p class="admonition-title">Usage Documentation</p>
<p><a href="../../concepts/json_schema/#withjsonschema-annotation"><code>WithJsonSchema</code> Annotation</a></p>
</div>
<p>Add this as an annotation on a field to override the (base) JSON schema that would be generated for that field.
This provides a way to set a JSON schema for types that would otherwise raise errors when producing a JSON schema,
such as Callable, or types that have an is-instance core schema, without needing to go so far as creating a
custom subclass of pydantic.json_schema.GenerateJsonSchema.
Note that any <em>modifications</em> to the schema that would normally be made (such as setting the title for model fields)
will still be performed.</p>
<p>If <code>mode</code> is set this will only apply to that schema generation mode, allowing you
to set different json schemas for validation and serialization.</p>









  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pydantic.json_schema.Examples" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">Examples</span>


<a href="#pydantic.json_schema.Examples" class="headerlink" title="Permanent link">&para;</a></h2>
                <div class="doc-overloads">
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">Examples</span><span class="p">(</span>
    <span class="n">examples</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">],</span>
    <span class="n">mode</span><span class="p">:</span> <span class="p">(</span>
        <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span> <span class="s2">&quot;serialization&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">Examples</span><span class="p">(</span>
    <span class="n">examples</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">],</span>
    <span class="n">mode</span><span class="p">:</span> <span class="p">(</span>
        <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span> <span class="s2">&quot;serialization&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>                </div>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">Examples</span><span class="p">(</span>
    <span class="n">examples</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">],</span>
    <span class="n">mode</span><span class="p">:</span> <span class="p">(</span>
        <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span> <span class="s2">&quot;serialization&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Add examples to a JSON schema.</p>
<p>If the JSON Schema already contains examples, the provided examples
will be appended.</p>
<p>If <code>mode</code> is set this will only apply to that schema generation mode,
allowing you to add different examples for validation and serialization.</p>






                  <details class="quote">
                    <summary>Source code in <code>pydantic/json_schema.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2683</span>
<span class="normal">2684</span>
<span class="normal">2685</span>
<span class="normal">2686</span>
<span class="normal">2687</span>
<span class="normal">2688</span>
<span class="normal">2689</span>
<span class="normal">2690</span>
<span class="normal">2691</span>
<span class="normal">2692</span>
<span class="normal">2693</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">examples</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">mode</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;validation&#39;</span><span class="p">,</span> <span class="s1">&#39;serialization&#39;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">examples</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s1">&#39;Using a dict for `examples` is deprecated, use a list instead.&#39;</span><span class="p">,</span>
            <span class="n">PydanticDeprecatedSince29</span><span class="p">,</span>
            <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">examples</span> <span class="o">=</span> <span class="n">examples</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pydantic.json_schema.SkipJsonSchema" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">SkipJsonSchema</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

<a href="#pydantic.json_schema.SkipJsonSchema" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">SkipJsonSchema</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <div class="admonition abstract">
<p class="admonition-title">Usage Documentation</p>
<p><a href="../../concepts/json_schema/#skipjsonschema-annotation"><code>SkipJsonSchema</code> Annotation</a></p>
</div>
<p>Add this as an annotation on a field to skip generating a JSON schema for that field.</p>


<details class="example" open>
  <summary>Example</summary>
  <div class="language-python highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pprint</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Union</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic.json_schema</span><span class="w"> </span><span class="kn">import</span> <span class="n">SkipJsonSchema</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">a</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># (1)!</span>
    <span class="n">b</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">SkipJsonSchema</span><span class="p">[</span><span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># (2)!</span>
    <span class="n">c</span><span class="p">:</span> <span class="n">SkipJsonSchema</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># (3)!</span>

<span class="n">pprint</span><span class="p">(</span><span class="n">Model</span><span class="o">.</span><span class="n">model_json_schema</span><span class="p">())</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">{</span>
<span class="sd">    &#39;properties&#39;: {</span>
<span class="sd">        &#39;a&#39;: {</span>
<span class="sd">            &#39;anyOf&#39;: [</span>
<span class="sd">                {&#39;type&#39;: &#39;integer&#39;},</span>
<span class="sd">                {&#39;type&#39;: &#39;null&#39;}</span>
<span class="sd">            ],</span>
<span class="sd">            &#39;default&#39;: None,</span>
<span class="sd">            &#39;title&#39;: &#39;A&#39;</span>
<span class="sd">        },</span>
<span class="sd">        &#39;b&#39;: {</span>
<span class="sd">            &#39;default&#39;: None,</span>
<span class="sd">            &#39;title&#39;: &#39;B&#39;,</span>
<span class="sd">            &#39;type&#39;: &#39;integer&#39;</span>
<span class="sd">        }</span>
<span class="sd">    },</span>
<span class="sd">    &#39;title&#39;: &#39;Model&#39;,</span>
<span class="sd">    &#39;type&#39;: &#39;object&#39;</span>
<span class="sd">}</span>
<span class="sd">&#39;&#39;&#39;</span>
</code></pre></div>
<ol>
<li>The integer and null types are both included in the schema for <code>a</code>.</li>
<li>The integer type is the only type included in the schema for <code>b</code>.</li>
<li>The entirety of the <code>c</code> field is omitted from the schema.</li>
</ol>
</details>








  <div class="doc doc-children">











  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="pydantic.json_schema.model_json_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">model_json_schema</span>


<a href="#pydantic.json_schema.model_json_schema" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">model_json_schema</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="pydantic.main.BaseModel" href="../base_model/#pydantic.BaseModel">BaseModel</a></span><span class="p">]</span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a></span><span class="p">[</span><span class="n"><span title="pydantic._internal._dataclasses.PydanticDataclass">PydanticDataclass</span></span><span class="p">],</span>
    <span class="n">by_alias</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ref_template</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.DEFAULT_REF_TEMPLATE" href="#pydantic.json_schema.DEFAULT_REF_TEMPLATE">DEFAULT_REF_TEMPLATE</a></span><span class="p">,</span>
    <span class="n">union_format</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
        <span class="s2">&quot;any_of&quot;</span><span class="p">,</span> <span class="s2">&quot;primitive_type_array&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;any_of&quot;</span><span class="p">,</span>
    <span class="n">schema_generator</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a></span><span class="p">[</span>
        <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.GenerateJsonSchema" href="#pydantic.json_schema.GenerateJsonSchema">GenerateJsonSchema</a></span>
    <span class="p">]</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.GenerateJsonSchema" href="#pydantic.json_schema.GenerateJsonSchema">GenerateJsonSchema</a></span><span class="p">,</span>
    <span class="n">mode</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a></span> <span class="o">=</span> <span class="s2">&quot;validation&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Utility function to generate a JSON Schema for a model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cls</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a>[<a class="autorefs autorefs-internal" title="pydantic.main.BaseModel" href="../base_model/#pydantic.BaseModel">BaseModel</a>] | <a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a>[<span title="pydantic._internal._dataclasses.PydanticDataclass">PydanticDataclass</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The model class to generate a JSON Schema for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>by_alias</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>True</code> (the default), fields will be serialized according to their alias.
If <code>False</code>, fields will be serialized according to their attribute name.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ref_template</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The template to use for generating JSON Schema references.</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.DEFAULT_REF_TEMPLATE" href="#pydantic.json_schema.DEFAULT_REF_TEMPLATE">DEFAULT_REF_TEMPLATE</a></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>union_format</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;any_of&#39;, &#39;primitive_type_array&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The format to use when combining schemas from unions together. Can be one of:</p>
<ul>
<li><code>'any_of'</code>: Use the <a href="https://json-schema.org/understanding-json-schema/reference/combining#anyOf"><code>anyOf</code></a>
  keyword to combine schemas (the default).</li>
<li><code>'primitive_type_array'</code>: Use the <a href="https://json-schema.org/understanding-json-schema/reference/type"><code>type</code></a>
  keyword as an array of strings, containing each type of the combination. If any of the schemas is not a primitive
  type (<code>string</code>, <code>boolean</code>, <code>null</code>, <code>integer</code> or <code>number</code>) or contains constraints/metadata, falls back to
  <code>any_of</code>.</li>
</ul>
              </div>
            </td>
            <td>
                  <code>&#39;any_of&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>schema_generator</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a>[<a class="autorefs autorefs-internal" title="pydantic.json_schema.GenerateJsonSchema" href="#pydantic.json_schema.GenerateJsonSchema">GenerateJsonSchema</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The class to use for generating the JSON Schema.</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.GenerateJsonSchema" href="#pydantic.json_schema.GenerateJsonSchema">GenerateJsonSchema</a></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mode</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The mode to use for generating the JSON Schema. It can be one of the following:</p>
<ul>
<li>'validation': Generate a JSON Schema for validating data.</li>
<li>'serialization': Generate a JSON Schema for serializing data.</li>
</ul>
              </div>
            </td>
            <td>
                  <code>&#39;validation&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The generated JSON Schema.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2503</span>
<span class="normal">2504</span>
<span class="normal">2505</span>
<span class="normal">2506</span>
<span class="normal">2507</span>
<span class="normal">2508</span>
<span class="normal">2509</span>
<span class="normal">2510</span>
<span class="normal">2511</span>
<span class="normal">2512</span>
<span class="normal">2513</span>
<span class="normal">2514</span>
<span class="normal">2515</span>
<span class="normal">2516</span>
<span class="normal">2517</span>
<span class="normal">2518</span>
<span class="normal">2519</span>
<span class="normal">2520</span>
<span class="normal">2521</span>
<span class="normal">2522</span>
<span class="normal">2523</span>
<span class="normal">2524</span>
<span class="normal">2525</span>
<span class="normal">2526</span>
<span class="normal">2527</span>
<span class="normal">2528</span>
<span class="normal">2529</span>
<span class="normal">2530</span>
<span class="normal">2531</span>
<span class="normal">2532</span>
<span class="normal">2533</span>
<span class="normal">2534</span>
<span class="normal">2535</span>
<span class="normal">2536</span>
<span class="normal">2537</span>
<span class="normal">2538</span>
<span class="normal">2539</span>
<span class="normal">2540</span>
<span class="normal">2541</span>
<span class="normal">2542</span>
<span class="normal">2543</span>
<span class="normal">2544</span>
<span class="normal">2545</span>
<span class="normal">2546</span>
<span class="normal">2547</span>
<span class="normal">2548</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">model_json_schema</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">|</span> <span class="nb">type</span><span class="p">[</span><span class="n">PydanticDataclass</span><span class="p">],</span>
    <span class="n">by_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ref_template</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_REF_TEMPLATE</span><span class="p">,</span>
    <span class="n">union_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;any_of&#39;</span><span class="p">,</span> <span class="s1">&#39;primitive_type_array&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;any_of&#39;</span><span class="p">,</span>
    <span class="n">schema_generator</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">GenerateJsonSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">GenerateJsonSchema</span><span class="p">,</span>
    <span class="n">mode</span><span class="p">:</span> <span class="n">JsonSchemaMode</span> <span class="o">=</span> <span class="s1">&#39;validation&#39;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Utility function to generate a JSON Schema for a model.</span>

<span class="sd">    Args:</span>
<span class="sd">        cls: The model class to generate a JSON Schema for.</span>
<span class="sd">        by_alias: If `True` (the default), fields will be serialized according to their alias.</span>
<span class="sd">            If `False`, fields will be serialized according to their attribute name.</span>
<span class="sd">        ref_template: The template to use for generating JSON Schema references.</span>
<span class="sd">        union_format: The format to use when combining schemas from unions together. Can be one of:</span>

<span class="sd">            - `&#39;any_of&#39;`: Use the [`anyOf`](https://json-schema.org/understanding-json-schema/reference/combining#anyOf)</span>
<span class="sd">              keyword to combine schemas (the default).</span>
<span class="sd">            - `&#39;primitive_type_array&#39;`: Use the [`type`](https://json-schema.org/understanding-json-schema/reference/type)</span>
<span class="sd">              keyword as an array of strings, containing each type of the combination. If any of the schemas is not a primitive</span>
<span class="sd">              type (`string`, `boolean`, `null`, `integer` or `number`) or contains constraints/metadata, falls back to</span>
<span class="sd">              `any_of`.</span>
<span class="sd">        schema_generator: The class to use for generating the JSON Schema.</span>
<span class="sd">        mode: The mode to use for generating the JSON Schema. It can be one of the following:</span>

<span class="sd">            - &#39;validation&#39;: Generate a JSON Schema for validating data.</span>
<span class="sd">            - &#39;serialization&#39;: Generate a JSON Schema for serializing data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON Schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">.main</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span>

    <span class="n">schema_generator_instance</span> <span class="o">=</span> <span class="n">schema_generator</span><span class="p">(</span>
        <span class="n">by_alias</span><span class="o">=</span><span class="n">by_alias</span><span class="p">,</span> <span class="n">ref_template</span><span class="o">=</span><span class="n">ref_template</span><span class="p">,</span> <span class="n">union_format</span><span class="o">=</span><span class="n">union_format</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__pydantic_core_schema__</span><span class="p">,</span> <span class="n">_mock_val_ser</span><span class="o">.</span><span class="n">MockCoreSchema</span><span class="p">):</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">__pydantic_core_schema__</span><span class="o">.</span><span class="n">rebuild</span><span class="p">()</span>

    <span class="k">if</span> <span class="bp">cls</span> <span class="ow">is</span> <span class="n">BaseModel</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s1">&#39;model_json_schema() must be called on a subclass of BaseModel, not BaseModel itself.&#39;</span><span class="p">)</span>

    <span class="k">assert</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__pydantic_core_schema__</span><span class="p">,</span> <span class="n">_mock_val_ser</span><span class="o">.</span><span class="n">MockCoreSchema</span><span class="p">),</span> <span class="s1">&#39;this is a bug! please report it&#39;</span>
    <span class="k">return</span> <span class="n">schema_generator_instance</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__pydantic_core_schema__</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pydantic.json_schema.models_json_schema" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">models_json_schema</span>


<a href="#pydantic.json_schema.models_json_schema" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">models_json_schema</span><span class="p">(</span>
    <span class="n">models</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a></span><span class="p">[</span>
        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span>
            <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="pydantic.main.BaseModel" href="../base_model/#pydantic.BaseModel">BaseModel</a></span><span class="p">]</span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a></span><span class="p">[</span><span class="n"><span title="pydantic._internal._dataclasses.PydanticDataclass">PydanticDataclass</span></span><span class="p">],</span>
            <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a></span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">by_alias</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">title</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ref_template</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.DEFAULT_REF_TEMPLATE" href="#pydantic.json_schema.DEFAULT_REF_TEMPLATE">DEFAULT_REF_TEMPLATE</a></span><span class="p">,</span>
    <span class="n">union_format</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
        <span class="s2">&quot;any_of&quot;</span><span class="p">,</span> <span class="s2">&quot;primitive_type_array&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;any_of&quot;</span><span class="p">,</span>
    <span class="n">schema_generator</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a></span><span class="p">[</span>
        <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.GenerateJsonSchema" href="#pydantic.json_schema.GenerateJsonSchema">GenerateJsonSchema</a></span>
    <span class="p">]</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.GenerateJsonSchema" href="#pydantic.json_schema.GenerateJsonSchema">GenerateJsonSchema</a></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span>
    <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a></span><span class="p">[</span>
        <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a></span><span class="p">[</span>
            <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="pydantic.main.BaseModel" href="../base_model/#pydantic.BaseModel">BaseModel</a></span><span class="p">]</span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a></span><span class="p">[</span><span class="n"><span title="pydantic._internal._dataclasses.PydanticDataclass">PydanticDataclass</span></span><span class="p">],</span>
            <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a></span><span class="p">,</span>
        <span class="p">],</span>
        <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n"><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Utility function to generate a JSON Schema for multiple models.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>models</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="collections.abc.Sequence" href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence">Sequence</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a>[<a class="autorefs autorefs-internal" title="pydantic.main.BaseModel" href="../base_model/#pydantic.BaseModel">BaseModel</a>] | <a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a>[<span title="pydantic._internal._dataclasses.PydanticDataclass">PydanticDataclass</span>], <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A sequence of tuples of the form (model, mode).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>by_alias</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether field aliases should be used as keys in the generated JSON Schema.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>title</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The title of the generated JSON Schema.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>description</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The description of the generated JSON Schema.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ref_template</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The reference template to use for generating JSON Schema references.</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.DEFAULT_REF_TEMPLATE" href="#pydantic.json_schema.DEFAULT_REF_TEMPLATE">DEFAULT_REF_TEMPLATE</a></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>union_format</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Literal" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;any_of&#39;, &#39;primitive_type_array&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The format to use when combining schemas from unions together. Can be one of:</p>
<ul>
<li><code>'any_of'</code>: Use the <a href="https://json-schema.org/understanding-json-schema/reference/combining#anyOf"><code>anyOf</code></a>
  keyword to combine schemas (the default).</li>
<li><code>'primitive_type_array'</code>: Use the <a href="https://json-schema.org/understanding-json-schema/reference/type"><code>type</code></a>
  keyword as an array of strings, containing each type of the combination. If any of the schemas is not a primitive
  type (<code>string</code>, <code>boolean</code>, <code>null</code>, <code>integer</code> or <code>number</code>) or contains constraints/metadata, falls back to
  <code>any_of</code>.</li>
</ul>
              </div>
            </td>
            <td>
                  <code>&#39;any_of&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>schema_generator</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a>[<a class="autorefs autorefs-internal" title="pydantic.json_schema.GenerateJsonSchema" href="#pydantic.json_schema.GenerateJsonSchema">GenerateJsonSchema</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The schema generator to use for generating the JSON Schema.</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.GenerateJsonSchema" href="#pydantic.json_schema.GenerateJsonSchema">GenerateJsonSchema</a></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/reference/expressions.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a>[<a class="autorefs autorefs-internal" title="pydantic.main.BaseModel" href="../base_model/#pydantic.BaseModel">BaseModel</a>] | <a class="autorefs autorefs-external" href="https://docs.python.org/3/glossary.html#term-type">type</a>[<span title="pydantic._internal._dataclasses.PydanticDataclass">PydanticDataclass</span>], <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a>], <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a>], <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tuple where:
- The first element is a dictionary whose keys are tuples of JSON schema key type and JSON mode, and
    whose values are the JSON schema corresponding to that pair of inputs. (These schemas may have
    JsonRef references to definitions that are defined in the second returned element.)
- The second element is a JSON schema containing all definitions referenced in the first returned
        element, along with the optional title and description keys.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>pydantic/json_schema.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2551</span>
<span class="normal">2552</span>
<span class="normal">2553</span>
<span class="normal">2554</span>
<span class="normal">2555</span>
<span class="normal">2556</span>
<span class="normal">2557</span>
<span class="normal">2558</span>
<span class="normal">2559</span>
<span class="normal">2560</span>
<span class="normal">2561</span>
<span class="normal">2562</span>
<span class="normal">2563</span>
<span class="normal">2564</span>
<span class="normal">2565</span>
<span class="normal">2566</span>
<span class="normal">2567</span>
<span class="normal">2568</span>
<span class="normal">2569</span>
<span class="normal">2570</span>
<span class="normal">2571</span>
<span class="normal">2572</span>
<span class="normal">2573</span>
<span class="normal">2574</span>
<span class="normal">2575</span>
<span class="normal">2576</span>
<span class="normal">2577</span>
<span class="normal">2578</span>
<span class="normal">2579</span>
<span class="normal">2580</span>
<span class="normal">2581</span>
<span class="normal">2582</span>
<span class="normal">2583</span>
<span class="normal">2584</span>
<span class="normal">2585</span>
<span class="normal">2586</span>
<span class="normal">2587</span>
<span class="normal">2588</span>
<span class="normal">2589</span>
<span class="normal">2590</span>
<span class="normal">2591</span>
<span class="normal">2592</span>
<span class="normal">2593</span>
<span class="normal">2594</span>
<span class="normal">2595</span>
<span class="normal">2596</span>
<span class="normal">2597</span>
<span class="normal">2598</span>
<span class="normal">2599</span>
<span class="normal">2600</span>
<span class="normal">2601</span>
<span class="normal">2602</span>
<span class="normal">2603</span>
<span class="normal">2604</span>
<span class="normal">2605</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">models_json_schema</span><span class="p">(</span>
    <span class="n">models</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">|</span> <span class="nb">type</span><span class="p">[</span><span class="n">PydanticDataclass</span><span class="p">],</span> <span class="n">JsonSchemaMode</span><span class="p">]],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">by_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ref_template</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_REF_TEMPLATE</span><span class="p">,</span>
    <span class="n">union_format</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;any_of&#39;</span><span class="p">,</span> <span class="s1">&#39;primitive_type_array&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;any_of&#39;</span><span class="p">,</span>
    <span class="n">schema_generator</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">GenerateJsonSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">GenerateJsonSchema</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">|</span> <span class="nb">type</span><span class="p">[</span><span class="n">PydanticDataclass</span><span class="p">],</span> <span class="n">JsonSchemaMode</span><span class="p">],</span> <span class="n">JsonSchemaValue</span><span class="p">],</span> <span class="n">JsonSchemaValue</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Utility function to generate a JSON Schema for multiple models.</span>

<span class="sd">    Args:</span>
<span class="sd">        models: A sequence of tuples of the form (model, mode).</span>
<span class="sd">        by_alias: Whether field aliases should be used as keys in the generated JSON Schema.</span>
<span class="sd">        title: The title of the generated JSON Schema.</span>
<span class="sd">        description: The description of the generated JSON Schema.</span>
<span class="sd">        ref_template: The reference template to use for generating JSON Schema references.</span>
<span class="sd">        union_format: The format to use when combining schemas from unions together. Can be one of:</span>

<span class="sd">            - `&#39;any_of&#39;`: Use the [`anyOf`](https://json-schema.org/understanding-json-schema/reference/combining#anyOf)</span>
<span class="sd">              keyword to combine schemas (the default).</span>
<span class="sd">            - `&#39;primitive_type_array&#39;`: Use the [`type`](https://json-schema.org/understanding-json-schema/reference/type)</span>
<span class="sd">              keyword as an array of strings, containing each type of the combination. If any of the schemas is not a primitive</span>
<span class="sd">              type (`string`, `boolean`, `null`, `integer` or `number`) or contains constraints/metadata, falls back to</span>
<span class="sd">              `any_of`.</span>
<span class="sd">        schema_generator: The schema generator to use for generating the JSON Schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A tuple where:</span>
<span class="sd">            - The first element is a dictionary whose keys are tuples of JSON schema key type and JSON mode, and</span>
<span class="sd">                whose values are the JSON schema corresponding to that pair of inputs. (These schemas may have</span>
<span class="sd">                JsonRef references to definitions that are defined in the second returned element.)</span>
<span class="sd">            - The second element is a JSON schema containing all definitions referenced in the first returned</span>
<span class="sd">                    element, along with the optional title and description keys.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="bp">cls</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__pydantic_core_schema__</span><span class="p">,</span> <span class="n">_mock_val_ser</span><span class="o">.</span><span class="n">MockCoreSchema</span><span class="p">):</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">__pydantic_core_schema__</span><span class="o">.</span><span class="n">rebuild</span><span class="p">()</span>

    <span class="n">instance</span> <span class="o">=</span> <span class="n">schema_generator</span><span class="p">(</span><span class="n">by_alias</span><span class="o">=</span><span class="n">by_alias</span><span class="p">,</span> <span class="n">ref_template</span><span class="o">=</span><span class="n">ref_template</span><span class="p">,</span> <span class="n">union_format</span><span class="o">=</span><span class="n">union_format</span><span class="p">)</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">|</span> <span class="nb">type</span><span class="p">[</span><span class="n">PydanticDataclass</span><span class="p">],</span> <span class="n">JsonSchemaMode</span><span class="p">,</span> <span class="n">CoreSchema</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">__pydantic_core_schema__</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">mode</span> <span class="ow">in</span> <span class="n">models</span>
    <span class="p">]</span>
    <span class="n">json_schemas_map</span><span class="p">,</span> <span class="n">definitions</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">generate_definitions</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>

    <span class="n">json_schema</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">definitions</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$defs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">definitions</span>
    <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">title</span>
    <span class="k">if</span> <span class="n">description</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>

    <span class="k">return</span> <span class="n">json_schemas_map</span><span class="p">,</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>







  
  



  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
  <script src="/flarelytics/client.js"></script>
      <script>
    window.mkdocs_run_deps = ["https://docs.pydantic.dev/dev/pydantic-2.13.0a0+dev-py3-none-any.whl", "email-validator>=2.0.0", "pydantic-core==2.41.4", "pydantic-extra-types==2.10.6"]
    </script>

              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.tabs.link", "content.code.annotate", "content.code.copy", "announce.dismiss", "navigation.tabs", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.preview", "navigation.instant.progress", "navigation.path", "navigation.sections", "navigation.top", "navigation.tracking", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/algoliasearch@5.20.0/dist/lite/builds/browser.umd.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.77.3/dist/instantsearch.production.min.js"></script>
      
        <script src="../../extra/algolia.js"></script>
      
        <script src="../../extra/feedback.js"></script>
      
        <script src="../../extra/fluff.js"></script>
      
        <script src="../../extra/mathjax.js"></script>
      
        <script src="https://samuelcolvin.github.io/mkdocs-run-code/run_code_main.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>