fix an edge case when mixing constraints and `Literal`
