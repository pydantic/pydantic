Fix duplicate calls to `__set_name__` for non-private attributes in `BaseModel.__new__`.  Add more tests.
