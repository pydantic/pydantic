
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Data validation using Python type hints">
      
      
      
        <link rel="canonical" href="https://docs.pydantic.dev/latest/usage/types/">
      
      
        <link rel="prev" href="../models/">
      
      
        <link rel="next" href="../validators/">
      
      
      <link rel="icon" href="../../favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.1">
    
    
      
        <title>Field Types - Pydantic</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.45e1311d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../extra/terminal.css">
    
      <link rel="stylesheet" href="../../extra/tweaks.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#standard-library-types" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
  <!-- the following line is displayed in the announcement bar -->
<!-- keep length under 164 characters (less HTML tags) to fit on 1280px desktop window -->
Pydantic's <a href="https://pydantic.dev/roadmap/">commercial roadmap</a> is out ðŸš€, and we'd love to hear your feedback ðŸ“¢!

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Pydantic" class="md-header__button md-logo" aria-label="Pydantic" data-md-component="logo">
      
  <img src="../../logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pydantic
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Field Types
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/pydantic/pydantic" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pydantic/pydantic
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Pydantic" class="md-nav__button md-logo" aria-label="Pydantic" data-md-component="logo">
      
  <img src="../../logo-white.svg" alt="logo">

    </a>
    Pydantic
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pydantic/pydantic" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pydantic/pydantic
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Usage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Field Types
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Field Types
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#standard-library-types" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Library Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Standard Library Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typing-iterables" class="md-nav__link">
    <span class="md-ellipsis">
      Typing Iterables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#infinite-generators" class="md-nav__link">
    <span class="md-ellipsis">
      Infinite Generators
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Infinite Generators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validating-the-first-value" class="md-nav__link">
    <span class="md-ellipsis">
      Validating the first value
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unions" class="md-nav__link">
    <span class="md-ellipsis">
      Unions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Unions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#discriminated-unions-aka-tagged-unions" class="md-nav__link">
    <span class="md-ellipsis">
      Discriminated Unions (a.k.a. Tagged Unions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-discriminated-unions" class="md-nav__link">
    <span class="md-ellipsis">
      Nested Discriminated Unions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enums-and-choices" class="md-nav__link">
    <span class="md-ellipsis">
      Enums and Choices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datetime-types" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#booleans" class="md-nav__link">
    <span class="md-ellipsis">
      Booleans
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callable" class="md-nav__link">
    <span class="md-ellipsis">
      Callable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type" class="md-nav__link">
    <span class="md-ellipsis">
      Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typevar" class="md-nav__link">
    <span class="md-ellipsis">
      TypeVar
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#literal-type" class="md-nav__link">
    <span class="md-ellipsis">
      Literal Type
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#annotated-types" class="md-nav__link">
    <span class="md-ellipsis">
      Annotated Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Annotated Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namedtuple" class="md-nav__link">
    <span class="md-ellipsis">
      NamedTuple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typeddict" class="md-nav__link">
    <span class="md-ellipsis">
      TypedDict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic-types" class="md-nav__link">
    <span class="md-ellipsis">
      Pydantic Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pydantic Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#urls" class="md-nav__link">
    <span class="md-ellipsis">
      URLs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="URLs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#url-properties" class="md-nav__link">
    <span class="md-ellipsis">
      URL Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#international-domains" class="md-nav__link">
    <span class="md-ellipsis">
      International Domains
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#underscores-in-hostnames" class="md-nav__link">
    <span class="md-ellipsis">
      Underscores in Hostnames
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#color-type" class="md-nav__link">
    <span class="md-ellipsis">
      Color Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-types" class="md-nav__link">
    <span class="md-ellipsis">
      Secret Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-type" class="md-nav__link">
    <span class="md-ellipsis">
      Json Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payment-card-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Payment Card Numbers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constrained-types" class="md-nav__link">
    <span class="md-ellipsis">
      Constrained Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constrained Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arguments-to-conlist" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to conlist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-conset" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to conset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-confrozenset" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to confrozenset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-conint" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to conint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-confloat" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to confloat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-condecimal" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to condecimal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-constr" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to constr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-conbytes" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to conbytes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-condate" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to condate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strict-types" class="md-nav__link">
    <span class="md-ellipsis">
      Strict Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bytesize" class="md-nav__link">
    <span class="md-ellipsis">
      ByteSize
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-data-types" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Data Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Custom Data Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classes-with-__get_validators__" class="md-nav__link">
    <span class="md-ellipsis">
      Classes with __get_validators__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arbitrary-types-allowed" class="md-nav__link">
    <span class="md-ellipsis">
      Arbitrary Types Allowed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generic-classes-as-types" class="md-nav__link">
    <span class="md-ellipsis">
      Generic Classes as Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../validators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../model_config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exporting_models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exporting models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataclasses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataclasses
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../validation_decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validation decorator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Settings management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../postponed_annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postponed annotations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mypy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage with mypy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../devtools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage with devtools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rich/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage with rich
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/pydantic-v2-alpha/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pydantic V2 Pre Release
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/pydantic-v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pydantic V2 Plan
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing to pydantic
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mypy_plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mypy plugin
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pycharm_plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PyCharm plugin
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../visual_studio_code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visual Studio Code
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hypothesis_plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hypothesis plugin
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datamodel_code_generator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Generation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#standard-library-types" class="md-nav__link">
    <span class="md-ellipsis">
      Standard Library Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Standard Library Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typing-iterables" class="md-nav__link">
    <span class="md-ellipsis">
      Typing Iterables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#infinite-generators" class="md-nav__link">
    <span class="md-ellipsis">
      Infinite Generators
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Infinite Generators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validating-the-first-value" class="md-nav__link">
    <span class="md-ellipsis">
      Validating the first value
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unions" class="md-nav__link">
    <span class="md-ellipsis">
      Unions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Unions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#discriminated-unions-aka-tagged-unions" class="md-nav__link">
    <span class="md-ellipsis">
      Discriminated Unions (a.k.a. Tagged Unions)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-discriminated-unions" class="md-nav__link">
    <span class="md-ellipsis">
      Nested Discriminated Unions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enums-and-choices" class="md-nav__link">
    <span class="md-ellipsis">
      Enums and Choices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datetime-types" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#booleans" class="md-nav__link">
    <span class="md-ellipsis">
      Booleans
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callable" class="md-nav__link">
    <span class="md-ellipsis">
      Callable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type" class="md-nav__link">
    <span class="md-ellipsis">
      Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typevar" class="md-nav__link">
    <span class="md-ellipsis">
      TypeVar
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#literal-type" class="md-nav__link">
    <span class="md-ellipsis">
      Literal Type
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#annotated-types" class="md-nav__link">
    <span class="md-ellipsis">
      Annotated Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Annotated Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namedtuple" class="md-nav__link">
    <span class="md-ellipsis">
      NamedTuple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typeddict" class="md-nav__link">
    <span class="md-ellipsis">
      TypedDict
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic-types" class="md-nav__link">
    <span class="md-ellipsis">
      Pydantic Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pydantic Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#urls" class="md-nav__link">
    <span class="md-ellipsis">
      URLs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="URLs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#url-properties" class="md-nav__link">
    <span class="md-ellipsis">
      URL Properties
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#international-domains" class="md-nav__link">
    <span class="md-ellipsis">
      International Domains
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#underscores-in-hostnames" class="md-nav__link">
    <span class="md-ellipsis">
      Underscores in Hostnames
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#color-type" class="md-nav__link">
    <span class="md-ellipsis">
      Color Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-types" class="md-nav__link">
    <span class="md-ellipsis">
      Secret Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-type" class="md-nav__link">
    <span class="md-ellipsis">
      Json Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payment-card-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Payment Card Numbers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constrained-types" class="md-nav__link">
    <span class="md-ellipsis">
      Constrained Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constrained Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arguments-to-conlist" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to conlist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-conset" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to conset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-confrozenset" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to confrozenset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-conint" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to conint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-confloat" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to confloat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-condecimal" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to condecimal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-constr" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to constr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-conbytes" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to conbytes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-to-condate" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments to condate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strict-types" class="md-nav__link">
    <span class="md-ellipsis">
      Strict Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bytesize" class="md-nav__link">
    <span class="md-ellipsis">
      ByteSize
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-data-types" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Data Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Custom Data Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classes-with-__get_validators__" class="md-nav__link">
    <span class="md-ellipsis">
      Classes with __get_validators__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arbitrary-types-allowed" class="md-nav__link">
    <span class="md-ellipsis">
      Arbitrary Types Allowed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generic-classes-as-types" class="md-nav__link">
    <span class="md-ellipsis">
      Generic Classes as Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
                  

  
  


  <h1>Field Types</h1>

<p>Where possible <em>pydantic</em> uses <a href="#standard-library-types">standard library types</a> to define fields, thus smoothing
the learning curve. For many useful applications, however, no standard library type exists,
so <em>pydantic</em> implements <a href="#pydantic-types">many commonly used types</a>.</p>
<p>If no existing type suits your purpose you can also implement your <a href="#custom-data-types">own pydantic-compatible types</a>
with custom properties and validation.</p>
<h2 id="standard-library-types">Standard Library Types<a class="headerlink" href="#standard-library-types" title="Permanent link">&para;</a></h2>
<p><em>pydantic</em> supports many common types from the Python standard library. If you need stricter processing see
<a href="#strict-types">Strict Types</a>; if you need to constrain the values allowed (e.g. to require a positive int) see
<a href="#constrained-types">Constrained Types</a>.</p>
<dl>
<dt><code>None</code>, <code>type(None)</code> or <code>Literal[None]</code> (equivalent according to <a href="https://www.python.org/dev/peps/pep-0484/#using-none">PEP 484</a>)</dt>
<dd>allows only <code>None</code> value</dd>
<dt><code>bool</code></dt>
<dd>see <a href="#booleans">Booleans</a> below for details on how bools are validated and what values are permitted</dd>
<dt><code>int</code></dt>
<dd><em>pydantic</em> uses <code>int(v)</code> to coerce types to an <code>int</code>;
see <a href="../models/#data-conversion">this</a> warning on loss of information during data conversion</dd>
<dt><code>float</code></dt>
<dd>similarly, <code>float(v)</code> is used to coerce values to floats</dd>
<dt><code>str</code></dt>
<dd>strings are accepted as-is, <code>int</code> <code>float</code> and <code>Decimal</code> are coerced using <code>str(v)</code>, <code>bytes</code> and <code>bytearray</code> are
converted using <code>v.decode()</code>, enums inheriting from <code>str</code> are converted using <code>v.value</code>,
and all other types cause an error</dd>
<dt><code>bytes</code></dt>
<dd><code>bytes</code> are accepted as-is, <code>bytearray</code> is converted using <code>bytes(v)</code>, <code>str</code> are converted using <code>v.encode()</code>,
and <code>int</code>, <code>float</code>, and <code>Decimal</code> are coerced using <code>str(v).encode()</code></dd>
<dt><code>list</code></dt>
<dd>allows <code>list</code>, <code>tuple</code>, <code>set</code>, <code>frozenset</code>, <code>deque</code>, or generators and casts to a list;
see <code>typing.List</code> below for sub-type constraints</dd>
<dt><code>tuple</code></dt>
<dd>allows <code>list</code>, <code>tuple</code>, <code>set</code>, <code>frozenset</code>, <code>deque</code>, or generators and casts to a tuple;
see <code>typing.Tuple</code> below for sub-type constraints</dd>
<dt><code>dict</code></dt>
<dd><code>dict(v)</code> is used to attempt to convert a dictionary;
see <code>typing.Dict</code> below for sub-type constraints</dd>
<dt><code>set</code></dt>
<dd>allows <code>list</code>, <code>tuple</code>, <code>set</code>, <code>frozenset</code>, <code>deque</code>, or generators and casts to a set;
see <code>typing.Set</code> below for sub-type constraints</dd>
<dt><code>frozenset</code></dt>
<dd>allows <code>list</code>, <code>tuple</code>, <code>set</code>, <code>frozenset</code>, <code>deque</code>, or generators and casts to a frozen set;
see <code>typing.FrozenSet</code> below for sub-type constraints</dd>
<dt><code>deque</code></dt>
<dd>allows <code>list</code>, <code>tuple</code>, <code>set</code>, <code>frozenset</code>, <code>deque</code>, or generators and casts to a deque;
see <code>typing.Deque</code> below for sub-type constraints</dd>
<dt><code>datetime.date</code></dt>
<dd>see <a href="#datetime-types">Datetime Types</a> below for more detail on parsing and validation</dd>
<dt><code>datetime.time</code></dt>
<dd>see <a href="#datetime-types">Datetime Types</a> below for more detail on parsing and validation</dd>
<dt><code>datetime.datetime</code></dt>
<dd>see <a href="#datetime-types">Datetime Types</a> below for more detail on parsing and validation</dd>
<dt><code>datetime.timedelta</code></dt>
<dd>see <a href="#datetime-types">Datetime Types</a> below for more detail on parsing and validation</dd>
<dt><code>typing.Any</code></dt>
<dd>allows any value including <code>None</code>, thus an <code>Any</code> field is optional</dd>
<dt><code>typing.Annotated</code></dt>
<dd>allows wrapping another type with arbitrary metadata, as per <a href="https://www.python.org/dev/peps/pep-0593/">PEP-593</a>. The
<code>Annotated</code> hint may contain a single call to the <a href="../schema/#typingannotated-fields"><code>Field</code> function</a>, but otherwise
the additional metadata is ignored and the root type is used.</dd>
<dt><code>typing.TypeVar</code></dt>
<dd>constrains the values allowed based on <code>constraints</code> or <code>bound</code>, see <a href="#typevar">TypeVar</a></dd>
<dt><code>typing.Union</code></dt>
<dd>see <a href="#unions">Unions</a> below for more detail on parsing and validation</dd>
<dt><code>typing.Optional</code></dt>
<dd><code>Optional[x]</code> is simply short hand for <code>Union[x, None]</code>;
see <a href="#unions">Unions</a> below for more detail on parsing and validation and <a href="../models/#required-fields">Required Fields</a> for details about required fields that can receive <code>None</code> as a value.</dd>
<dt><code>typing.List</code></dt>
<dd>see <a href="#typing-iterables">Typing Iterables</a> below for more detail on parsing and validation</dd>
<dt><code>typing.Tuple</code></dt>
<dd>see <a href="#typing-iterables">Typing Iterables</a> below for more detail on parsing and validation</dd>
<dt><code>subclass of typing.NamedTuple</code></dt>
<dd>Same as <code>tuple</code> but instantiates with the given namedtuple and validates fields since they are annotated.
See <a href="#annotated-types">Annotated Types</a> below for more detail on parsing and validation</dd>
<dt><code>subclass of collections.namedtuple</code></dt>
<dd>Same as <code>subclass of typing.NamedTuple</code> but all fields will have type <code>Any</code> since they are not annotated</dd>
<dt><code>typing.Dict</code></dt>
<dd>see <a href="#typing-iterables">Typing Iterables</a> below for more detail on parsing and validation</dd>
<dt><code>subclass of typing.TypedDict</code></dt>
<dd>Same as <code>dict</code> but <em>pydantic</em> will validate the dictionary since keys are annotated.
See <a href="#annotated-types">Annotated Types</a> below for more detail on parsing and validation</dd>
<dt><code>typing.Set</code></dt>
<dd>see <a href="#typing-iterables">Typing Iterables</a> below for more detail on parsing and validation</dd>
<dt><code>typing.FrozenSet</code></dt>
<dd>see <a href="#typing-iterables">Typing Iterables</a> below for more detail on parsing and validation</dd>
<dt><code>typing.Deque</code></dt>
<dd>see <a href="#typing-iterables">Typing Iterables</a> below for more detail on parsing and validation</dd>
<dt><code>typing.Sequence</code></dt>
<dd>see <a href="#typing-iterables">Typing Iterables</a> below for more detail on parsing and validation</dd>
<dt><code>typing.Iterable</code></dt>
<dd>this is reserved for iterables that shouldn't be consumed. See <a href="#infinite-generators">Infinite Generators</a> below for more detail on parsing and validation</dd>
<dt><code>typing.Type</code></dt>
<dd>see <a href="#type">Type</a> below for more detail on parsing and validation</dd>
<dt><code>typing.Callable</code></dt>
<dd>see <a href="#callable">Callable</a> below for more detail on parsing and validation</dd>
<dt><code>typing.Pattern</code></dt>
<dd>will cause the input value to be passed to <code>re.compile(v)</code> to create a regex pattern</dd>
<dt><code>ipaddress.IPv4Address</code></dt>
<dd>simply uses the type itself for validation by passing the value to <code>IPv4Address(v)</code>;
see <a href="#pydantic-types">Pydantic Types</a> for other custom IP address types</dd>
<dt><code>ipaddress.IPv4Interface</code></dt>
<dd>simply uses the type itself for validation by passing the value to <code>IPv4Address(v)</code>;
see <a href="#pydantic-types">Pydantic Types</a> for other custom IP address types</dd>
<dt><code>ipaddress.IPv4Network</code></dt>
<dd>simply uses the type itself for validation by passing the value to <code>IPv4Network(v)</code>;
see <a href="#pydantic-types">Pydantic Types</a> for other custom IP address types</dd>
<dt><code>ipaddress.IPv6Address</code></dt>
<dd>simply uses the type itself for validation by passing the value to <code>IPv6Address(v)</code>;
see <a href="#pydantic-types">Pydantic Types</a> for other custom IP address types</dd>
<dt><code>ipaddress.IPv6Interface</code></dt>
<dd>simply uses the type itself for validation by passing the value to <code>IPv6Interface(v)</code>;
see <a href="#pydantic-types">Pydantic Types</a> for other custom IP address types</dd>
<dt><code>ipaddress.IPv6Network</code></dt>
<dd>simply uses the type itself for validation by passing the value to <code>IPv6Network(v)</code>;
see <a href="#pydantic-types">Pydantic Types</a> for other custom IP address types</dd>
<dt><code>enum.Enum</code></dt>
<dd>checks that the value is a valid Enum instance</dd>
<dt><code>subclass of enum.Enum</code></dt>
<dd>checks that the value is a valid member of the enum;
see <a href="#enums-and-choices">Enums and Choices</a> for more details</dd>
<dt><code>enum.IntEnum</code></dt>
<dd>checks that the value is a valid IntEnum instance</dd>
<dt><code>subclass of enum.IntEnum</code></dt>
<dd>checks that the value is a valid member of the integer enum;
see <a href="#enums-and-choices">Enums and Choices</a> for more details</dd>
<dt><code>decimal.Decimal</code></dt>
<dd><em>pydantic</em> attempts to convert the value to a string, then passes the string to <code>Decimal(v)</code></dd>
<dt><code>pathlib.Path</code></dt>
<dd>simply uses the type itself for validation by passing the value to <code>Path(v)</code>;
see <a href="#pydantic-types">Pydantic Types</a> for other more strict path types</dd>
<dt><code>uuid.UUID</code></dt>
<dd>strings and bytes (converted to strings) are passed to <code>UUID(v)</code>, with a fallback to <code>UUID(bytes=v)</code> for <code>bytes</code> and <code>bytearray</code>;
see <a href="#pydantic-types">Pydantic Types</a> for other stricter UUID types</dd>
<dt><code>ByteSize</code></dt>
<dd>converts a bytes string with units to bytes</dd>
</dl>
<h3 id="typing-iterables">Typing Iterables<a class="headerlink" href="#typing-iterables" title="Permanent link">&para;</a></h3>
<p><em>pydantic</em> uses standard library <code>typing</code> types as defined in PEP 484 to define complex objects.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Python 3.7 and above</label><label for="__tabbed_1_2">Python 3.9 and above</label><label for="__tabbed_1_3">Python 3.10 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Deque</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">FrozenSet</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">Set</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">simple_list</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">list_of_ints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">simple_tuple</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tuple_of_different_types</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">simple_dict</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dict_str_float</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">simple_set</span><span class="p">:</span> <span class="nb">set</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">set_bytes</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">frozen_set</span><span class="p">:</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">str_or_bytes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">none_or_str</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">sequence_of_ints</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">compound</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">deque</span><span class="p">:</span> <span class="n">Deque</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">simple_list</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">simple_list</span><span class="p">)</span>
<span class="c1">#&gt; [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">list_of_ints</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">list_of_ints</span><span class="p">)</span>
<span class="c1">#&gt; [1, 2, 3]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">simple_dict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span><span class="o">.</span><span class="n">simple_dict</span><span class="p">)</span>
<span class="c1">#&gt; {&#39;a&#39;: 1, b&#39;b&#39;: 2}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">dict_str_float</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span><span class="o">.</span><span class="n">dict_str_float</span><span class="p">)</span>
<span class="c1">#&gt; {&#39;a&#39;: 1.0, &#39;b&#39;: 2.0}</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">simple_tuple</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">simple_tuple</span><span class="p">)</span>
<span class="c1">#&gt; (1, 2, 3, 4)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">tuple_of_different_types</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">tuple_of_different_types</span><span class="p">)</span>
<span class="c1">#&gt; (4, 3.0, &#39;2&#39;, True)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">sequence_of_ints</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">sequence_of_ints</span><span class="p">)</span>
<span class="c1">#&gt; [1, 2, 3, 4]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">sequence_of_ints</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span><span class="o">.</span><span class="n">sequence_of_ints</span><span class="p">)</span>
<span class="c1">#&gt; (1, 2, 3, 4)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">deque</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">deque</span><span class="p">)</span>
<span class="c1">#&gt; deque([1, 2, 3])</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Deque</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Sequence</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">simple_list</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">list_of_ints</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">simple_tuple</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tuple_of_different_types</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">simple_dict</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dict_str_float</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">simple_set</span><span class="p">:</span> <span class="nb">set</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">set_bytes</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">frozen_set</span><span class="p">:</span> <span class="nb">frozenset</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">str_or_bytes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">none_or_str</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">sequence_of_ints</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">compound</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="nb">set</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">deque</span><span class="p">:</span> <span class="n">Deque</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">simple_list</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">simple_list</span><span class="p">)</span>
<span class="c1">#&gt; [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">list_of_ints</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">list_of_ints</span><span class="p">)</span>
<span class="c1">#&gt; [1, 2, 3]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">simple_dict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span><span class="o">.</span><span class="n">simple_dict</span><span class="p">)</span>
<span class="c1">#&gt; {&#39;a&#39;: 1, b&#39;b&#39;: 2}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">dict_str_float</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span><span class="o">.</span><span class="n">dict_str_float</span><span class="p">)</span>
<span class="c1">#&gt; {&#39;a&#39;: 1.0, &#39;b&#39;: 2.0}</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">simple_tuple</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">simple_tuple</span><span class="p">)</span>
<span class="c1">#&gt; (1, 2, 3, 4)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">tuple_of_different_types</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">tuple_of_different_types</span><span class="p">)</span>
<span class="c1">#&gt; (4, 3.0, &#39;2&#39;, True)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">sequence_of_ints</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">sequence_of_ints</span><span class="p">)</span>
<span class="c1">#&gt; [1, 2, 3, 4]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">sequence_of_ints</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span><span class="o">.</span><span class="n">sequence_of_ints</span><span class="p">)</span>
<span class="c1">#&gt; (1, 2, 3, 4)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">deque</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">deque</span><span class="p">)</span>
<span class="c1">#&gt; deque([1, 2, 3])</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Deque</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Sequence</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">simple_list</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">list_of_ints</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">simple_tuple</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tuple_of_different_types</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">simple_dict</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dict_str_float</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">simple_set</span><span class="p">:</span> <span class="nb">set</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">set_bytes</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">frozen_set</span><span class="p">:</span> <span class="nb">frozenset</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">str_or_bytes</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">none_or_str</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">sequence_of_ints</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">compound</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">set</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">deque</span><span class="p">:</span> <span class="n">Deque</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">simple_list</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">simple_list</span><span class="p">)</span>
<span class="c1">#&gt; [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">list_of_ints</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">list_of_ints</span><span class="p">)</span>
<span class="c1">#&gt; [1, 2, 3]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">simple_dict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span><span class="o">.</span><span class="n">simple_dict</span><span class="p">)</span>
<span class="c1">#&gt; {&#39;a&#39;: 1, b&#39;b&#39;: 2}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">dict_str_float</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span><span class="o">.</span><span class="n">dict_str_float</span><span class="p">)</span>
<span class="c1">#&gt; {&#39;a&#39;: 1.0, &#39;b&#39;: 2.0}</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">simple_tuple</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">simple_tuple</span><span class="p">)</span>
<span class="c1">#&gt; (1, 2, 3, 4)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">tuple_of_different_types</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">tuple_of_different_types</span><span class="p">)</span>
<span class="c1">#&gt; (4, 3.0, &#39;2&#39;, True)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">sequence_of_ints</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">sequence_of_ints</span><span class="p">)</span>
<span class="c1">#&gt; [1, 2, 3, 4]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">sequence_of_ints</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span><span class="o">.</span><span class="n">sequence_of_ints</span><span class="p">)</span>
<span class="c1">#&gt; (1, 2, 3, 4)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">deque</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">deque</span><span class="p">)</span>
<span class="c1">#&gt; deque([1, 2, 3])</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h3 id="infinite-generators">Infinite Generators<a class="headerlink" href="#infinite-generators" title="Permanent link">&para;</a></h3>
<p>If you have a generator you can use <code>Sequence</code> as described above. In that case, the
generator will be consumed and stored on the model as a list and its values will be
validated with the sub-type of <code>Sequence</code> (e.g. <code>int</code> in <code>Sequence[int]</code>).</p>
<p>But if you have a generator that you don't want to be consumed, e.g. an infinite
generator or a remote data loader, you can define its type with <code>Iterable</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Python 3.7 and above</label><label for="__tabbed_2_2">Python 3.9 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Iterable</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">infinite</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">infinite_ints</span><span class="p">():</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">i</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">infinite</span><span class="o">=</span><span class="n">infinite_ints</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="c1">#&gt; infinite=&lt;generator object infinite_ints at 0x7f449e11fc30&gt;</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">infinite</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="c1">#&gt; 0</span>
    <span class="c1">#&gt; 1</span>
    <span class="c1">#&gt; 2</span>
    <span class="c1">#&gt; 3</span>
    <span class="c1">#&gt; 4</span>
    <span class="c1">#&gt; 5</span>
    <span class="c1">#&gt; 6</span>
    <span class="c1">#&gt; 7</span>
    <span class="c1">#&gt; 8</span>
    <span class="c1">#&gt; 9</span>
    <span class="c1">#&gt; 10</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
        <span class="k">break</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Iterable</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">infinite</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">infinite_ints</span><span class="p">():</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">i</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">infinite</span><span class="o">=</span><span class="n">infinite_ints</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="c1">#&gt; infinite=&lt;generator object infinite_ints at 0x7f449e014f20&gt;</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">infinite</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="c1">#&gt; 0</span>
    <span class="c1">#&gt; 1</span>
    <span class="c1">#&gt; 2</span>
    <span class="c1">#&gt; 3</span>
    <span class="c1">#&gt; 4</span>
    <span class="c1">#&gt; 5</span>
    <span class="c1">#&gt; 6</span>
    <span class="c1">#&gt; 7</span>
    <span class="c1">#&gt; 8</span>
    <span class="c1">#&gt; 9</span>
    <span class="c1">#&gt; 10</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
        <span class="k">break</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>Iterable</code> fields only perform a simple check that the argument is iterable and
won't be consumed.</p>
<p>No validation of their values is performed as it cannot be done without consuming
the iterable.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want to validate the values of an infinite generator you can create a
separate model and use it while consuming the generator, reporting the validation
errors as appropriate.</p>
<p>pydantic can't validate the values automatically for you because it would require
consuming the infinite generator.</p>
</div>
<h4 id="validating-the-first-value">Validating the first value<a class="headerlink" href="#validating-the-first-value" title="Permanent link">&para;</a></h4>
<p>You can create a <a href="../validators/">validator</a> to validate the first value in an infinite generator and still not consume it entirely.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Python 3.7 and above</label><label for="__tabbed_3_2">Python 3.9 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Iterable</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">validator</span><span class="p">,</span> <span class="n">ValidationError</span>
<span class="kn">from</span> <span class="nn">pydantic.fields</span> <span class="kn">import</span> <span class="n">ModelField</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">infinite</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;infinite&#39;</span><span class="p">)</span>
    <span class="c1"># You don&#39;t need to add the &quot;ModelField&quot;, but it will help your</span>
    <span class="c1"># editor give you completion and catch errors</span>
    <span class="k">def</span> <span class="nf">infinite_first_int</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">iterable</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="n">ModelField</span><span class="p">):</span>
        <span class="n">first_value</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">sub_fields</span><span class="p">:</span>
            <span class="c1"># The Iterable had a parameter type, in this case it&#39;s int</span>
            <span class="c1"># We use it to validate the first value</span>
            <span class="n">sub_field</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">sub_fields</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">v</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="n">sub_field</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">first_value</span><span class="p">,</span> <span class="p">{},</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;first_value&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">([</span><span class="n">error</span><span class="p">],</span> <span class="bp">cls</span><span class="p">)</span>
        <span class="c1"># This creates a new generator that returns the first value and then</span>
        <span class="c1"># the rest of the values from the (already started) iterable</span>
        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">([</span><span class="n">first_value</span><span class="p">],</span> <span class="n">iterable</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">infinite_ints</span><span class="p">():</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">i</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">infinite</span><span class="o">=</span><span class="n">infinite_ints</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="c1">#&gt; infinite=&lt;itertools.chain object at 0x7f449e01bfd0&gt;</span>


<span class="k">def</span> <span class="nf">infinite_strs</span><span class="p">():</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield from</span> <span class="s1">&#39;allthesingleladies&#39;</span>


<span class="k">try</span><span class="p">:</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">infinite</span><span class="o">=</span><span class="n">infinite_strs</span><span class="p">())</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    infinite -&gt; first_value</span>
<span class="sd">      value is not a valid integer (type=type_error.integer)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Iterable</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">validator</span><span class="p">,</span> <span class="n">ValidationError</span>
<span class="kn">from</span> <span class="nn">pydantic.fields</span> <span class="kn">import</span> <span class="n">ModelField</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">infinite</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;infinite&#39;</span><span class="p">)</span>
    <span class="c1"># You don&#39;t need to add the &quot;ModelField&quot;, but it will help your</span>
    <span class="c1"># editor give you completion and catch errors</span>
    <span class="k">def</span> <span class="nf">infinite_first_int</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">iterable</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="n">ModelField</span><span class="p">):</span>
        <span class="n">first_value</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">sub_fields</span><span class="p">:</span>
            <span class="c1"># The Iterable had a parameter type, in this case it&#39;s int</span>
            <span class="c1"># We use it to validate the first value</span>
            <span class="n">sub_field</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">sub_fields</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">v</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="n">sub_field</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">first_value</span><span class="p">,</span> <span class="p">{},</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;first_value&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">([</span><span class="n">error</span><span class="p">],</span> <span class="bp">cls</span><span class="p">)</span>
        <span class="c1"># This creates a new generator that returns the first value and then</span>
        <span class="c1"># the rest of the values from the (already started) iterable</span>
        <span class="k">return</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">([</span><span class="n">first_value</span><span class="p">],</span> <span class="n">iterable</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">infinite_ints</span><span class="p">():</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">i</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">infinite</span><span class="o">=</span><span class="n">infinite_ints</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="c1">#&gt; infinite=&lt;itertools.chain object at 0x7f449e059ab0&gt;</span>


<span class="k">def</span> <span class="nf">infinite_strs</span><span class="p">():</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield from</span> <span class="s1">&#39;allthesingleladies&#39;</span>


<span class="k">try</span><span class="p">:</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">infinite</span><span class="o">=</span><span class="n">infinite_strs</span><span class="p">())</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    infinite -&gt; first_value</span>
<span class="sd">      value is not a valid integer (type=type_error.integer)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h3 id="unions">Unions<a class="headerlink" href="#unions" title="Permanent link">&para;</a></h3>
<p>The <code>Union</code> type allows a model attribute to accept different types, e.g.:</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>You may get unexpected coercion with <code>Union</code>; see below.<br />
Know that you can also make the check slower but stricter by using <a href="../model_config/#smart-union">Smart Union</a></p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Python 3.7 and above</label><label for="__tabbed_4_2">Python 3.10 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">uuid</span> <span class="kn">import</span> <span class="n">UUID</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">UUID</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>


<span class="n">user_01</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;John Doe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_01</span><span class="p">)</span>
<span class="c1">#&gt; id=123 name=&#39;John Doe&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_01</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="c1">#&gt; 123</span>
<span class="n">user_02</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;1234&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;John Doe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_02</span><span class="p">)</span>
<span class="c1">#&gt; id=1234 name=&#39;John Doe&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_02</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="c1">#&gt; 1234</span>
<span class="n">user_03_uuid</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;cf57432e-809e-4353-adbd-9d5c0d733868&#39;</span><span class="p">)</span>
<span class="n">user_03</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_03_uuid</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;John Doe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_03</span><span class="p">)</span>
<span class="c1">#&gt; id=275603287559914445491632874575877060712 name=&#39;John Doe&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_03</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="c1">#&gt; 275603287559914445491632874575877060712</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_03_uuid</span><span class="o">.</span><span class="n">int</span><span class="p">)</span>
<span class="c1">#&gt; 275603287559914445491632874575877060712</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">uuid</span> <span class="kn">import</span> <span class="n">UUID</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">UUID</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>


<span class="n">user_01</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">123</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;John Doe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_01</span><span class="p">)</span>
<span class="c1">#&gt; id=123 name=&#39;John Doe&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_01</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="c1">#&gt; 123</span>
<span class="n">user_02</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;1234&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;John Doe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_02</span><span class="p">)</span>
<span class="c1">#&gt; id=1234 name=&#39;John Doe&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_02</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="c1">#&gt; 1234</span>
<span class="n">user_03_uuid</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;cf57432e-809e-4353-adbd-9d5c0d733868&#39;</span><span class="p">)</span>
<span class="n">user_03</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_03_uuid</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;John Doe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_03</span><span class="p">)</span>
<span class="c1">#&gt; id=275603287559914445491632874575877060712 name=&#39;John Doe&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_03</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="c1">#&gt; 275603287559914445491632874575877060712</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_03_uuid</span><span class="o">.</span><span class="n">int</span><span class="p">)</span>
<span class="c1">#&gt; 275603287559914445491632874575877060712</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<p>However, as can be seen above, <em>pydantic</em> will attempt to 'match' any of the types defined under <code>Union</code> and will use
the first one that matches. In the above example the <code>id</code> of <code>user_03</code> was defined as a <code>uuid.UUID</code> class (which
is defined under the attribute's <code>Union</code> annotation) but as the <code>uuid.UUID</code> can be marshalled into an <code>int</code> it
chose to match against the <code>int</code> type and disregarded the other types.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code>typing.Union</code> also ignores order when <a href="https://docs.python.org/3/library/typing.html#typing.Union">defined</a>,
so <code>Union[int, float] == Union[float, int]</code> which can lead to unexpected behaviour
when combined with matching based on the <code>Union</code> type order inside other type definitions, such as <code>List</code> and <code>Dict</code>
types (because Python treats these definitions as singletons).
For example, <code>Dict[str, Union[int, float]] == Dict[str, Union[float, int]]</code> with the order based on the first time it was defined.
Please note that this can also be <a href="https://github.com/pydantic/pydantic/issues/2835">affected by third party libraries</a>
and their internal type definitions and the import orders.</p>
</div>
<p>As such, it is recommended that, when defining <code>Union</code> annotations, the most specific type is included first and
followed by less specific types.</p>
<p>In the above example, the <code>UUID</code> class should precede the <code>int</code> and <code>str</code> classes to preclude the unexpected representation as such:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Python 3.7 and above</label><label for="__tabbed_5_2">Python 3.10 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">uuid</span> <span class="kn">import</span> <span class="n">UUID</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>


<span class="n">user_03_uuid</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;cf57432e-809e-4353-adbd-9d5c0d733868&#39;</span><span class="p">)</span>
<span class="n">user_03</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_03_uuid</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;John Doe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_03</span><span class="p">)</span>
<span class="c1">#&gt; id=UUID(&#39;cf57432e-809e-4353-adbd-9d5c0d733868&#39;) name=&#39;John Doe&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_03</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="c1">#&gt; cf57432e-809e-4353-adbd-9d5c0d733868</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_03_uuid</span><span class="o">.</span><span class="n">int</span><span class="p">)</span>
<span class="c1">#&gt; 275603287559914445491632874575877060712</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">uuid</span> <span class="kn">import</span> <span class="n">UUID</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>


<span class="n">user_03_uuid</span> <span class="o">=</span> <span class="n">UUID</span><span class="p">(</span><span class="s1">&#39;cf57432e-809e-4353-adbd-9d5c0d733868&#39;</span><span class="p">)</span>
<span class="n">user_03</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_03_uuid</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;John Doe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_03</span><span class="p">)</span>
<span class="c1">#&gt; id=UUID(&#39;cf57432e-809e-4353-adbd-9d5c0d733868&#39;) name=&#39;John Doe&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_03</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="c1">#&gt; cf57432e-809e-4353-adbd-9d5c0d733868</span>
<span class="nb">print</span><span class="p">(</span><span class="n">user_03_uuid</span><span class="o">.</span><span class="n">int</span><span class="p">)</span>
<span class="c1">#&gt; 275603287559914445491632874575877060712</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The type <code>Optional[x]</code> is a shorthand for <code>Union[x, None]</code>.</p>
<p><code>Optional[x]</code> can also be used to specify a required field that can take <code>None</code> as a value.</p>
<p>See more details in <a href="../models/#required-fields">Required Fields</a>.</p>
</div>
<h4 id="discriminated-unions-aka-tagged-unions">Discriminated Unions (a.k.a. Tagged Unions)<a class="headerlink" href="#discriminated-unions-aka-tagged-unions" title="Permanent link">&para;</a></h4>
<p>When <code>Union</code> is used with multiple submodels, you sometimes know exactly which submodel needs to
be checked and validated and want to enforce this.
To do that you can set the same field - let's call it <code>my_discriminator</code> - in each of the submodels
with a discriminated value, which is one (or many) <code>Literal</code> value(s).
For your <code>Union</code>, you can set the discriminator in its value: <code>Field(discriminator='my_discriminator')</code>.</p>
<p>Setting a discriminated union has many benefits:</p>
<ul>
<li>validation is faster since it is only attempted against one model</li>
<li>only one explicit error is raised in case of failure</li>
<li>the generated JSON schema implements the <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.2.md#discriminatorObject">associated OpenAPI specification</a></li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Python 3.7 and above</label><label for="__tabbed_6_2">Python 3.10 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">Cat</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;cat&#39;</span><span class="p">]</span>
    <span class="n">meows</span><span class="p">:</span> <span class="nb">int</span>


<span class="k">class</span> <span class="nc">Dog</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;dog&#39;</span><span class="p">]</span>
    <span class="n">barks</span><span class="p">:</span> <span class="nb">float</span>


<span class="k">class</span> <span class="nc">Lizard</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;reptile&#39;</span><span class="p">,</span> <span class="s1">&#39;lizard&#39;</span><span class="p">]</span>
    <span class="n">scales</span><span class="p">:</span> <span class="nb">bool</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Cat</span><span class="p">,</span> <span class="n">Dog</span><span class="p">,</span> <span class="n">Lizard</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">discriminator</span><span class="o">=</span><span class="s1">&#39;pet_type&#39;</span><span class="p">)</span>
    <span class="n">n</span><span class="p">:</span> <span class="nb">int</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">pet</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pet_type&#39;</span><span class="p">:</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;barks&#39;</span><span class="p">:</span> <span class="mf">3.14</span><span class="p">},</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="c1">#&gt; pet=Dog(pet_type=&#39;dog&#39;, barks=3.14) n=1</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">pet</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pet_type&#39;</span><span class="p">:</span> <span class="s1">&#39;dog&#39;</span><span class="p">},</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    pet -&gt; Dog -&gt; barks</span>
<span class="sd">      field required (type=value_error.missing)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">Cat</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;cat&#39;</span><span class="p">]</span>
    <span class="n">meows</span><span class="p">:</span> <span class="nb">int</span>


<span class="k">class</span> <span class="nc">Dog</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;dog&#39;</span><span class="p">]</span>
    <span class="n">barks</span><span class="p">:</span> <span class="nb">float</span>


<span class="k">class</span> <span class="nc">Lizard</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;reptile&#39;</span><span class="p">,</span> <span class="s1">&#39;lizard&#39;</span><span class="p">]</span>
    <span class="n">scales</span><span class="p">:</span> <span class="nb">bool</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet</span><span class="p">:</span> <span class="n">Cat</span> <span class="o">|</span> <span class="n">Dog</span> <span class="o">|</span> <span class="n">Lizard</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">discriminator</span><span class="o">=</span><span class="s1">&#39;pet_type&#39;</span><span class="p">)</span>
    <span class="n">n</span><span class="p">:</span> <span class="nb">int</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">pet</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pet_type&#39;</span><span class="p">:</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;barks&#39;</span><span class="p">:</span> <span class="mf">3.14</span><span class="p">},</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="c1">#&gt; pet=Dog(pet_type=&#39;dog&#39;, barks=3.14) n=1</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">pet</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pet_type&#39;</span><span class="p">:</span> <span class="s1">&#39;dog&#39;</span><span class="p">},</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    pet -&gt; Dog -&gt; barks</span>
<span class="sd">      field required (type=value_error.missing)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using the <a href="../schema/#typingannotated-fields">Annotated Fields syntax</a> can be handy to regroup
the <code>Union</code> and <code>discriminator</code> information. See below for an example!</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Discriminated unions cannot be used with only a single variant, such as <code>Union[Cat]</code>.</p>
<p>Python changes <code>Union[T]</code> into <code>T</code> at interpretation time, so it is not possible for <code>pydantic</code> to
distinguish fields of <code>Union[T]</code> from <code>T</code>.</p>
</div>
<h4 id="nested-discriminated-unions">Nested Discriminated Unions<a class="headerlink" href="#nested-discriminated-unions" title="Permanent link">&para;</a></h4>
<p>Only one discriminator can be set for a field but sometimes you want to combine multiple discriminators.
In this case you can always create "intermediate" models with <code>__root__</code> and add your discriminator.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">Python 3.7 and above</label><label for="__tabbed_7_2">Python 3.9 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">typing_extensions</span> <span class="kn">import</span> <span class="n">Annotated</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">BlackCat</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;cat&#39;</span><span class="p">]</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;black&#39;</span><span class="p">]</span>
    <span class="n">black_name</span><span class="p">:</span> <span class="nb">str</span>


<span class="k">class</span> <span class="nc">WhiteCat</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;cat&#39;</span><span class="p">]</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;white&#39;</span><span class="p">]</span>
    <span class="n">white_name</span><span class="p">:</span> <span class="nb">str</span>


<span class="c1"># Can also be written with a custom root type</span>
<span class="c1">#</span>
<span class="c1"># class Cat(BaseModel):</span>
<span class="c1">#   __root__: Annotated[Union[BlackCat, WhiteCat], Field(discriminator=&#39;color&#39;)]</span>

<span class="n">Cat</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">BlackCat</span><span class="p">,</span> <span class="n">WhiteCat</span><span class="p">],</span> <span class="n">Field</span><span class="p">(</span><span class="n">discriminator</span><span class="o">=</span><span class="s1">&#39;color&#39;</span><span class="p">)]</span>


<span class="k">class</span> <span class="nc">Dog</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;dog&#39;</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>


<span class="n">Pet</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Cat</span><span class="p">,</span> <span class="n">Dog</span><span class="p">],</span> <span class="n">Field</span><span class="p">(</span><span class="n">discriminator</span><span class="o">=</span><span class="s1">&#39;pet_type&#39;</span><span class="p">)]</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet</span><span class="p">:</span> <span class="n">Pet</span>
    <span class="n">n</span><span class="p">:</span> <span class="nb">int</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">pet</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pet_type&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;black_name&#39;</span><span class="p">:</span> <span class="s1">&#39;felix&#39;</span><span class="p">},</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="c1">#&gt; pet=BlackCat(pet_type=&#39;cat&#39;, color=&#39;black&#39;, black_name=&#39;felix&#39;) n=1</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">pet</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pet_type&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">},</span> <span class="n">n</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    pet -&gt; Union[BlackCat, WhiteCat]</span>
<span class="sd">      No match for discriminator &#39;color&#39; and value &#39;red&#39; (allowed values:</span>
<span class="sd">    &#39;black&#39;, &#39;white&#39;)</span>
<span class="sd">    (type=value_error.discriminated_union.invalid_discriminator;</span>
<span class="sd">    discriminator_key=color; discriminator_value=red; allowed_values=&#39;black&#39;,</span>
<span class="sd">    &#39;white&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">pet</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pet_type&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">},</span> <span class="n">n</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    pet -&gt; Union[BlackCat, WhiteCat] -&gt; BlackCat -&gt; black_name</span>
<span class="sd">      field required (type=value_error.missing)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Annotated</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">BlackCat</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;cat&#39;</span><span class="p">]</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;black&#39;</span><span class="p">]</span>
    <span class="n">black_name</span><span class="p">:</span> <span class="nb">str</span>


<span class="k">class</span> <span class="nc">WhiteCat</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;cat&#39;</span><span class="p">]</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;white&#39;</span><span class="p">]</span>
    <span class="n">white_name</span><span class="p">:</span> <span class="nb">str</span>


<span class="c1"># Can also be written with a custom root type</span>
<span class="c1">#</span>
<span class="c1"># class Cat(BaseModel):</span>
<span class="c1">#   __root__: Annotated[Union[BlackCat, WhiteCat], Field(discriminator=&#39;color&#39;)]</span>

<span class="n">Cat</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">BlackCat</span><span class="p">,</span> <span class="n">WhiteCat</span><span class="p">],</span> <span class="n">Field</span><span class="p">(</span><span class="n">discriminator</span><span class="o">=</span><span class="s1">&#39;color&#39;</span><span class="p">)]</span>


<span class="k">class</span> <span class="nc">Dog</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;dog&#39;</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>


<span class="n">Pet</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Cat</span><span class="p">,</span> <span class="n">Dog</span><span class="p">],</span> <span class="n">Field</span><span class="p">(</span><span class="n">discriminator</span><span class="o">=</span><span class="s1">&#39;pet_type&#39;</span><span class="p">)]</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet</span><span class="p">:</span> <span class="n">Pet</span>
    <span class="n">n</span><span class="p">:</span> <span class="nb">int</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">pet</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pet_type&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;black_name&#39;</span><span class="p">:</span> <span class="s1">&#39;felix&#39;</span><span class="p">},</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="c1">#&gt; pet=BlackCat(pet_type=&#39;cat&#39;, color=&#39;black&#39;, black_name=&#39;felix&#39;) n=1</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">pet</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pet_type&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">},</span> <span class="n">n</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    pet -&gt; Union[BlackCat, WhiteCat]</span>
<span class="sd">      No match for discriminator &#39;color&#39; and value &#39;red&#39; (allowed values:</span>
<span class="sd">    &#39;black&#39;, &#39;white&#39;)</span>
<span class="sd">    (type=value_error.discriminated_union.invalid_discriminator;</span>
<span class="sd">    discriminator_key=color; discriminator_value=red; allowed_values=&#39;black&#39;,</span>
<span class="sd">    &#39;white&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">pet</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pet_type&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">},</span> <span class="n">n</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    pet -&gt; Union[BlackCat, WhiteCat] -&gt; BlackCat -&gt; black_name</span>
<span class="sd">      field required (type=value_error.missing)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h3 id="enums-and-choices">Enums and Choices<a class="headerlink" href="#enums-and-choices" title="Permanent link">&para;</a></h3>
<p><em>pydantic</em> uses Python's standard <code>enum</code> classes to define choices.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:1"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">IntEnum</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">FruitEnum</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
    <span class="n">pear</span> <span class="o">=</span> <span class="s1">&#39;pear&#39;</span>
    <span class="n">banana</span> <span class="o">=</span> <span class="s1">&#39;banana&#39;</span>


<span class="k">class</span> <span class="nc">ToolEnum</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
    <span class="n">spanner</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">wrench</span> <span class="o">=</span> <span class="mi">2</span>


<span class="k">class</span> <span class="nc">CookingModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">fruit</span><span class="p">:</span> <span class="n">FruitEnum</span> <span class="o">=</span> <span class="n">FruitEnum</span><span class="o">.</span><span class="n">pear</span>
    <span class="n">tool</span><span class="p">:</span> <span class="n">ToolEnum</span> <span class="o">=</span> <span class="n">ToolEnum</span><span class="o">.</span><span class="n">spanner</span>


<span class="nb">print</span><span class="p">(</span><span class="n">CookingModel</span><span class="p">())</span>
<span class="c1">#&gt; fruit=&lt;FruitEnum.pear: &#39;pear&#39;&gt; tool=&lt;ToolEnum.spanner: 1&gt;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">CookingModel</span><span class="p">(</span><span class="n">tool</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">fruit</span><span class="o">=</span><span class="s1">&#39;banana&#39;</span><span class="p">))</span>
<span class="c1">#&gt; fruit=&lt;FruitEnum.banana: &#39;banana&#39;&gt; tool=&lt;ToolEnum.wrench: 2&gt;</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">CookingModel</span><span class="p">(</span><span class="n">fruit</span><span class="o">=</span><span class="s1">&#39;other&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for CookingModel</span>
<span class="sd">    fruit</span>
<span class="sd">      value is not a valid enumeration member; permitted: &#39;pear&#39;, &#39;banana&#39;</span>
<span class="sd">    (type=type_error.enum; enum_values=[&lt;FruitEnum.pear: &#39;pear&#39;&gt;,</span>
<span class="sd">    &lt;FruitEnum.banana: &#39;banana&#39;&gt;])</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h3 id="datetime-types">Datetime Types<a class="headerlink" href="#datetime-types" title="Permanent link">&para;</a></h3>
<p><em>Pydantic</em> supports the following <a href="https://docs.python.org/library/datetime.html#available-types">datetime</a>
types:</p>
<ul>
<li>
<p><code>datetime</code> fields can be:</p>
<ul>
<li><code>datetime</code>, existing <code>datetime</code> object</li>
<li><code>int</code> or <code>float</code>, assumed as Unix time, i.e. seconds (if &gt;= <code>-2e10</code> or &lt;= <code>2e10</code>) or milliseconds (if &lt; <code>-2e10</code>or &gt; <code>2e10</code>) since 1 January 1970</li>
<li>
<p><code>str</code>, following formats work:</p>
<ul>
<li><code>YYYY-MM-DD[T]HH:MM[:SS[.ffffff]][Z or [Â±]HH[:]MM]</code></li>
<li><code>int</code> or <code>float</code> as a string (assumed as Unix time)</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<p><code>date</code> fields can be:</p>
<ul>
<li><code>date</code>, existing <code>date</code> object</li>
<li><code>int</code> or <code>float</code>, see <code>datetime</code></li>
<li>
<p><code>str</code>, following formats work:</p>
<ul>
<li><code>YYYY-MM-DD</code></li>
<li><code>int</code> or <code>float</code>, see <code>datetime</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<p><code>time</code> fields can be:</p>
<ul>
<li><code>time</code>, existing <code>time</code> object</li>
<li>
<p><code>str</code>, following formats work:</p>
<ul>
<li><code>HH:MM[:SS[.ffffff]][Z or [Â±]HH[:]MM]</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<p><code>timedelta</code> fields can be:</p>
<ul>
<li><code>timedelta</code>, existing <code>timedelta</code> object</li>
<li><code>int</code> or <code>float</code>, assumed as seconds</li>
<li>
<p><code>str</code>, following formats work:</p>
<ul>
<li><code>[-][DD ][HH:MM]SS[.ffffff]</code></li>
<li><code>[Â±]P[DD]DT[HH]H[MM]M[SS]S</code> (<a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format for timedelta)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="9:1"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">d</span><span class="p">:</span> <span class="n">date</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dt</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">t</span><span class="p">:</span> <span class="n">time</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">td</span><span class="p">:</span> <span class="n">timedelta</span> <span class="o">=</span> <span class="kc">None</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span>
    <span class="n">d</span><span class="o">=</span><span class="mf">1966280412345.6789</span><span class="p">,</span>
    <span class="n">dt</span><span class="o">=</span><span class="s1">&#39;2032-04-23T10:20:30.400+02:30&#39;</span><span class="p">,</span>
    <span class="n">t</span><span class="o">=</span><span class="n">time</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
    <span class="n">td</span><span class="o">=</span><span class="s1">&#39;P3DT12H30M5S&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">{</span>
<span class="sd">    &#39;d&#39;: datetime.date(2032, 4, 22),</span>
<span class="sd">    &#39;dt&#39;: datetime.datetime(2032, 4, 23, 10, 20, 30, 400000,</span>
<span class="sd">tzinfo=datetime.timezone(datetime.timedelta(seconds=9000))),</span>
<span class="sd">    &#39;t&#39;: datetime.time(4, 8, 16),</span>
<span class="sd">    &#39;td&#39;: datetime.timedelta(days=3, seconds=45005),</span>
<span class="sd">}</span>
<span class="sd">&quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h3 id="booleans">Booleans<a class="headerlink" href="#booleans" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The logic for parsing <code>bool</code> fields has changed as of version <strong>v1.0</strong>.</p>
<p>Prior to <strong>v1.0</strong>, <code>bool</code> parsing never failed, leading to some unexpected results.
The new logic is described below.</p>
</div>
<p>A standard <code>bool</code> field will raise a <code>ValidationError</code> if the value is not one of the following:</p>
<ul>
<li>A valid boolean (i.e. <code>True</code> or <code>False</code>),</li>
<li>The integers <code>0</code> or <code>1</code>,</li>
<li>a <code>str</code> which when converted to lower case is one of
  <code>'0', 'off', 'f', 'false', 'n', 'no', '1', 'on', 't', 'true', 'y', 'yes'</code></li>
<li>a <code>bytes</code> which is valid (per the previous rule) when decoded to <code>str</code></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want stricter boolean logic (e.g. a field which only permits <code>True</code> and <code>False</code>) you can
use <a href="#strict-types"><code>StrictBool</code></a>.</p>
</div>
<p>Here is a script demonstrating some of these behaviors:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:1"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">BooleanModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">bool_value</span><span class="p">:</span> <span class="nb">bool</span>


<span class="nb">print</span><span class="p">(</span><span class="n">BooleanModel</span><span class="p">(</span><span class="n">bool_value</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="c1">#&gt; bool_value=False</span>
<span class="nb">print</span><span class="p">(</span><span class="n">BooleanModel</span><span class="p">(</span><span class="n">bool_value</span><span class="o">=</span><span class="s1">&#39;False&#39;</span><span class="p">))</span>
<span class="c1">#&gt; bool_value=False</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">BooleanModel</span><span class="p">(</span><span class="n">bool_value</span><span class="o">=</span><span class="p">[])</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for BooleanModel</span>
<span class="sd">    bool_value</span>
<span class="sd">      value could not be parsed to a boolean (type=type_error.bool)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h3 id="callable">Callable<a class="headerlink" href="#callable" title="Permanent link">&para;</a></h3>
<p>Fields can also be of type <code>Callable</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">Python 3.7 and above</label><label for="__tabbed_11_2">Python 3.10 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Callable</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="c1">#&gt; callback=&lt;function &lt;lambda&gt; at 0x7f449df81ab0&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Callable</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">(</span><span class="n">callback</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="c1">#&gt; callback=&lt;function &lt;lambda&gt; at 0x7f449df81bd0&gt;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Callable fields only perform a simple check that the argument is
callable; no validation of arguments, their types, or the return
type is performed.</p>
</div>
<h3 id="type">Type<a class="headerlink" href="#type" title="Permanent link">&para;</a></h3>
<p><em>pydantic</em> supports the use of <code>Type[T]</code> to specify that a field may only accept classes (not instances)
that are subclasses of <code>T</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">Python 3.7 and above</label><label for="__tabbed_12_2">Python 3.9 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Type</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Bar</span><span class="p">(</span><span class="n">Foo</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Other</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">SimpleModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">just_subclasses</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">Foo</span><span class="p">]</span>


<span class="n">SimpleModel</span><span class="p">(</span><span class="n">just_subclasses</span><span class="o">=</span><span class="n">Foo</span><span class="p">)</span>
<span class="n">SimpleModel</span><span class="p">(</span><span class="n">just_subclasses</span><span class="o">=</span><span class="n">Bar</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">SimpleModel</span><span class="p">(</span><span class="n">just_subclasses</span><span class="o">=</span><span class="n">Other</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for SimpleModel</span>
<span class="sd">    just_subclasses</span>
<span class="sd">      subclass of Foo expected (type=type_error.subclass; expected_class=Foo)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Bar</span><span class="p">(</span><span class="n">Foo</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Other</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">SimpleModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">just_subclasses</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">Foo</span><span class="p">]</span>


<span class="n">SimpleModel</span><span class="p">(</span><span class="n">just_subclasses</span><span class="o">=</span><span class="n">Foo</span><span class="p">)</span>
<span class="n">SimpleModel</span><span class="p">(</span><span class="n">just_subclasses</span><span class="o">=</span><span class="n">Bar</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">SimpleModel</span><span class="p">(</span><span class="n">just_subclasses</span><span class="o">=</span><span class="n">Other</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for SimpleModel</span>
<span class="sd">    just_subclasses</span>
<span class="sd">      subclass of Foo expected (type=type_error.subclass; expected_class=Foo)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<p>You may also use <code>Type</code> to specify that any class is allowed.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:1"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Type</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">LenientSimpleModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">any_class_goes</span><span class="p">:</span> <span class="n">Type</span>


<span class="n">LenientSimpleModel</span><span class="p">(</span><span class="n">any_class_goes</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="n">LenientSimpleModel</span><span class="p">(</span><span class="n">any_class_goes</span><span class="o">=</span><span class="n">Foo</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">LenientSimpleModel</span><span class="p">(</span><span class="n">any_class_goes</span><span class="o">=</span><span class="n">Foo</span><span class="p">())</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for LenientSimpleModel</span>
<span class="sd">    any_class_goes</span>
<span class="sd">      a class is expected (type=type_error.class)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h3 id="typevar">TypeVar<a class="headerlink" href="#typevar" title="Permanent link">&para;</a></h3>
<p><code>TypeVar</code> is supported either unconstrained, constrained or with a bound.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="14:1"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="__tabbed_14_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TypeVar</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>

<span class="n">Foobar</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;Foobar&#39;</span><span class="p">)</span>
<span class="n">BoundFloat</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;BoundFloat&#39;</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
<span class="n">IntStr</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;IntStr&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">a</span><span class="p">:</span> <span class="n">Foobar</span>  <span class="c1"># equivalent of &quot;: Any&quot;</span>
    <span class="n">b</span><span class="p">:</span> <span class="n">BoundFloat</span>  <span class="c1"># equivalent of &quot;: float&quot;</span>
    <span class="n">c</span><span class="p">:</span> <span class="n">IntStr</span>  <span class="c1"># equivalent of &quot;: Union[int, str]&quot;</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">b</span><span class="o">=</span><span class="mf">4.2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">))</span>
<span class="c1">#&gt; a=[1] b=4.2 c=&#39;x&#39;</span>

<span class="c1"># a may be None and is therefore optional</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="c1">#&gt; a=None b=1.0 c=1</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h2 id="literal-type">Literal Type<a class="headerlink" href="#literal-type" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a new feature of the Python standard library as of Python 3.8;
prior to Python 3.8, it requires the <a href="https://pypi.org/project/typing-extensions/">typing-extensions</a> package.</p>
</div>
<p><em>pydantic</em> supports the use of <code>typing.Literal</code> (or <code>typing_extensions.Literal</code> prior to Python 3.8)
as a lightweight way to specify that a field may accept only specific literal values:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="15:1"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="__tabbed_15_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">Pie</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">flavor</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;pumpkin&#39;</span><span class="p">]</span>


<span class="n">Pie</span><span class="p">(</span><span class="n">flavor</span><span class="o">=</span><span class="s1">&#39;apple&#39;</span><span class="p">)</span>
<span class="n">Pie</span><span class="p">(</span><span class="n">flavor</span><span class="o">=</span><span class="s1">&#39;pumpkin&#39;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Pie</span><span class="p">(</span><span class="n">flavor</span><span class="o">=</span><span class="s1">&#39;cherry&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Pie</span>
<span class="sd">    flavor</span>
<span class="sd">      unexpected value; permitted: &#39;apple&#39;, &#39;pumpkin&#39;</span>
<span class="sd">    (type=value_error.const; given=cherry; permitted=(&#39;apple&#39;, &#39;pumpkin&#39;))</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<p>One benefit of this field type is that it can be used to check for equality with one or more specific values
without needing to declare custom validators:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="16:3"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><input id="__tabbed_16_2" name="__tabbed_16" type="radio" /><input id="__tabbed_16_3" name="__tabbed_16" type="radio" /><div class="tabbed-labels"><label for="__tabbed_16_1">Python 3.7 and above</label><label for="__tabbed_16_2">Python 3.9 and above</label><label for="__tabbed_16_3">Python 3.10 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">ClassVar</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">Cake</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;cake&#39;</span><span class="p">]</span>
    <span class="n">required_utensils</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fork&#39;</span><span class="p">,</span> <span class="s1">&#39;knife&#39;</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">IceCream</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;icecream&#39;</span><span class="p">]</span>
    <span class="n">required_utensils</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;spoon&#39;</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Meal</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">dessert</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Cake</span><span class="p">,</span> <span class="n">IceCream</span><span class="p">]</span>


<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;cake&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; Cake</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;icecream&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; IceCream</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;pie&#39;</span><span class="p">})</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    2 validation errors for Meal</span>
<span class="sd">    dessert -&gt; kind</span>
<span class="sd">      unexpected value; permitted: &#39;cake&#39; (type=value_error.const; given=pie;</span>
<span class="sd">    permitted=(&#39;cake&#39;,))</span>
<span class="sd">    dessert -&gt; kind</span>
<span class="sd">      unexpected value; permitted: &#39;icecream&#39; (type=value_error.const;</span>
<span class="sd">    given=pie; permitted=(&#39;icecream&#39;,))</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">ClassVar</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">Cake</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;cake&#39;</span><span class="p">]</span>
    <span class="n">required_utensils</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fork&#39;</span><span class="p">,</span> <span class="s1">&#39;knife&#39;</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">IceCream</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;icecream&#39;</span><span class="p">]</span>
    <span class="n">required_utensils</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;spoon&#39;</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Meal</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">dessert</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Cake</span><span class="p">,</span> <span class="n">IceCream</span><span class="p">]</span>


<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;cake&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; Cake</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;icecream&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; IceCream</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;pie&#39;</span><span class="p">})</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    2 validation errors for Meal</span>
<span class="sd">    dessert -&gt; kind</span>
<span class="sd">      unexpected value; permitted: &#39;cake&#39; (type=value_error.const; given=pie;</span>
<span class="sd">    permitted=(&#39;cake&#39;,))</span>
<span class="sd">    dessert -&gt; kind</span>
<span class="sd">      unexpected value; permitted: &#39;icecream&#39; (type=value_error.const;</span>
<span class="sd">    given=pie; permitted=(&#39;icecream&#39;,))</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">ClassVar</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">Cake</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;cake&#39;</span><span class="p">]</span>
    <span class="n">required_utensils</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fork&#39;</span><span class="p">,</span> <span class="s1">&#39;knife&#39;</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">IceCream</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;icecream&#39;</span><span class="p">]</span>
    <span class="n">required_utensils</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;spoon&#39;</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Meal</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">dessert</span><span class="p">:</span> <span class="n">Cake</span> <span class="o">|</span> <span class="n">IceCream</span>


<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;cake&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; Cake</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;icecream&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; IceCream</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;pie&#39;</span><span class="p">})</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    2 validation errors for Meal</span>
<span class="sd">    dessert -&gt; kind</span>
<span class="sd">      unexpected value; permitted: &#39;cake&#39; (type=value_error.const; given=pie;</span>
<span class="sd">    permitted=(&#39;cake&#39;,))</span>
<span class="sd">    dessert -&gt; kind</span>
<span class="sd">      unexpected value; permitted: &#39;icecream&#39; (type=value_error.const;</span>
<span class="sd">    given=pie; permitted=(&#39;icecream&#39;,))</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<p>With proper ordering in an annotated <code>Union</code>, you can use this to parse types of decreasing specificity:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="17:2"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio" /><input id="__tabbed_17_2" name="__tabbed_17" type="radio" /><div class="tabbed-labels"><label for="__tabbed_17_1">Python 3.7 and above</label><label for="__tabbed_17_2">Python 3.10 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">Dessert</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">kind</span><span class="p">:</span> <span class="nb">str</span>


<span class="k">class</span> <span class="nc">Pie</span><span class="p">(</span><span class="n">Dessert</span><span class="p">):</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;pie&#39;</span><span class="p">]</span>
    <span class="n">flavor</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">ApplePie</span><span class="p">(</span><span class="n">Pie</span><span class="p">):</span>
    <span class="n">flavor</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">PumpkinPie</span><span class="p">(</span><span class="n">Pie</span><span class="p">):</span>
    <span class="n">flavor</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;pumpkin&#39;</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Meal</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">dessert</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">ApplePie</span><span class="p">,</span> <span class="n">PumpkinPie</span><span class="p">,</span> <span class="n">Pie</span><span class="p">,</span> <span class="n">Dessert</span><span class="p">]</span>


<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;pie&#39;</span><span class="p">,</span> <span class="s1">&#39;flavor&#39;</span><span class="p">:</span> <span class="s1">&#39;apple&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; ApplePie</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;pie&#39;</span><span class="p">,</span> <span class="s1">&#39;flavor&#39;</span><span class="p">:</span> <span class="s1">&#39;pumpkin&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; PumpkinPie</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;pie&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; Pie</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;cake&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; Dessert</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">Dessert</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">kind</span><span class="p">:</span> <span class="nb">str</span>


<span class="k">class</span> <span class="nc">Pie</span><span class="p">(</span><span class="n">Dessert</span><span class="p">):</span>
    <span class="n">kind</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;pie&#39;</span><span class="p">]</span>
    <span class="n">flavor</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>


<span class="k">class</span> <span class="nc">ApplePie</span><span class="p">(</span><span class="n">Pie</span><span class="p">):</span>
    <span class="n">flavor</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">PumpkinPie</span><span class="p">(</span><span class="n">Pie</span><span class="p">):</span>
    <span class="n">flavor</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;pumpkin&#39;</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">Meal</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">dessert</span><span class="p">:</span> <span class="n">ApplePie</span> <span class="o">|</span> <span class="n">PumpkinPie</span> <span class="o">|</span> <span class="n">Pie</span> <span class="o">|</span> <span class="n">Dessert</span>


<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;pie&#39;</span><span class="p">,</span> <span class="s1">&#39;flavor&#39;</span><span class="p">:</span> <span class="s1">&#39;apple&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; ApplePie</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;pie&#39;</span><span class="p">,</span> <span class="s1">&#39;flavor&#39;</span><span class="p">:</span> <span class="s1">&#39;pumpkin&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; PumpkinPie</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;pie&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; Pie</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">Meal</span><span class="p">(</span><span class="n">dessert</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;cake&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">dessert</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<span class="c1">#&gt; Dessert</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h2 id="annotated-types">Annotated Types<a class="headerlink" href="#annotated-types" title="Permanent link">&para;</a></h2>
<h3 id="namedtuple">NamedTuple<a class="headerlink" href="#namedtuple" title="Permanent link">&para;</a></h3>
<div class="tabbed-set tabbed-alternate" data-tabs="18:1"><input checked="checked" id="__tabbed_18_1" name="__tabbed_18" type="radio" /><div class="tabbed-labels"><label for="__tabbed_18_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">NamedTuple</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">Point</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">int</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">p</span><span class="p">:</span> <span class="n">Point</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">)))</span>
<span class="c1">#&gt; p=Point(x=1, y=2)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;1.3&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">))</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    p -&gt; x</span>
<span class="sd">      value is not a valid integer (type=type_error.integer)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h3 id="typeddict">TypedDict<a class="headerlink" href="#typeddict" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a new feature of the Python standard library as of Python 3.8.
Prior to Python 3.8, it requires the <a href="https://pypi.org/project/typing-extensions/">typing-extensions</a> package.
But required and optional fields are properly differentiated only since Python 3.9.
We therefore recommend using <a href="https://pypi.org/project/typing-extensions/">typing-extensions</a> with Python 3.8 as well.</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="19:1"><input checked="checked" id="__tabbed_19_1" name="__tabbed_19" type="radio" /><div class="tabbed-labels"><label for="__tabbed_19_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing_extensions</span> <span class="kn">import</span> <span class="n">TypedDict</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Extra</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="c1"># `total=False` means keys are non-required</span>
<span class="k">class</span> <span class="nc">UserIdentity</span><span class="p">(</span><span class="n">TypedDict</span><span class="p">,</span> <span class="n">total</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">surname</span><span class="p">:</span> <span class="nb">str</span>


<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">TypedDict</span><span class="p">):</span>
    <span class="n">identity</span><span class="p">:</span> <span class="n">UserIdentity</span>
    <span class="n">age</span><span class="p">:</span> <span class="nb">int</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">u</span><span class="p">:</span> <span class="n">User</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="n">Extra</span><span class="o">.</span><span class="n">forbid</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">u</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;identity&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Smith&#39;</span><span class="p">,</span> <span class="s1">&#39;surname&#39;</span><span class="p">:</span> <span class="s1">&#39;John&#39;</span><span class="p">},</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="s1">&#39;37&#39;</span><span class="p">}))</span>
<span class="c1">#&gt; u={&#39;identity&#39;: {&#39;name&#39;: &#39;Smith&#39;, &#39;surname&#39;: &#39;John&#39;}, &#39;age&#39;: 37}</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">u</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;identity&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;surname&#39;</span><span class="p">:</span> <span class="s1">&#39;John&#39;</span><span class="p">},</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="s1">&#39;37&#39;</span><span class="p">}))</span>
<span class="c1">#&gt; u={&#39;identity&#39;: {&#39;name&#39;: None, &#39;surname&#39;: &#39;John&#39;}, &#39;age&#39;: 37}</span>

<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">u</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;identity&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="s1">&#39;37&#39;</span><span class="p">}))</span>
<span class="c1">#&gt; u={&#39;identity&#39;: {}, &#39;age&#39;: 37}</span>


<span class="k">try</span><span class="p">:</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">u</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;identity&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Smith&#39;</span><span class="p">],</span> <span class="s1">&#39;surname&#39;</span><span class="p">:</span> <span class="s1">&#39;John&#39;</span><span class="p">},</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="s1">&#39;24&#39;</span><span class="p">})</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    u -&gt; identity -&gt; name</span>
<span class="sd">      str type expected (type=type_error.str)</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">Model</span><span class="p">(</span>
        <span class="n">u</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;identity&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Smith&#39;</span><span class="p">,</span> <span class="s1">&#39;surname&#39;</span><span class="p">:</span> <span class="s1">&#39;John&#39;</span><span class="p">},</span>
            <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="s1">&#39;37&#39;</span><span class="p">,</span>
            <span class="s1">&#39;email&#39;</span><span class="p">:</span> <span class="s1">&#39;john.smith@me.com&#39;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    u -&gt; email</span>
<span class="sd">      extra fields not permitted (type=value_error.extra)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h2 id="pydantic-types">Pydantic Types<a class="headerlink" href="#pydantic-types" title="Permanent link">&para;</a></h2>
<p><em>pydantic</em> also provides a variety of other useful types:</p>
<dl>
<dt><code>FilePath</code></dt>
<dd>like <code>Path</code>, but the path must exist and be a file</dd>
<dt><code>DirectoryPath</code></dt>
<dd>like <code>Path</code>, but the path must exist and be a directory</dd>
<dt><code>PastDate</code></dt>
<dd>like <code>date</code>, but the date should be in the past</dd>
<dt><code>FutureDate</code></dt>
<dd>like <code>date</code>, but the date should be in the future</dd>
<dt><code>EmailStr</code></dt>
<dd>requires <a href="https://github.com/JoshData/python-email-validator">email-validator</a> to be installed;
the input string must be a valid email address, and the output is a simple string</dd>
<dt><code>NameEmail</code></dt>
<dd>requires <a href="https://github.com/JoshData/python-email-validator">email-validator</a> to be installed;
the input string must be either a valid email address or in the format <code>Fred Bloggs &lt;fred.bloggs@example.com&gt;</code>,
and the output is a <code>NameEmail</code> object which has two properties: <code>name</code> and <code>email</code>.
For <code>Fred Bloggs &lt;fred.bloggs@example.com&gt;</code> the name would be <code>"Fred Bloggs"</code>;
for <code>fred.bloggs@example.com</code> it would be <code>"fred.bloggs"</code>.</dd>
<dt><code>PyObject</code></dt>
<dd>expects a string and loads the Python object importable at that dotted path;
e.g. if <code>'math.cos'</code> was provided, the resulting field value would be the function <code>cos</code></dd>
<dt><code>Color</code></dt>
<dd>for parsing HTML and CSS colors; see <a href="#color-type">Color Type</a></dd>
<dt><code>Json</code></dt>
<dd>a special type wrapper which loads JSON before parsing; see <a href="#json-type">JSON Type</a></dd>
<dt><code>PaymentCardNumber</code></dt>
<dd>for parsing and validating payment cards; see <a href="#payment-card-numbers">payment cards</a></dd>
<dt><code>AnyUrl</code></dt>
<dd>any URL; see <a href="#urls">URLs</a></dd>
<dt><code>AnyHttpUrl</code></dt>
<dd>an HTTP URL; see <a href="#urls">URLs</a></dd>
<dt><code>HttpUrl</code></dt>
<dd>a stricter HTTP URL; see <a href="#urls">URLs</a></dd>
<dt><code>FileUrl</code></dt>
<dd>a file path URL; see <a href="#urls">URLs</a></dd>
<dt><code>PostgresDsn</code></dt>
<dd>a postgres DSN style URL; see <a href="#urls">URLs</a></dd>
<dt><code>CockroachDsn</code></dt>
<dd>a cockroachdb DSN style URL; see <a href="#urls">URLs</a></dd>
<dt><code>AmqpDsn</code></dt>
<dd>an <code>AMQP</code> DSN style URL as used by RabbitMQ, StormMQ, ActiveMQ etc.; see <a href="#urls">URLs</a></dd>
<dt><code>RedisDsn</code></dt>
<dd>a redis DSN style URL; see <a href="#urls">URLs</a></dd>
<dt><code>MongoDsn</code></dt>
<dd>a MongoDB DSN style URL; see <a href="#urls">URLs</a></dd>
<dt><code>KafkaDsn</code></dt>
<dd>a kafka DSN style URL; see <a href="#urls">URLs</a></dd>
<dt><code>stricturl</code></dt>
<dd>a type method for arbitrary URL constraints; see <a href="#urls">URLs</a></dd>
<dt><code>UUID1</code></dt>
<dd>requires a valid UUID of type 1; see <code>UUID</code> <a href="#standard-library-types">above</a></dd>
<dt><code>UUID3</code></dt>
<dd>requires a valid UUID of type 3; see <code>UUID</code> <a href="#standard-library-types">above</a></dd>
<dt><code>UUID4</code></dt>
<dd>requires a valid UUID of type 4; see <code>UUID</code> <a href="#standard-library-types">above</a></dd>
<dt><code>UUID5</code></dt>
<dd>requires a valid UUID of type 5; see <code>UUID</code> <a href="#standard-library-types">above</a></dd>
<dt><code>SecretBytes</code></dt>
<dd>bytes where the value is kept partially secret; see <a href="#secret-types">Secrets</a></dd>
<dt><code>SecretStr</code></dt>
<dd>string where the value is kept partially secret; see <a href="#secret-types">Secrets</a></dd>
<dt><code>IPvAnyAddress</code></dt>
<dd>allows either an <code>IPv4Address</code> or an <code>IPv6Address</code></dd>
<dt><code>IPvAnyInterface</code></dt>
<dd>allows either an <code>IPv4Interface</code> or an <code>IPv6Interface</code></dd>
<dt><code>IPvAnyNetwork</code></dt>
<dd>allows either an <code>IPv4Network</code> or an <code>IPv6Network</code></dd>
<dt><code>NegativeFloat</code></dt>
<dd>allows a float which is negative; uses standard <code>float</code> parsing then checks the value is less than 0;
see <a href="#constrained-types">Constrained Types</a></dd>
<dt><code>NegativeInt</code></dt>
<dd>allows an int which is negative; uses standard <code>int</code> parsing then checks the value is less than 0;
see <a href="#constrained-types">Constrained Types</a></dd>
<dt><code>PositiveFloat</code></dt>
<dd>allows a float which is positive; uses standard <code>float</code> parsing then checks the value is greater than 0;
see <a href="#constrained-types">Constrained Types</a></dd>
<dt><code>PositiveInt</code></dt>
<dd>allows an int which is positive; uses standard <code>int</code> parsing then checks the value is greater than 0;
see <a href="#constrained-types">Constrained Types</a></dd>
<dt><code>conbytes</code></dt>
<dd>type method for constraining bytes;
see <a href="#constrained-types">Constrained Types</a></dd>
<dt><code>condecimal</code></dt>
<dd>type method for constraining Decimals;
see <a href="#constrained-types">Constrained Types</a></dd>
<dt><code>confloat</code></dt>
<dd>type method for constraining floats;
see <a href="#constrained-types">Constrained Types</a></dd>
<dt><code>conint</code></dt>
<dd>type method for constraining ints;
see <a href="#constrained-types">Constrained Types</a></dd>
<dt><code>condate</code></dt>
<dd>type method for constraining dates;
see <a href="#constrained-types">Constrained Types</a></dd>
<dt><code>conlist</code></dt>
<dd>type method for constraining lists;
see <a href="#constrained-types">Constrained Types</a></dd>
<dt><code>conset</code></dt>
<dd>type method for constraining sets;
see <a href="#constrained-types">Constrained Types</a></dd>
<dt><code>confrozenset</code></dt>
<dd>type method for constraining frozen sets;
see <a href="#constrained-types">Constrained Types</a></dd>
<dt><code>constr</code></dt>
<dd>type method for constraining strs;
see <a href="#constrained-types">Constrained Types</a></dd>
</dl>
<h3 id="urls">URLs<a class="headerlink" href="#urls" title="Permanent link">&para;</a></h3>
<p>For URI/URL validation the following types are available:</p>
<ul>
<li><code>AnyUrl</code>: any scheme allowed, TLD not required, host required</li>
<li><code>AnyHttpUrl</code>: scheme <code>http</code> or <code>https</code>, TLD not required, host required</li>
<li><code>HttpUrl</code>: scheme <code>http</code> or <code>https</code>, TLD required, host required, max length 2083</li>
<li><code>FileUrl</code>: scheme <code>file</code>, host not required</li>
<li><code>PostgresDsn</code>: user info required, TLD not required, host required,
  as of V.10 <code>PostgresDsn</code> supports multiple hosts. The following schemes are supported:<ul>
<li><code>postgres</code></li>
<li><code>postgresql</code></li>
<li><code>postgresql+asyncpg</code></li>
<li><code>postgresql+pg8000</code></li>
<li><code>postgresql+psycopg</code></li>
<li><code>postgresql+psycopg2</code></li>
<li><code>postgresql+psycopg2cffi</code></li>
<li><code>postgresql+py-postgresql</code></li>
<li><code>postgresql+pygresql</code></li>
</ul>
</li>
<li><code>CockroachDsn</code>: scheme <code>cockroachdb</code>, user info required, TLD not required, host required. Also, its supported DBAPI dialects:<ul>
<li><code>cockroachdb+asyncpg</code></li>
<li><code>cockroachdb+psycopg2</code></li>
</ul>
</li>
<li><code>AmqpDsn</code>: schema <code>amqp</code> or <code>amqps</code>, user info not required, TLD not required, host not required</li>
<li><code>RedisDsn</code>: scheme <code>redis</code> or <code>rediss</code>, user info not required, tld not required, host not required (CHANGED: user info) (e.g., <code>rediss://:pass@localhost</code>)</li>
<li><code>MongoDsn</code> : scheme <code>mongodb</code>, user info not required, database name not required, port
  not required from <strong>v1.6</strong> onwards), user info may be passed without user part (e.g., <code>mongodb://mongodb0.example.com:27017</code>)</li>
<li><code>stricturl</code>: method with the following keyword arguments:
    - <code>strip_whitespace: bool = True</code>
    - <code>min_length: int = 1</code>
    - <code>max_length: int = 2 ** 16</code>
    - <code>tld_required: bool = True</code>
    - <code>host_required: bool = True</code>
    - <code>allowed_schemes: Optional[Set[str]] = None</code></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In V1.10.0 and v1.10.1 <code>stricturl</code> also took an optional <code>quote_plus</code> argument and URL components were percent
encoded in some cases. This feature was removed in v1.10.2, see 
<a href="https://github.com/pydantic/pydantic/pull/4470">#4470</a> for explanation and more details.</p>
</div>
<p>The above types (which all inherit from <code>AnyUrl</code>) will attempt to give descriptive errors when invalid URLs are
provided:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="20:1"><input checked="checked" id="__tabbed_20_1" name="__tabbed_20" type="radio" /><div class="tabbed-labels"><label for="__tabbed_20_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">HttpUrl</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">url</span><span class="p">:</span> <span class="n">HttpUrl</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;http://www.example.com&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
<span class="c1">#&gt; http://www.example.com</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">MyModel</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;ftp://invalid.url&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for MyModel</span>
<span class="sd">    url</span>
<span class="sd">      URL scheme not permitted (type=value_error.url.scheme;</span>
<span class="sd">    allowed_schemes={&#39;http&#39;, &#39;https&#39;})</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">MyModel</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;not a url&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for MyModel</span>
<span class="sd">    url</span>
<span class="sd">      invalid or missing URL scheme (type=value_error.url.scheme)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<p>If you require a custom URI/URL type, it can be created in a similar way to the types defined above.</p>
<h4 id="url-properties">URL Properties<a class="headerlink" href="#url-properties" title="Permanent link">&para;</a></h4>
<p>Assuming an input URL of <code>http://samuel:pass@example.com:8000/the/path/?query=here#fragment=is;this=bit</code>,
the above types export the following properties:</p>
<ul>
<li><code>scheme</code>: always set - the url scheme (<code>http</code> above)</li>
<li><code>host</code>: always set - the url host (<code>example.com</code> above)</li>
<li>
<p><code>host_type</code>: always set - describes the type of host, either:</p>
<ul>
<li><code>domain</code>: e.g. <code>example.com</code>,</li>
<li><code>int_domain</code>: international domain, see <a href="#international-domains">below</a>, e.g. <code>examplÂ£e.org</code>,</li>
<li><code>ipv4</code>: an IP V4 address, e.g. <code>127.0.0.1</code>, or</li>
<li><code>ipv6</code>: an IP V6 address, e.g. <code>2001:db8:ff00:42</code></li>
</ul>
</li>
</ul>
<ul>
<li><code>user</code>: optional - the username if included (<code>samuel</code> above)</li>
<li><code>password</code>: optional - the password if included (<code>pass</code> above)</li>
<li><code>tld</code>: optional - the top level domain (<code>com</code> above),
  <strong>Note: this will be wrong for any two-level domain, e.g. "co.uk".</strong> You'll need to implement your own list of TLDs
  if you require full TLD validation</li>
<li><code>port</code>: optional - the port (<code>8000</code> above)</li>
<li><code>path</code>: optional - the path (<code>/the/path/</code> above)</li>
<li><code>query</code>: optional - the URL query (aka GET arguments or "search string") (<code>query=here</code> above)</li>
<li><code>fragment</code>: optional - the fragment (<code>fragment=is;this=bit</code> above)</li>
</ul>
<p>If further validation is required, these properties can be used by validators to enforce specific behaviour:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="21:1"><input checked="checked" id="__tabbed_21_1" name="__tabbed_21" type="radio" /><div class="tabbed-labels"><label for="__tabbed_21_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">HttpUrl</span><span class="p">,</span> <span class="n">PostgresDsn</span><span class="p">,</span> <span class="n">ValidationError</span><span class="p">,</span> <span class="n">validator</span>


<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">url</span><span class="p">:</span> <span class="n">HttpUrl</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;http://www.example.com&#39;</span><span class="p">)</span>

<span class="c1"># the repr() method for a url will display all properties of the url</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">url</span><span class="p">))</span>
<span class="c1">#&gt; HttpUrl(&#39;http://www.example.com&#39;, )</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">scheme</span><span class="p">)</span>
<span class="c1">#&gt; http</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">host</span><span class="p">)</span>
<span class="c1">#&gt; www.example.com</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">host_type</span><span class="p">)</span>
<span class="c1">#&gt; domain</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>
<span class="c1">#&gt; 80</span>


<span class="k">class</span> <span class="nc">MyDatabaseModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">PostgresDsn</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;db&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">check_db_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">v</span><span class="o">.</span><span class="n">path</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">path</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;database must be provided&#39;</span>
        <span class="k">return</span> <span class="n">v</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">MyDatabaseModel</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;postgres://user:pass@localhost:5432/foobar&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
<span class="c1">#&gt; postgres://user:pass@localhost:5432/foobar</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">MyDatabaseModel</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;postgres://user:pass@localhost:5432&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for MyDatabaseModel</span>
<span class="sd">    db</span>
<span class="sd">      database must be provided (type=assertion_error)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h4 id="international-domains">International Domains<a class="headerlink" href="#international-domains" title="Permanent link">&para;</a></h4>
<p>"International domains" (e.g. a URL where the host or TLD includes non-ascii characters) will be encoded via
<a href="https://en.wikipedia.org/wiki/Punycode">punycode</a> (see
<a href="https://www.xudongz.com/blog/2017/idn-phishing/">this article</a> for a good description of why this is important):</p>
<div class="tabbed-set tabbed-alternate" data-tabs="22:1"><input checked="checked" id="__tabbed_22_1" name="__tabbed_22" type="radio" /><div class="tabbed-labels"><label for="__tabbed_22_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">HttpUrl</span>


<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">url</span><span class="p">:</span> <span class="n">HttpUrl</span>


<span class="n">m1</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;http://punyÂ£code.com&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m1</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
<span class="c1">#&gt; http://xn--punycode-eja.com</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m1</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">host_type</span><span class="p">)</span>
<span class="c1">#&gt; int_domain</span>
<span class="n">m2</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://www.Ð°Ñ€Ñ€ÓÐµ.com/&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m2</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
<span class="c1">#&gt; https://www.xn--80ak6aa92e.com/</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m2</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">host_type</span><span class="p">)</span>
<span class="c1">#&gt; int_domain</span>
<span class="n">m3</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://www.example.ç å®/&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m3</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
<span class="c1">#&gt; https://www.example.xn--pbt977c/</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m3</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">host_type</span><span class="p">)</span>
<span class="c1">#&gt; int_domain</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<h4 id="underscores-in-hostnames">Underscores in Hostnames<a class="headerlink" href="#underscores-in-hostnames" title="Permanent link">&para;</a></h4>
<p>In <em>pydantic</em> underscores are allowed in all parts of a domain except the tld.
Technically this might be wrong - in theory the hostname cannot have underscores, but subdomains can.</p>
<p>To explain this; consider the following two cases:</p>
<ul>
<li><code>exam_ple.co.uk</code>: the hostname is <code>exam_ple</code>, which should not be allowed since it contains an underscore</li>
<li><code>foo_bar.example.com</code> the hostname is <code>example</code>, which should be allowed since the underscore is in the subdomain</li>
</ul>
<p>Without having an exhaustive list of TLDs, it would be impossible to differentiate between these two. Therefore
underscores are allowed, but you can always do further validation in a validator if desired.</p>
<p>Also, Chrome, Firefox, and Safari all currently accept <code>http://exam_ple.com</code> as a URL, so we're in good
(or at least big) company.</p>
</div>
<h3 id="color-type">Color Type<a class="headerlink" href="#color-type" title="Permanent link">&para;</a></h3>
<p>You can use the <code>Color</code> data type for storing colors as per
<a href="http://www.w3.org/TR/css3-color/#svg-color">CSS3 specification</a>. Colors can be defined via:</p>
<ul>
<li><a href="http://www.w3.org/TR/SVG11/types.html#ColorKeywords">name</a> (e.g. <code>"Black"</code>, <code>"azure"</code>)</li>
<li><a href="https://en.wikipedia.org/wiki/Web_colors#Hex_triplet">hexadecimal value</a>
  (e.g. <code>"0x000"</code>, <code>"#FFFFFF"</code>, <code>"7fffd4"</code>)</li>
<li>RGB/RGBA tuples (e.g. <code>(255, 255, 255)</code>, <code>(255, 255, 255, 0.5)</code>)</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value#RGB_colors">RGB/RGBA strings</a>
  (e.g. <code>"rgb(255, 255, 255)"</code>, <code>"rgba(255, 255, 255, 0.5)"</code>)</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value#HSL_colors">HSL strings</a>
  (e.g. <code>"hsl(270, 60%, 70%)"</code>, <code>"hsl(270, 60%, 70%, .5)"</code>)</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="23:1"><input checked="checked" id="__tabbed_23_1" name="__tabbed_23" type="radio" /><div class="tabbed-labels"><label for="__tabbed_23_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>
<span class="kn">from</span> <span class="nn">pydantic.color</span> <span class="kn">import</span> <span class="n">Color</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="s1">&#39;ff00ff&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">as_named</span><span class="p">())</span>
<span class="c1">#&gt; magenta</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">as_hex</span><span class="p">())</span>
<span class="c1">#&gt; #f0f</span>
<span class="n">c2</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c2</span><span class="o">.</span><span class="n">as_rgb_tuple</span><span class="p">())</span>
<span class="c1">#&gt; (0, 128, 0)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c2</span><span class="o">.</span><span class="n">original</span><span class="p">())</span>
<span class="c1">#&gt; green</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;hsl(180, 100%, 50%)&#39;</span><span class="p">)))</span>
<span class="c1">#&gt; Color(&#39;cyan&#39;, rgb=(0, 255, 255))</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">Color</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">))</span>
<span class="c1">#&gt; color=Color(&#39;purple&#39;, rgb=(128, 0, 128))</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    color</span>
<span class="sd">      value is not a valid color: string not recognised as a valid color</span>
<span class="sd">    (type=value_error.color; reason=string not recognised as a valid color)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<p><code>Color</code> has the following methods:</p>
<dl>
<dt><strong><code>original</code></strong></dt>
<dd>the original string or tuple passed to <code>Color</code></dd>
<dt><strong><code>as_named</code></strong></dt>
<dd>returns a named CSS3 color; fails if the alpha channel is set or no such color exists unless
<code>fallback=True</code> is supplied, in which case it falls back to <code>as_hex</code></dd>
<dt><strong><code>as_hex</code></strong></dt>
<dd>returns a string in the format <code>#fff</code> or <code>#ffffff</code>; will contain 4 (or 8) hex values if the alpha channel is set,
e.g. <code>#7f33cc26</code></dd>
<dt><strong><code>as_rgb</code></strong></dt>
<dd>returns a string in the format <code>rgb(&lt;red&gt;, &lt;green&gt;, &lt;blue&gt;)</code>, or <code>rgba(&lt;red&gt;, &lt;green&gt;, &lt;blue&gt;, &lt;alpha&gt;)</code>
if the alpha channel is set</dd>
<dt><strong><code>as_rgb_tuple</code></strong></dt>
<dd>returns a 3- or 4-tuple in RGB(a) format. The <code>alpha</code> keyword argument can be used to define whether
the alpha channel should be included;
options: <code>True</code> - always include, <code>False</code> - never include, <code>None</code> (default) - include if set</dd>
<dt><strong><code>as_hsl</code></strong></dt>
<dd>string in the format <code>hsl(&lt;hue deg&gt;, &lt;saturation %&gt;, &lt;lightness %&gt;)</code>
or <code>hsl(&lt;hue deg&gt;, &lt;saturation %&gt;, &lt;lightness %&gt;, &lt;alpha&gt;)</code> if the alpha channel is set</dd>
<dt><strong><code>as_hsl_tuple</code></strong></dt>
<dd>returns a 3- or 4-tuple in HSL(a) format. The <code>alpha</code> keyword argument can be used to define whether
the alpha channel should be included;
options: <code>True</code> - always include, <code>False</code> - never include, <code>None</code> (the default)  - include if set</dd>
</dl>
<p>The <code>__str__</code> method for <code>Color</code> returns <code>self.as_named(fallback=True)</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>the <code>as_hsl*</code> refer to hue, saturation, lightness "HSL" as used in html and most of the world, <strong>not</strong>
"HLS" as used in Python's <code>colorsys</code>.</p>
</div>
<h3 id="secret-types">Secret Types<a class="headerlink" href="#secret-types" title="Permanent link">&para;</a></h3>
<p>You can use the <code>SecretStr</code> and the <code>SecretBytes</code> data types for storing sensitive information
that you do not want to be visible in logging or tracebacks.
<code>SecretStr</code> and <code>SecretBytes</code> can be initialized idempotently or by using <code>str</code> or <code>bytes</code> literals respectively.
The <code>SecretStr</code> and <code>SecretBytes</code> will be formatted as either <code>'**********'</code> or <code>''</code> on conversion to json.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="24:1"><input checked="checked" id="__tabbed_24_1" name="__tabbed_24" type="radio" /><div class="tabbed-labels"><label for="__tabbed_24_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">SecretStr</span><span class="p">,</span> <span class="n">SecretBytes</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">SimpleModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">SecretStr</span>
    <span class="n">password_bytes</span><span class="p">:</span> <span class="n">SecretBytes</span>


<span class="n">sm</span> <span class="o">=</span> <span class="n">SimpleModel</span><span class="p">(</span><span class="n">password</span><span class="o">=</span><span class="s1">&#39;IAmSensitive&#39;</span><span class="p">,</span> <span class="n">password_bytes</span><span class="o">=</span><span class="sa">b</span><span class="s1">&#39;IAmSensitiveBytes&#39;</span><span class="p">)</span>

<span class="c1"># Standard access methods will not display the secret</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sm</span><span class="p">)</span>
<span class="c1">#&gt; password=SecretStr(&#39;**********&#39;) password_bytes=SecretBytes(b&#39;**********&#39;)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">password</span><span class="p">)</span>
<span class="c1">#&gt; **********</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">{</span>
<span class="sd">    &#39;password&#39;: SecretStr(&#39;**********&#39;),</span>
<span class="sd">    &#39;password_bytes&#39;: SecretBytes(b&#39;**********&#39;),</span>
<span class="sd">}</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
<span class="c1">#&gt; {&quot;password&quot;: &quot;**********&quot;, &quot;password_bytes&quot;: &quot;**********&quot;}</span>

<span class="c1"># Use get_secret_value method to see the secret&#39;s content.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">())</span>
<span class="c1">#&gt; IAmSensitive</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">password_bytes</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">())</span>
<span class="c1">#&gt; b&#39;IAmSensitiveBytes&#39;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">SimpleModel</span><span class="p">(</span><span class="n">password</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">password_bytes</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    2 validation errors for SimpleModel</span>
<span class="sd">    password</span>
<span class="sd">      str type expected (type=type_error.str)</span>
<span class="sd">    password_bytes</span>
<span class="sd">      byte type expected (type=type_error.bytes)</span>
<span class="sd">    &quot;&quot;&quot;</span>


<span class="c1"># If you want the secret to be dumped as plain-text using the json method,</span>
<span class="c1"># you can use json_encoders in the Config class.</span>
<span class="k">class</span> <span class="nc">SimpleModelDumpable</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">SecretStr</span>
    <span class="n">password_bytes</span><span class="p">:</span> <span class="n">SecretBytes</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">json_encoders</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">SecretStr</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">SecretBytes</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">}</span>


<span class="n">sm2</span> <span class="o">=</span> <span class="n">SimpleModelDumpable</span><span class="p">(</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;IAmSensitive&#39;</span><span class="p">,</span> <span class="n">password_bytes</span><span class="o">=</span><span class="sa">b</span><span class="s1">&#39;IAmSensitiveBytes&#39;</span>
<span class="p">)</span>

<span class="c1"># Standard access methods will not display the secret</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sm2</span><span class="p">)</span>
<span class="c1">#&gt; password=SecretStr(&#39;**********&#39;) password_bytes=SecretBytes(b&#39;**********&#39;)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sm2</span><span class="o">.</span><span class="n">password</span><span class="p">)</span>
<span class="c1">#&gt; **********</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sm2</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">{</span>
<span class="sd">    &#39;password&#39;: SecretStr(&#39;**********&#39;),</span>
<span class="sd">    &#39;password_bytes&#39;: SecretBytes(b&#39;**********&#39;),</span>
<span class="sd">}</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># But the json method will</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sm2</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
<span class="c1">#&gt; {&quot;password&quot;: &quot;IAmSensitive&quot;, &quot;password_bytes&quot;: &quot;IAmSensitiveBytes&quot;}</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h3 id="json-type">Json Type<a class="headerlink" href="#json-type" title="Permanent link">&para;</a></h3>
<p>You can use <code>Json</code> data type to make <em>pydantic</em> first load a raw JSON string.
It can also optionally be used to parse the loaded object into another type base on
the type <code>Json</code> is parameterised with:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="25:2"><input checked="checked" id="__tabbed_25_1" name="__tabbed_25" type="radio" /><input id="__tabbed_25_2" name="__tabbed_25" type="radio" /><div class="tabbed-labels"><label for="__tabbed_25_1">Python 3.7 and above</label><label for="__tabbed_25_2">Python 3.9 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">List</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Json</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">AnyJsonModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">json_obj</span><span class="p">:</span> <span class="n">Json</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">ConstrainedJsonModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">json_obj</span><span class="p">:</span> <span class="n">Json</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>


<span class="nb">print</span><span class="p">(</span><span class="n">AnyJsonModel</span><span class="p">(</span><span class="n">json_obj</span><span class="o">=</span><span class="s1">&#39;{&quot;b&quot;: 1}&#39;</span><span class="p">))</span>
<span class="c1">#&gt; json_obj={&#39;b&#39;: 1}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ConstrainedJsonModel</span><span class="p">(</span><span class="n">json_obj</span><span class="o">=</span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="p">))</span>
<span class="c1">#&gt; json_obj=[1, 2, 3]</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">ConstrainedJsonModel</span><span class="p">(</span><span class="n">json_obj</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for ConstrainedJsonModel</span>
<span class="sd">    json_obj</span>
<span class="sd">      JSON object must be str, bytes or bytearray (type=type_error.json)</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">ConstrainedJsonModel</span><span class="p">(</span><span class="n">json_obj</span><span class="o">=</span><span class="s1">&#39;[a, b]&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for ConstrainedJsonModel</span>
<span class="sd">    json_obj</span>
<span class="sd">      Invalid JSON (type=value_error.json)</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">ConstrainedJsonModel</span><span class="p">(</span><span class="n">json_obj</span><span class="o">=</span><span class="s1">&#39;[&quot;a&quot;, &quot;b&quot;]&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    2 validation errors for ConstrainedJsonModel</span>
<span class="sd">    json_obj -&gt; 0</span>
<span class="sd">      value is not a valid integer (type=type_error.integer)</span>
<span class="sd">    json_obj -&gt; 1</span>
<span class="sd">      value is not a valid integer (type=type_error.integer)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Json</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">AnyJsonModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">json_obj</span><span class="p">:</span> <span class="n">Json</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">ConstrainedJsonModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">json_obj</span><span class="p">:</span> <span class="n">Json</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>


<span class="nb">print</span><span class="p">(</span><span class="n">AnyJsonModel</span><span class="p">(</span><span class="n">json_obj</span><span class="o">=</span><span class="s1">&#39;{&quot;b&quot;: 1}&#39;</span><span class="p">))</span>
<span class="c1">#&gt; json_obj={&#39;b&#39;: 1}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ConstrainedJsonModel</span><span class="p">(</span><span class="n">json_obj</span><span class="o">=</span><span class="s1">&#39;[1, 2, 3]&#39;</span><span class="p">))</span>
<span class="c1">#&gt; json_obj=[1, 2, 3]</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">ConstrainedJsonModel</span><span class="p">(</span><span class="n">json_obj</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for ConstrainedJsonModel</span>
<span class="sd">    json_obj</span>
<span class="sd">      JSON object must be str, bytes or bytearray (type=type_error.json)</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">ConstrainedJsonModel</span><span class="p">(</span><span class="n">json_obj</span><span class="o">=</span><span class="s1">&#39;[a, b]&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for ConstrainedJsonModel</span>
<span class="sd">    json_obj</span>
<span class="sd">      Invalid JSON (type=value_error.json)</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">ConstrainedJsonModel</span><span class="p">(</span><span class="n">json_obj</span><span class="o">=</span><span class="s1">&#39;[&quot;a&quot;, &quot;b&quot;]&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    2 validation errors for ConstrainedJsonModel</span>
<span class="sd">    json_obj -&gt; 0</span>
<span class="sd">      value is not a valid integer (type=type_error.integer)</span>
<span class="sd">    json_obj -&gt; 1</span>
<span class="sd">      value is not a valid integer (type=type_error.integer)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h3 id="payment-card-numbers">Payment Card Numbers<a class="headerlink" href="#payment-card-numbers" title="Permanent link">&para;</a></h3>
<p>The <code>PaymentCardNumber</code> type validates <a href="https://en.wikipedia.org/wiki/Payment_card">payment cards</a>
(such as a debit or credit card).</p>
<div class="tabbed-set tabbed-alternate" data-tabs="26:1"><input checked="checked" id="__tabbed_26_1" name="__tabbed_26" type="radio" /><div class="tabbed-labels"><label for="__tabbed_26_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>
<span class="kn">from</span> <span class="nn">pydantic.types</span> <span class="kn">import</span> <span class="n">PaymentCardBrand</span><span class="p">,</span> <span class="n">PaymentCardNumber</span><span class="p">,</span> <span class="n">constr</span>


<span class="k">class</span> <span class="nc">Card</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">constr</span><span class="p">(</span><span class="n">strip_whitespace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">number</span><span class="p">:</span> <span class="n">PaymentCardNumber</span>
    <span class="n">exp</span><span class="p">:</span> <span class="n">date</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">brand</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PaymentCardBrand</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="o">.</span><span class="n">brand</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">expired</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp</span> <span class="o">&lt;</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>


<span class="n">card</span> <span class="o">=</span> <span class="n">Card</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Georg Wilhelm Friedrich Hegel&#39;</span><span class="p">,</span>
    <span class="n">number</span><span class="o">=</span><span class="s1">&#39;4000000000000002&#39;</span><span class="p">,</span>
    <span class="n">exp</span><span class="o">=</span><span class="n">date</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span>
<span class="p">)</span>

<span class="k">assert</span> <span class="n">card</span><span class="o">.</span><span class="n">number</span><span class="o">.</span><span class="n">brand</span> <span class="o">==</span> <span class="n">PaymentCardBrand</span><span class="o">.</span><span class="n">visa</span>
<span class="k">assert</span> <span class="n">card</span><span class="o">.</span><span class="n">number</span><span class="o">.</span><span class="n">bin</span> <span class="o">==</span> <span class="s1">&#39;400000&#39;</span>
<span class="k">assert</span> <span class="n">card</span><span class="o">.</span><span class="n">number</span><span class="o">.</span><span class="n">last4</span> <span class="o">==</span> <span class="s1">&#39;0002&#39;</span>
<span class="k">assert</span> <span class="n">card</span><span class="o">.</span><span class="n">number</span><span class="o">.</span><span class="n">masked</span> <span class="o">==</span> <span class="s1">&#39;400000******0002&#39;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<p><code>PaymentCardBrand</code> can be one of the following based on the BIN:</p>
<ul>
<li><code>PaymentCardBrand.amex</code></li>
<li><code>PaymentCardBrand.mastercard</code></li>
<li><code>PaymentCardBrand.visa</code></li>
<li><code>PaymentCardBrand.other</code></li>
</ul>
<p>The actual validation verifies the card number is:</p>
<ul>
<li>a <code>str</code> of only digits</li>
<li><a href="https://en.wikipedia.org/wiki/Luhn_algorithm">luhn</a> valid</li>
<li>the correct length based on the BIN, if Amex, Mastercard or Visa, and between
  12 and 19 digits for all other brands</li>
</ul>
<h2 id="constrained-types">Constrained Types<a class="headerlink" href="#constrained-types" title="Permanent link">&para;</a></h2>
<p>The value of numerous common types can be restricted using <code>con*</code> type functions:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="27:1"><input checked="checked" id="__tabbed_27_1" name="__tabbed_27" type="radio" /><div class="tabbed-labels"><label for="__tabbed_27_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">decimal</span> <span class="kn">import</span> <span class="n">Decimal</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">BaseModel</span><span class="p">,</span>
    <span class="n">NegativeFloat</span><span class="p">,</span>
    <span class="n">NegativeInt</span><span class="p">,</span>
    <span class="n">PositiveFloat</span><span class="p">,</span>
    <span class="n">PositiveInt</span><span class="p">,</span>
    <span class="n">NonNegativeFloat</span><span class="p">,</span>
    <span class="n">NonNegativeInt</span><span class="p">,</span>
    <span class="n">NonPositiveFloat</span><span class="p">,</span>
    <span class="n">NonPositiveInt</span><span class="p">,</span>
    <span class="n">conbytes</span><span class="p">,</span>
    <span class="n">condecimal</span><span class="p">,</span>
    <span class="n">confloat</span><span class="p">,</span>
    <span class="n">conint</span><span class="p">,</span>
    <span class="n">conlist</span><span class="p">,</span>
    <span class="n">conset</span><span class="p">,</span>
    <span class="n">constr</span><span class="p">,</span>
    <span class="n">Field</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">upper_bytes</span><span class="p">:</span> <span class="n">conbytes</span><span class="p">(</span><span class="n">to_upper</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">lower_bytes</span><span class="p">:</span> <span class="n">conbytes</span><span class="p">(</span><span class="n">to_lower</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">short_bytes</span><span class="p">:</span> <span class="n">conbytes</span><span class="p">(</span><span class="n">min_length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">strip_bytes</span><span class="p">:</span> <span class="n">conbytes</span><span class="p">(</span><span class="n">strip_whitespace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">upper_str</span><span class="p">:</span> <span class="n">constr</span><span class="p">(</span><span class="n">to_upper</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">lower_str</span><span class="p">:</span> <span class="n">constr</span><span class="p">(</span><span class="n">to_lower</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">short_str</span><span class="p">:</span> <span class="n">constr</span><span class="p">(</span><span class="n">min_length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">regex_str</span><span class="p">:</span> <span class="n">constr</span><span class="p">(</span><span class="n">regex</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;^apple (pie|tart|sandwich)$&#39;</span><span class="p">)</span>
    <span class="n">strip_str</span><span class="p">:</span> <span class="n">constr</span><span class="p">(</span><span class="n">strip_whitespace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">big_int</span><span class="p">:</span> <span class="n">conint</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">lt</span><span class="o">=</span><span class="mi">1024</span><span class="p">)</span>
    <span class="n">mod_int</span><span class="p">:</span> <span class="n">conint</span><span class="p">(</span><span class="n">multiple_of</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">pos_int</span><span class="p">:</span> <span class="n">PositiveInt</span>
    <span class="n">neg_int</span><span class="p">:</span> <span class="n">NegativeInt</span>
    <span class="n">non_neg_int</span><span class="p">:</span> <span class="n">NonNegativeInt</span>
    <span class="n">non_pos_int</span><span class="p">:</span> <span class="n">NonPositiveInt</span>

    <span class="n">big_float</span><span class="p">:</span> <span class="n">confloat</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">lt</span><span class="o">=</span><span class="mi">1024</span><span class="p">)</span>
    <span class="n">unit_interval</span><span class="p">:</span> <span class="n">confloat</span><span class="p">(</span><span class="n">ge</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">le</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">mod_float</span><span class="p">:</span> <span class="n">confloat</span><span class="p">(</span><span class="n">multiple_of</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">pos_float</span><span class="p">:</span> <span class="n">PositiveFloat</span>
    <span class="n">neg_float</span><span class="p">:</span> <span class="n">NegativeFloat</span>
    <span class="n">non_neg_float</span><span class="p">:</span> <span class="n">NonNegativeFloat</span>
    <span class="n">non_pos_float</span><span class="p">:</span> <span class="n">NonPositiveFloat</span>

    <span class="n">short_list</span><span class="p">:</span> <span class="n">conlist</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">min_items</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_items</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">short_set</span><span class="p">:</span> <span class="n">conset</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">min_items</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_items</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

    <span class="n">decimal_positive</span><span class="p">:</span> <span class="n">condecimal</span><span class="p">(</span><span class="n">gt</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">decimal_negative</span><span class="p">:</span> <span class="n">condecimal</span><span class="p">(</span><span class="n">lt</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">decimal_max_digits_and_places</span><span class="p">:</span> <span class="n">condecimal</span><span class="p">(</span><span class="n">max_digits</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">mod_decimal</span><span class="p">:</span> <span class="n">condecimal</span><span class="p">(</span><span class="n">multiple_of</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;0.25&#39;</span><span class="p">))</span>

    <span class="n">bigger_int</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">gt</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<p>Where <code>Field</code> refers to the <a href="../schema/#field-customization">field function</a>.</p>
<h3 id="arguments-to-conlist">Arguments to <code>conlist</code><a class="headerlink" href="#arguments-to-conlist" title="Permanent link">&para;</a></h3>
<p>The following arguments are available when using the <code>conlist</code> type function</p>
<ul>
<li><code>item_type: Type[T]</code>: type of the list items</li>
<li><code>min_items: int = None</code>: minimum number of items in the list</li>
<li><code>max_items: int = None</code>: maximum number of items in the list</li>
<li><code>unique_items: bool = None</code>: enforces list elements to be unique</li>
</ul>
<h3 id="arguments-to-conset">Arguments to <code>conset</code><a class="headerlink" href="#arguments-to-conset" title="Permanent link">&para;</a></h3>
<p>The following arguments are available when using the <code>conset</code> type function</p>
<ul>
<li><code>item_type: Type[T]</code>: type of the set items</li>
<li><code>min_items: int = None</code>: minimum number of items in the set</li>
<li><code>max_items: int = None</code>: maximum number of items in the set</li>
</ul>
<h3 id="arguments-to-confrozenset">Arguments to <code>confrozenset</code><a class="headerlink" href="#arguments-to-confrozenset" title="Permanent link">&para;</a></h3>
<p>The following arguments are available when using the <code>confrozenset</code> type function</p>
<ul>
<li><code>item_type: Type[T]</code>: type of the frozenset items</li>
<li><code>min_items: int = None</code>: minimum number of items in the frozenset</li>
<li><code>max_items: int = None</code>: maximum number of items in the frozenset</li>
</ul>
<h3 id="arguments-to-conint">Arguments to <code>conint</code><a class="headerlink" href="#arguments-to-conint" title="Permanent link">&para;</a></h3>
<p>The following arguments are available when using the <code>conint</code> type function</p>
<ul>
<li><code>strict: bool = False</code>: controls type coercion</li>
<li><code>gt: int = None</code>: enforces integer to be greater than the set value</li>
<li><code>ge: int = None</code>: enforces integer to be greater than or equal to the set value</li>
<li><code>lt: int = None</code>: enforces integer to be less than the set value</li>
<li><code>le: int = None</code>: enforces integer to be less than or equal to the set value</li>
<li><code>multiple_of: int = None</code>: enforces integer to be a multiple of the set value</li>
</ul>
<h3 id="arguments-to-confloat">Arguments to <code>confloat</code><a class="headerlink" href="#arguments-to-confloat" title="Permanent link">&para;</a></h3>
<p>The following arguments are available when using the <code>confloat</code> type function</p>
<ul>
<li><code>strict: bool = False</code>: controls type coercion</li>
<li><code>gt: float = None</code>: enforces float to be greater than the set value</li>
<li><code>ge: float = None</code>: enforces float to be greater than or equal to the set value</li>
<li><code>lt: float = None</code>: enforces float to be less than the set value</li>
<li><code>le: float = None</code>: enforces float to be less than or equal to the set value</li>
<li><code>multiple_of: float = None</code>: enforces float to be a multiple of the set value</li>
<li><code>allow_inf_nan: bool = True</code>: whether to allows infinity (<code>+inf</code> an <code>-inf</code>) and NaN values, defaults to <code>True</code>,
  set to <code>False</code> for compatibility with <code>JSON</code>,
  see <a href="https://github.com/pydantic/pydantic/pull/3994">#3994</a> for more details, added in <strong>V1.10</strong></li>
</ul>
<h3 id="arguments-to-condecimal">Arguments to <code>condecimal</code><a class="headerlink" href="#arguments-to-condecimal" title="Permanent link">&para;</a></h3>
<p>The following arguments are available when using the <code>condecimal</code> type function</p>
<ul>
<li><code>gt: Decimal = None</code>: enforces decimal to be greater than the set value</li>
<li><code>ge: Decimal = None</code>: enforces decimal to be greater than or equal to the set value</li>
<li><code>lt: Decimal = None</code>: enforces decimal to be less than the set value</li>
<li><code>le: Decimal = None</code>: enforces decimal to be less than or equal to the set value</li>
<li><code>max_digits: int = None</code>: maximum number of digits within the decimal. it does not include a zero before the decimal point or trailing decimal zeroes</li>
<li><code>decimal_places: int = None</code>: max number of decimal places allowed. it does not include trailing decimal zeroes</li>
<li><code>multiple_of: Decimal = None</code>: enforces decimal to be a multiple of the set value</li>
</ul>
<h3 id="arguments-to-constr">Arguments to <code>constr</code><a class="headerlink" href="#arguments-to-constr" title="Permanent link">&para;</a></h3>
<p>The following arguments are available when using the <code>constr</code> type function</p>
<ul>
<li><code>strip_whitespace: bool = False</code>: removes leading and trailing whitespace</li>
<li><code>to_upper: bool = False</code>: turns all characters to uppercase</li>
<li><code>to_lower: bool = False</code>: turns all characters to lowercase</li>
<li><code>strict: bool = False</code>: controls type coercion</li>
<li><code>min_length: int = None</code>: minimum length of the string</li>
<li><code>max_length: int = None</code>: maximum length of the string</li>
<li><code>curtail_length: int = None</code>: shrinks the string length to the set value when it is longer than the set value</li>
<li><code>regex: str = None</code>: regex to validate the string against</li>
</ul>
<h3 id="arguments-to-conbytes">Arguments to <code>conbytes</code><a class="headerlink" href="#arguments-to-conbytes" title="Permanent link">&para;</a></h3>
<p>The following arguments are available when using the <code>conbytes</code> type function</p>
<ul>
<li><code>strip_whitespace: bool = False</code>: removes leading and trailing whitespace</li>
<li><code>to_upper: bool = False</code>: turns all characters to uppercase</li>
<li><code>to_lower: bool = False</code>: turns all characters to lowercase</li>
<li><code>min_length: int = None</code>: minimum length of the byte string</li>
<li><code>max_length: int = None</code>: maximum length of the byte string</li>
<li><code>strict: bool = False</code>: controls type coercion</li>
</ul>
<h3 id="arguments-to-condate">Arguments to <code>condate</code><a class="headerlink" href="#arguments-to-condate" title="Permanent link">&para;</a></h3>
<p>The following arguments are available when using the <code>condate</code> type function</p>
<ul>
<li><code>gt: date = None</code>: enforces date to be greater than the set value</li>
<li><code>ge: date = None</code>: enforces date to be greater than or equal to the set value</li>
<li><code>lt: date = None</code>: enforces date to be less than the set value</li>
<li><code>le: date = None</code>: enforces date to be less than or equal to the set value</li>
</ul>
<h2 id="strict-types">Strict Types<a class="headerlink" href="#strict-types" title="Permanent link">&para;</a></h2>
<p>You can use the <code>StrictStr</code>, <code>StrictBytes</code>, <code>StrictInt</code>, <code>StrictFloat</code>, and <code>StrictBool</code> types
to prevent coercion from compatible types.
These types will only pass validation when the validated value is of the respective type or is a subtype of that type.
This behavior is also exposed via the <code>strict</code> field of the <code>ConstrainedStr</code>, <code>ConstrainedBytes</code>,
<code>ConstrainedFloat</code> and <code>ConstrainedInt</code> classes and can be combined with a multitude of complex validation rules.</p>
<p>The following caveats apply:</p>
<ul>
<li><code>StrictBytes</code> (and the <code>strict</code> option of <code>ConstrainedBytes</code>) will accept both <code>bytes</code>,
   and <code>bytearray</code> types.</li>
<li><code>StrictInt</code> (and the <code>strict</code> option of <code>ConstrainedInt</code>) will not accept <code>bool</code> types,
    even though <code>bool</code> is a subclass of <code>int</code> in Python. Other subclasses will work.</li>
<li><code>StrictFloat</code> (and the <code>strict</code> option of <code>ConstrainedFloat</code>) will not accept <code>int</code>.</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="28:1"><input checked="checked" id="__tabbed_28_1" name="__tabbed_28" type="radio" /><div class="tabbed-labels"><label for="__tabbed_28_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">BaseModel</span><span class="p">,</span>
    <span class="n">StrictBytes</span><span class="p">,</span>
    <span class="n">StrictBool</span><span class="p">,</span>
    <span class="n">StrictInt</span><span class="p">,</span>
    <span class="n">ValidationError</span><span class="p">,</span>
    <span class="n">confloat</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">class</span> <span class="nc">StrictBytesModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">strict_bytes</span><span class="p">:</span> <span class="n">StrictBytes</span>


<span class="k">try</span><span class="p">:</span>
    <span class="n">StrictBytesModel</span><span class="p">(</span><span class="n">strict_bytes</span><span class="o">=</span><span class="s1">&#39;hello world&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for StrictBytesModel</span>
<span class="sd">    strict_bytes</span>
<span class="sd">      byte type expected (type=type_error.bytes)</span>
<span class="sd">    &quot;&quot;&quot;</span>


<span class="k">class</span> <span class="nc">StrictIntModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">strict_int</span><span class="p">:</span> <span class="n">StrictInt</span>


<span class="k">try</span><span class="p">:</span>
    <span class="n">StrictIntModel</span><span class="p">(</span><span class="n">strict_int</span><span class="o">=</span><span class="mf">3.14159</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for StrictIntModel</span>
<span class="sd">    strict_int</span>
<span class="sd">      value is not a valid integer (type=type_error.integer)</span>
<span class="sd">    &quot;&quot;&quot;</span>


<span class="k">class</span> <span class="nc">ConstrainedFloatModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">constrained_float</span><span class="p">:</span> <span class="n">confloat</span><span class="p">(</span><span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ge</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>


<span class="k">try</span><span class="p">:</span>
    <span class="n">ConstrainedFloatModel</span><span class="p">(</span><span class="n">constrained_float</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for ConstrainedFloatModel</span>
<span class="sd">    constrained_float</span>
<span class="sd">      value is not a valid float (type=type_error.float)</span>
<span class="sd">    &quot;&quot;&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">ConstrainedFloatModel</span><span class="p">(</span><span class="n">constrained_float</span><span class="o">=-</span><span class="mf">1.23</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for ConstrainedFloatModel</span>
<span class="sd">    constrained_float</span>
<span class="sd">      ensure this value is greater than or equal to 0.0</span>
<span class="sd">    (type=value_error.number.not_ge; limit_value=0.0)</span>
<span class="sd">    &quot;&quot;&quot;</span>


<span class="k">class</span> <span class="nc">StrictBoolModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">strict_bool</span><span class="p">:</span> <span class="n">StrictBool</span>


<span class="k">try</span><span class="p">:</span>
    <span class="n">StrictBoolModel</span><span class="p">(</span><span class="n">strict_bool</span><span class="o">=</span><span class="s1">&#39;False&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for StrictBoolModel</span>
<span class="sd">    strict_bool</span>
<span class="sd">      value is not a valid boolean (type=value_error.strictbool)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h2 id="bytesize">ByteSize<a class="headerlink" href="#bytesize" title="Permanent link">&para;</a></h2>
<p>You can use the <code>ByteSize</code> data type to convert byte string representation to
raw bytes and print out human readable versions of the bytes as well.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Note that <code>1b</code> will be parsed as "1 byte" and not "1 bit".</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="29:1"><input checked="checked" id="__tabbed_29_1" name="__tabbed_29" type="radio" /><div class="tabbed-labels"><label for="__tabbed_29_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ByteSize</span>


<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">size</span><span class="p">:</span> <span class="n">ByteSize</span>


<span class="nb">print</span><span class="p">(</span><span class="n">MyModel</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">52000</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="c1">#&gt; 52000</span>
<span class="nb">print</span><span class="p">(</span><span class="n">MyModel</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s1">&#39;3000 KiB&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="c1">#&gt; 3072000</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s1">&#39;50 PB&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">human_readable</span><span class="p">())</span>
<span class="c1">#&gt; 44.4PiB</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">human_readable</span><span class="p">(</span><span class="n">decimal</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="c1">#&gt; 50.0PB</span>

<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s1">&#39;TiB&#39;</span><span class="p">))</span>
<span class="c1">#&gt; 45474.73508864641</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h2 id="custom-data-types">Custom Data Types<a class="headerlink" href="#custom-data-types" title="Permanent link">&para;</a></h2>
<p>You can also define your own custom data types. There are several ways to achieve it.</p>
<h3 id="classes-with-__get_validators__">Classes with <code>__get_validators__</code><a class="headerlink" href="#classes-with-__get_validators__" title="Permanent link">&para;</a></h3>
<p>You use a custom class with a classmethod <code>__get_validators__</code>. It will be called
to get validators to parse and validate the input data.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>These validators have the same semantics as in <a href="../validators/">Validators</a>, you can
declare a parameter <code>config</code>, <code>field</code>, etc.</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="30:1"><input checked="checked" id="__tabbed_30_1" name="__tabbed_30" type="radio" /><div class="tabbed-labels"><label for="__tabbed_30_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>

<span class="c1"># https://en.wikipedia.org/wiki/Postcodes_in_the_United_Kingdom#Validation</span>
<span class="n">post_code_regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
    <span class="sa">r</span><span class="s1">&#39;(?:&#39;</span>
    <span class="sa">r</span><span class="s1">&#39;([A-Z]{1,2}[0-9][A-Z0-9]?|ASCN|STHL|TDCU|BBND|[BFS]IQQ|PCRN|TKCA) ?&#39;</span>
    <span class="sa">r</span><span class="s1">&#39;([0-9][A-Z]</span><span class="si">{2}</span><span class="s1">)|&#39;</span>
    <span class="sa">r</span><span class="s1">&#39;(BFPO) ?([0-9]{1,4})|&#39;</span>
    <span class="sa">r</span><span class="s1">&#39;(KY[0-9]|MSR|VG|AI)[ -]?[0-9]</span><span class="si">{4}</span><span class="s1">|&#39;</span>
    <span class="sa">r</span><span class="s1">&#39;([A-Z]</span><span class="si">{2}</span><span class="s1">) ?([0-9]</span><span class="si">{2}</span><span class="s1">)|&#39;</span>
    <span class="sa">r</span><span class="s1">&#39;(GE) ?(CX)|&#39;</span>
    <span class="sa">r</span><span class="s1">&#39;(GIR) ?(0A</span><span class="si">{2}</span><span class="s1">)|&#39;</span>
    <span class="sa">r</span><span class="s1">&#39;(SAN) ?(TA1)&#39;</span>
    <span class="sa">r</span><span class="s1">&#39;)&#39;</span>
<span class="p">)</span>


<span class="k">class</span> <span class="nc">PostCode</span><span class="p">(</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Partial UK postcode validation. Note: this is just an example, and is not</span>
<span class="sd">    intended for use in production; in particular this does NOT guarantee</span>
<span class="sd">    a postcode exists, just that it has a valid format.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">__get_validators__</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="c1"># one or more validators may be yielded which will be called in the</span>
        <span class="c1"># order to validate the input, each validator will receive as an input</span>
        <span class="c1"># the value returned from the previous validator</span>
        <span class="k">yield</span> <span class="bp">cls</span><span class="o">.</span><span class="n">validate</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">__modify_schema__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">field_schema</span><span class="p">):</span>
        <span class="c1"># __modify_schema__ should mutate the dict it receives in place,</span>
        <span class="c1"># the returned value will be ignored</span>
        <span class="n">field_schema</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="c1"># simplified regex here for brevity, see the wikipedia link above</span>
            <span class="n">pattern</span><span class="o">=</span><span class="s1">&#39;^[A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]</span><span class="si">{2}</span><span class="s1">$&#39;</span><span class="p">,</span>
            <span class="c1"># some example postcodes</span>
            <span class="n">examples</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;SP11 9DG&#39;</span><span class="p">,</span> <span class="s1">&#39;w1j7bu&#39;</span><span class="p">],</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;string required&#39;</span><span class="p">)</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">post_code_regex</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">m</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;invalid postcode format&#39;</span><span class="p">)</span>
        <span class="c1"># you could also return a string here which would mean model.post_code</span>
        <span class="c1"># would be a string, pydantic won&#39;t care but you could end up with some</span>
        <span class="c1"># confusion since the value&#39;s type won&#39;t match the type annotation</span>
        <span class="c1"># exactly</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;PostCode(</span><span class="si">{</span><span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span><span class="si">}</span><span class="s1">)&#39;</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">post_code</span><span class="p">:</span> <span class="n">PostCode</span>


<span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">post_code</span><span class="o">=</span><span class="s1">&#39;sw8 5el&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="c1">#&gt; post_code=PostCode(&#39;SW8 5EL&#39;)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">post_code</span><span class="p">)</span>
<span class="c1">#&gt; SW8 5EL</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="o">.</span><span class="n">schema</span><span class="p">())</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">{</span>
<span class="sd">    &#39;title&#39;: &#39;Model&#39;,</span>
<span class="sd">    &#39;type&#39;: &#39;object&#39;,</span>
<span class="sd">    &#39;properties&#39;: {</span>
<span class="sd">        &#39;post_code&#39;: {</span>
<span class="sd">            &#39;title&#39;: &#39;Post Code&#39;,</span>
<span class="sd">            &#39;pattern&#39;: &#39;^[A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}$&#39;,</span>
<span class="sd">            &#39;examples&#39;: [&#39;SP11 9DG&#39;, &#39;w1j7bu&#39;],</span>
<span class="sd">            &#39;type&#39;: &#39;string&#39;,</span>
<span class="sd">        },</span>
<span class="sd">    },</span>
<span class="sd">    &#39;required&#39;: [&#39;post_code&#39;],</span>
<span class="sd">}</span>
<span class="sd">&quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<p>Similar validation could be achieved using <a href="#constrained-types"><code>constr(regex=...)</code></a> except the value won't be
formatted with a space, the schema would just include the full pattern and the returned value would be a vanilla string.</p>
<p>See <a href="../schema/">schema</a> for more details on how the model's schema is generated.</p>
<h3 id="arbitrary-types-allowed">Arbitrary Types Allowed<a class="headerlink" href="#arbitrary-types-allowed" title="Permanent link">&para;</a></h3>
<p>You can allow arbitrary types using the <code>arbitrary_types_allowed</code> config in the
<a href="../model_config/">Model Config</a>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="31:1"><input checked="checked" id="__tabbed_31_1" name="__tabbed_31" type="radio" /><div class="tabbed-labels"><label for="__tabbed_31_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="c1"># This is not a pydantic model, it&#39;s an arbitrary class</span>
<span class="k">class</span> <span class="nc">Pet</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">pet</span><span class="p">:</span> <span class="n">Pet</span>
    <span class="n">owner</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">arbitrary_types_allowed</span> <span class="o">=</span> <span class="kc">True</span>


<span class="n">pet</span> <span class="o">=</span> <span class="n">Pet</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Hedwig&#39;</span><span class="p">)</span>
<span class="c1"># A simple check of instance type is used to validate the data</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">owner</span><span class="o">=</span><span class="s1">&#39;Harry&#39;</span><span class="p">,</span> <span class="n">pet</span><span class="o">=</span><span class="n">pet</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="c1">#&gt; pet=&lt;types_arbitrary_allowed.Pet object at 0x7f449e00b4c0&gt; owner=&#39;Harry&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">pet</span><span class="p">)</span>
<span class="c1">#&gt; &lt;types_arbitrary_allowed.Pet object at 0x7f449e00b4c0&gt;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">pet</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="c1">#&gt; Hedwig</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">pet</span><span class="p">))</span>
<span class="c1">#&gt; &lt;class &#39;types_arbitrary_allowed.Pet&#39;&gt;</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># If the value is not an instance of the type, it&#39;s invalid</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">owner</span><span class="o">=</span><span class="s1">&#39;Harry&#39;</span><span class="p">,</span> <span class="n">pet</span><span class="o">=</span><span class="s1">&#39;Hedwig&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Model</span>
<span class="sd">    pet</span>
<span class="sd">      instance of Pet expected (type=type_error.arbitrary_type;</span>
<span class="sd">    expected_arbitrary_type=Pet)</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="c1"># Nothing in the instance of the arbitrary type is checked</span>
<span class="c1"># Here name probably should have been a str, but it&#39;s not validated</span>
<span class="n">pet2</span> <span class="o">=</span> <span class="n">Pet</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">model2</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">owner</span><span class="o">=</span><span class="s1">&#39;Harry&#39;</span><span class="p">,</span> <span class="n">pet</span><span class="o">=</span><span class="n">pet2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model2</span><span class="p">)</span>
<span class="c1">#&gt; pet=&lt;types_arbitrary_allowed.Pet object at 0x7f449e0099f0&gt; owner=&#39;Harry&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model2</span><span class="o">.</span><span class="n">pet</span><span class="p">)</span>
<span class="c1">#&gt; &lt;types_arbitrary_allowed.Pet object at 0x7f449e0099f0&gt;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model2</span><span class="o">.</span><span class="n">pet</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="c1">#&gt; 42</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">model2</span><span class="o">.</span><span class="n">pet</span><span class="p">))</span>
<span class="c1">#&gt; &lt;class &#39;types_arbitrary_allowed.Pet&#39;&gt;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>
<h3 id="generic-classes-as-types">Generic Classes as Types<a class="headerlink" href="#generic-classes-as-types" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an advanced technique that you might not need in the beginning. In most of
the cases you will probably be fine with standard <em>pydantic</em> models.</p>
</div>
<p>You can use
<a href="https://docs.python.org/3/library/typing.html#typing.Generic">Generic Classes</a> as
field types and perform custom validation based on the "type parameters" (or sub-types)
with <code>__get_validators__</code>.</p>
<p>If the Generic class that you are using as a sub-type has a classmethod
<code>__get_validators__</code> you don't need to use <code>arbitrary_types_allowed</code> for it to work.</p>
<p>Because you can declare validators that receive the current <code>field</code>, you can extract
the <code>sub_fields</code> (from the generic class type parameters) and validate data with them.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="32:1"><input checked="checked" id="__tabbed_32_1" name="__tabbed_32" type="radio" /><div class="tabbed-labels"><label for="__tabbed_32_1">Python 3.7 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>
<span class="kn">from</span> <span class="nn">pydantic.fields</span> <span class="kn">import</span> <span class="n">ModelField</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Generic</span>

<span class="n">AgedType</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;AgedType&#39;</span><span class="p">)</span>
<span class="n">QualityType</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;QualityType&#39;</span><span class="p">)</span>


<span class="c1"># This is not a pydantic model, it&#39;s an arbitrary generic class</span>
<span class="k">class</span> <span class="nc">TastingModel</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">AgedType</span><span class="p">,</span> <span class="n">QualityType</span><span class="p">]):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">aged</span><span class="p">:</span> <span class="n">AgedType</span><span class="p">,</span> <span class="n">quality</span><span class="p">:</span> <span class="n">QualityType</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aged</span> <span class="o">=</span> <span class="n">aged</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quality</span> <span class="o">=</span> <span class="n">quality</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">__get_validators__</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">yield</span> <span class="bp">cls</span><span class="o">.</span><span class="n">validate</span>

    <span class="nd">@classmethod</span>
    <span class="c1"># You don&#39;t need to add the &quot;ModelField&quot;, but it will help your</span>
    <span class="c1"># editor give you completion and catch errors</span>
    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="n">ModelField</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="c1"># The value is not even a TastingModel</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Invalid value&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">field</span><span class="o">.</span><span class="n">sub_fields</span><span class="p">:</span>
            <span class="c1"># Generic parameters were not provided so we don&#39;t try to validate</span>
            <span class="c1"># them and just return the value as is</span>
            <span class="k">return</span> <span class="n">v</span>
        <span class="n">aged_f</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">sub_fields</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">quality_f</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">sub_fields</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># Here we don&#39;t need the validated value, but we want the errors</span>
        <span class="n">valid_value</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="n">aged_f</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">aged</span><span class="p">,</span> <span class="p">{},</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;aged&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="c1"># Here we don&#39;t need the validated value, but we want the errors</span>
        <span class="n">valid_value</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="n">quality_f</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">quality</span><span class="p">,</span> <span class="p">{},</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;quality&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">errors</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="n">errors</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span>
        <span class="c1"># Validation passed without errors, return the same instance received</span>
        <span class="k">return</span> <span class="n">v</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="c1"># for wine, &quot;aged&quot; is an int with years, &quot;quality&quot; is a float</span>
    <span class="n">wine</span><span class="p">:</span> <span class="n">TastingModel</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
    <span class="c1"># for cheese, &quot;aged&quot; is a bool, &quot;quality&quot; is a str</span>
    <span class="n">cheese</span><span class="p">:</span> <span class="n">TastingModel</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
    <span class="c1"># for thing, &quot;aged&quot; is a Any, &quot;quality&quot; is Any</span>
    <span class="n">thing</span><span class="p">:</span> <span class="n">TastingModel</span>


<span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span>
    <span class="c1"># This wine was aged for 20 years and has a quality of 85.6</span>
    <span class="n">wine</span><span class="o">=</span><span class="n">TastingModel</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Cabernet Sauvignon&#39;</span><span class="p">,</span> <span class="n">aged</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="mf">85.6</span><span class="p">),</span>
    <span class="c1"># This cheese is aged (is mature) and has &quot;Good&quot; quality</span>
    <span class="n">cheese</span><span class="o">=</span><span class="n">TastingModel</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Gouda&#39;</span><span class="p">,</span> <span class="n">aged</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="s1">&#39;Good&#39;</span><span class="p">),</span>
    <span class="c1"># This Python thing has aged &quot;Not much&quot; and has a quality &quot;Awesome&quot;</span>
    <span class="n">thing</span><span class="o">=</span><span class="n">TastingModel</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="n">aged</span><span class="o">=</span><span class="s1">&#39;Not much&#39;</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="s1">&#39;Awesome&#39;</span><span class="p">),</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">wine=&lt;types_generics.TastingModel object at 0x7f449e487250&gt;</span>
<span class="sd">cheese=&lt;types_generics.TastingModel object at 0x7f449e487940&gt;</span>
<span class="sd">thing=&lt;types_generics.TastingModel object at 0x7f449e4870d0&gt;</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">wine</span><span class="o">.</span><span class="n">aged</span><span class="p">)</span>
<span class="c1">#&gt; 20</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">wine</span><span class="o">.</span><span class="n">quality</span><span class="p">)</span>
<span class="c1">#&gt; 85.6</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">cheese</span><span class="o">.</span><span class="n">aged</span><span class="p">)</span>
<span class="c1">#&gt; True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">cheese</span><span class="o">.</span><span class="n">quality</span><span class="p">)</span>
<span class="c1">#&gt; Good</span>
<span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">thing</span><span class="o">.</span><span class="n">aged</span><span class="p">)</span>
<span class="c1">#&gt; Not much</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># If the values of the sub-types are invalid, we get an error</span>
    <span class="n">Model</span><span class="p">(</span>
        <span class="c1"># For wine, aged should be an int with the years, and quality a float</span>
        <span class="n">wine</span><span class="o">=</span><span class="n">TastingModel</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Merlot&#39;</span><span class="p">,</span> <span class="n">aged</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="s1">&#39;Kinda good&#39;</span><span class="p">),</span>
        <span class="c1"># For cheese, aged should be a bool, and quality a str</span>
        <span class="n">cheese</span><span class="o">=</span><span class="n">TastingModel</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Gouda&#39;</span><span class="p">,</span> <span class="n">aged</span><span class="o">=</span><span class="s1">&#39;yeah&#39;</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="mi">5</span><span class="p">),</span>
        <span class="c1"># For thing, no type parameters are declared, and we skipped validation</span>
        <span class="c1"># in those cases in the Assessment.validate() function</span>
        <span class="n">thing</span><span class="o">=</span><span class="n">TastingModel</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="n">aged</span><span class="o">=</span><span class="s1">&#39;Not much&#39;</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="s1">&#39;Awesome&#39;</span><span class="p">),</span>
    <span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    2 validation errors for Model</span>
<span class="sd">    wine -&gt; quality</span>
<span class="sd">      value is not a valid float (type=type_error.float)</span>
<span class="sd">    cheese -&gt; aged</span>
<span class="sd">      value could not be parsed to a boolean (type=type_error.bool)</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<p><em>(This script is complete, it should run "as is")</em></p>












                
  <script src="/flarelytics/client.js"></script>

              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.tabs.link", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../extra/redirects.js"></script>
      
    
  </body>
</html>